(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Mg(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}function uu(e){if(Ne(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Ft(r)?IP(r):uu(r);if(o)for(const s in o)t[s]=o[s]}return t}else{if(Ft(e))return e;if(pt(e))return e}}const wP=/;(?![^(]*\))/g,bP=/:([^]+)/,EP=/\/\*.*?\*\//gs;function IP(e){const t={};return e.replace(EP,"").split(wP).forEach(n=>{if(n){const r=n.split(bP);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Cn(e){let t="";if(Ft(e))t=e;else if(Ne(e))for(let n=0;n<e.length;n++){const r=Cn(e[n]);r&&(t+=r+" ")}else if(pt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const TP="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",SP=Mg(TP);function hS(e){return!!e||e===""}function AP(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=yh(e[r],t[r]);return n}function yh(e,t){if(e===t)return!0;let n=vE(e),r=vE(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ec(e),r=ec(t),n||r)return e===t;if(n=Ne(e),r=Ne(t),n||r)return n&&r?AP(e,t):!1;if(n=pt(e),r=pt(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const a in e){const l=e.hasOwnProperty(a),f=t.hasOwnProperty(a);if(l&&!f||!l&&f||!yh(e[a],t[a]))return!1}}return String(e)===String(t)}function kP(e,t){return e.findIndex(n=>yh(n,t))}const Bt=e=>Ft(e)?e:e==null?"":Ne(e)||pt(e)&&(e.toString===mS||!Be(e.toString))?JSON.stringify(e,dS,2):String(e),dS=(e,t)=>t&&t.__v_isRef?dS(e,t.value):ru(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:wh(t)?{[`Set(${t.size})`]:[...t.values()]}:pt(t)&&!Ne(t)&&!vS(t)?String(t):t,yt={},nu=[],Ar=()=>{},CP=()=>!1,OP=/^on[^a-z]/,_h=e=>OP.test(e),Fg=e=>e.startsWith("onUpdate:"),cn=Object.assign,Vg=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},NP=Object.prototype.hasOwnProperty,Qe=(e,t)=>NP.call(e,t),Ne=Array.isArray,ru=e=>Ac(e)==="[object Map]",wh=e=>Ac(e)==="[object Set]",vE=e=>Ac(e)==="[object Date]",Be=e=>typeof e=="function",Ft=e=>typeof e=="string",ec=e=>typeof e=="symbol",pt=e=>e!==null&&typeof e=="object",pS=e=>pt(e)&&Be(e.then)&&Be(e.catch),mS=Object.prototype.toString,Ac=e=>mS.call(e),RP=e=>Ac(e).slice(8,-1),vS=e=>Ac(e)==="[object Object]",jg=e=>Ft(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ef=Mg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},xP=/-(\w)/g,Yr=bh(e=>e.replace(xP,(t,n)=>n?n.toUpperCase():"")),PP=/\B([A-Z])/g,Pu=bh(e=>e.replace(PP,"-$1").toLowerCase()),Eh=bh(e=>e.charAt(0).toUpperCase()+e.slice(1)),Qm=bh(e=>e?`on${Eh(e)}`:""),tc=(e,t)=>!Object.is(e,t),If=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Df=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},gS=e=>{const t=parseFloat(e);return isNaN(t)?e:t},DP=e=>{const t=Ft(e)?Number(e):NaN;return isNaN(t)?e:t};let gE;const LP=()=>gE||(gE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Qn;class yS{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Qn,!t&&Qn&&(this.index=(Qn.scopes||(Qn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Qn;try{return Qn=this,t()}finally{Qn=n}}}on(){Qn=this}off(){Qn=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function _S(e){return new yS(e)}function MP(e,t=Qn){t&&t.active&&t.effects.push(e)}function wS(){return Qn}function FP(e){Qn&&Qn.cleanups.push(e)}const Ug=e=>{const t=new Set(e);return t.w=0,t.n=0,t},bS=e=>(e.w&to)>0,ES=e=>(e.n&to)>0,VP=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=to},jP=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];bS(o)&&!ES(o)?o.delete(e):t[n++]=o,o.w&=~to,o.n&=~to}t.length=n}},Lf=new WeakMap;let Ma=0,to=1;const Cv=30;let Tr;const Yo=Symbol(""),Ov=Symbol("");class Bg{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,MP(this,r)}run(){if(!this.active)return this.fn();let t=Tr,n=zi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Tr,Tr=this,zi=!0,to=1<<++Ma,Ma<=Cv?VP(this):yE(this),this.fn()}finally{Ma<=Cv&&jP(this),to=1<<--Ma,Tr=this.parent,zi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Tr===this?this.deferStop=!0:this.active&&(yE(this),this.onStop&&this.onStop(),this.active=!1)}}function yE(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let zi=!0;const IS=[];function Du(){IS.push(zi),zi=!1}function Lu(){const e=IS.pop();zi=e===void 0?!0:e}function Bn(e,t,n){if(zi&&Tr){let r=Lf.get(e);r||Lf.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=Ug()),TS(o)}}function TS(e,t){let n=!1;Ma<=Cv?ES(e)||(e.n|=to,n=!bS(e)):n=!e.has(Tr),n&&(e.add(Tr),Tr.deps.push(e))}function mi(e,t,n,r,o,s){const a=Lf.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&Ne(e)){const f=Number(r);a.forEach((d,v)=>{(v==="length"||v>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":Ne(e)?jg(n)&&l.push(a.get("length")):(l.push(a.get(Yo)),ru(e)&&l.push(a.get(Ov)));break;case"delete":Ne(e)||(l.push(a.get(Yo)),ru(e)&&l.push(a.get(Ov)));break;case"set":ru(e)&&l.push(a.get(Yo));break}if(l.length===1)l[0]&&Nv(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);Nv(Ug(f))}}function Nv(e,t){const n=Ne(e)?e:[...e];for(const r of n)r.computed&&_E(r);for(const r of n)r.computed||_E(r)}function _E(e,t){(e!==Tr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function UP(e,t){var n;return(n=Lf.get(e))===null||n===void 0?void 0:n.get(t)}const BP=Mg("__proto__,__v_isRef,__isVue"),SS=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ec)),qP=qg(),$P=qg(!1,!0),HP=qg(!0),wE=KP();function KP(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Xe(this);for(let s=0,a=this.length;s<a;s++)Bn(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(Xe)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Du();const r=Xe(this)[t].apply(this,n);return Lu(),r}}),e}function GP(e){const t=Xe(this);return Bn(t,"has",e),t.hasOwnProperty(e)}function qg(e=!1,t=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?aD:NS:t?OS:CS).get(r))return r;const a=Ne(r);if(!e){if(a&&Qe(wE,o))return Reflect.get(wE,o,s);if(o==="hasOwnProperty")return GP}const l=Reflect.get(r,o,s);return(ec(o)?SS.has(o):BP(o))||(e||Bn(r,"get",o),t)?l:at(l)?a&&jg(o)?l:l.value:pt(l)?e?RS(l):mr(l):l}}const zP=AS(),WP=AS(!0);function AS(e=!1){return function(n,r,o,s){let a=n[r];if(au(a)&&at(a)&&!at(o))return!1;if(!e&&(!Mf(o)&&!au(o)&&(a=Xe(a),o=Xe(o)),!Ne(n)&&at(a)&&!at(o)))return a.value=o,!0;const l=Ne(n)&&jg(r)?Number(r)<n.length:Qe(n,r),f=Reflect.set(n,r,o,s);return n===Xe(s)&&(l?tc(o,a)&&mi(n,"set",r,o):mi(n,"add",r,o)),f}}function XP(e,t){const n=Qe(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&mi(e,"delete",t,void 0),r}function QP(e,t){const n=Reflect.has(e,t);return(!ec(t)||!SS.has(t))&&Bn(e,"has",t),n}function YP(e){return Bn(e,"iterate",Ne(e)?"length":Yo),Reflect.ownKeys(e)}const kS={get:qP,set:zP,deleteProperty:XP,has:QP,ownKeys:YP},JP={get:HP,set(e,t){return!0},deleteProperty(e,t){return!0}},ZP=cn({},kS,{get:$P,set:WP}),$g=e=>e,Ih=e=>Reflect.getPrototypeOf(e);function Zl(e,t,n=!1,r=!1){e=e.__v_raw;const o=Xe(e),s=Xe(t);n||(t!==s&&Bn(o,"get",t),Bn(o,"get",s));const{has:a}=Ih(o),l=r?$g:n?Gg:nc;if(a.call(o,t))return l(e.get(t));if(a.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function ef(e,t=!1){const n=this.__v_raw,r=Xe(n),o=Xe(e);return t||(e!==o&&Bn(r,"has",e),Bn(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function tf(e,t=!1){return e=e.__v_raw,!t&&Bn(Xe(e),"iterate",Yo),Reflect.get(e,"size",e)}function bE(e){e=Xe(e);const t=Xe(this);return Ih(t).has.call(t,e)||(t.add(e),mi(t,"add",e,e)),this}function EE(e,t){t=Xe(t);const n=Xe(this),{has:r,get:o}=Ih(n);let s=r.call(n,e);s||(e=Xe(e),s=r.call(n,e));const a=o.call(n,e);return n.set(e,t),s?tc(t,a)&&mi(n,"set",e,t):mi(n,"add",e,t),this}function IE(e){const t=Xe(this),{has:n,get:r}=Ih(t);let o=n.call(t,e);o||(e=Xe(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&mi(t,"delete",e,void 0),s}function TE(){const e=Xe(this),t=e.size!==0,n=e.clear();return t&&mi(e,"clear",void 0,void 0),n}function nf(e,t){return function(r,o){const s=this,a=s.__v_raw,l=Xe(a),f=t?$g:e?Gg:nc;return!e&&Bn(l,"iterate",Yo),a.forEach((d,v)=>r.call(o,f(d),f(v),s))}}function rf(e,t,n){return function(...r){const o=this.__v_raw,s=Xe(o),a=ru(s),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,d=o[e](...r),v=n?$g:t?Gg:nc;return!t&&Bn(s,"iterate",f?Ov:Yo),{next(){const{value:h,done:m}=d.next();return m?{value:h,done:m}:{value:l?[v(h[0]),v(h[1])]:v(h),done:m}},[Symbol.iterator](){return this}}}}function Ni(e){return function(...t){return e==="delete"?!1:this}}function eD(){const e={get(s){return Zl(this,s)},get size(){return tf(this)},has:ef,add:bE,set:EE,delete:IE,clear:TE,forEach:nf(!1,!1)},t={get(s){return Zl(this,s,!1,!0)},get size(){return tf(this)},has:ef,add:bE,set:EE,delete:IE,clear:TE,forEach:nf(!1,!0)},n={get(s){return Zl(this,s,!0)},get size(){return tf(this,!0)},has(s){return ef.call(this,s,!0)},add:Ni("add"),set:Ni("set"),delete:Ni("delete"),clear:Ni("clear"),forEach:nf(!0,!1)},r={get(s){return Zl(this,s,!0,!0)},get size(){return tf(this,!0)},has(s){return ef.call(this,s,!0)},add:Ni("add"),set:Ni("set"),delete:Ni("delete"),clear:Ni("clear"),forEach:nf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=rf(s,!1,!1),n[s]=rf(s,!0,!1),t[s]=rf(s,!1,!0),r[s]=rf(s,!0,!0)}),[e,n,t,r]}const[tD,nD,rD,iD]=eD();function Hg(e,t){const n=t?e?iD:rD:e?nD:tD;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(Qe(n,o)&&o in r?n:r,o,s)}const oD={get:Hg(!1,!1)},sD={get:Hg(!1,!0)},uD={get:Hg(!0,!1)},CS=new WeakMap,OS=new WeakMap,NS=new WeakMap,aD=new WeakMap;function cD(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function lD(e){return e.__v_skip||!Object.isExtensible(e)?0:cD(RP(e))}function mr(e){return au(e)?e:Kg(e,!1,kS,oD,CS)}function fD(e){return Kg(e,!1,ZP,sD,OS)}function RS(e){return Kg(e,!0,JP,uD,NS)}function Kg(e,t,n,r,o){if(!pt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const a=lD(e);if(a===0)return e;const l=new Proxy(e,a===2?r:n);return o.set(e,l),l}function Wi(e){return au(e)?Wi(e.__v_raw):!!(e&&e.__v_isReactive)}function au(e){return!!(e&&e.__v_isReadonly)}function Mf(e){return!!(e&&e.__v_isShallow)}function xS(e){return Wi(e)||au(e)}function Xe(e){const t=e&&e.__v_raw;return t?Xe(t):e}function no(e){return Df(e,"__v_skip",!0),e}const nc=e=>pt(e)?mr(e):e,Gg=e=>pt(e)?RS(e):e;function PS(e){zi&&Tr&&(e=Xe(e),TS(e.dep||(e.dep=Ug())))}function DS(e,t){e=Xe(e);const n=e.dep;n&&Nv(n)}function at(e){return!!(e&&e.__v_isRef===!0)}function _t(e){return LS(e,!1)}function hD(e){return LS(e,!0)}function LS(e,t){return at(e)?e:new dD(e,t)}class dD{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Xe(t),this._value=n?t:nc(t)}get value(){return PS(this),this._value}set value(t){const n=this.__v_isShallow||Mf(t)||au(t);t=n?t:Xe(t),tc(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:nc(t),DS(this))}}function G(e){return at(e)?e.value:e}const pD={get:(e,t,n)=>G(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return at(o)&&!at(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function MS(e){return Wi(e)?e:new Proxy(e,pD)}function mD(e){const t=Ne(e)?new Array(e.length):{};for(const n in e)t[n]=Gt(e,n);return t}class vD{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return UP(Xe(this._object),this._key)}}function Gt(e,t,n){const r=e[t];return at(r)?r:new vD(e,t,n)}var FS;class gD{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[FS]=!1,this._dirty=!0,this.effect=new Bg(t,()=>{this._dirty||(this._dirty=!0,DS(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=Xe(this);return PS(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}FS="__v_isReadonly";function yD(e,t,n=!1){let r,o;const s=Be(e);return s?(r=e,o=Ar):(r=e.get,o=e.set),new gD(r,o,s||!o,n)}function Xi(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){Th(s,t,n)}return o}function pr(e,t,n,r){if(Be(e)){const s=Xi(e,t,n,r);return s&&pS(s)&&s.catch(a=>{Th(a,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(pr(e[s],t,n,r));return o}function Th(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,l=n;for(;s;){const d=s.ec;if(d){for(let v=0;v<d.length;v++)if(d[v](e,a,l)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){Xi(f,null,10,[e,a,l]);return}}_D(e,n,o,r)}function _D(e,t,n,r=!0){console.error(e)}let rc=!1,Rv=!1;const mn=[];let zr=0;const iu=[];let ui=null,qo=0;const VS=Promise.resolve();let zg=null;function er(e){const t=zg||VS;return e?t.then(this?e.bind(this):e):t}function wD(e){let t=zr+1,n=mn.length;for(;t<n;){const r=t+n>>>1;ic(mn[r])<e?t=r+1:n=r}return t}function Wg(e){(!mn.length||!mn.includes(e,rc&&e.allowRecurse?zr+1:zr))&&(e.id==null?mn.push(e):mn.splice(wD(e.id),0,e),jS())}function jS(){!rc&&!Rv&&(Rv=!0,zg=VS.then(BS))}function bD(e){const t=mn.indexOf(e);t>zr&&mn.splice(t,1)}function ED(e){Ne(e)?iu.push(...e):(!ui||!ui.includes(e,e.allowRecurse?qo+1:qo))&&iu.push(e),jS()}function SE(e,t=rc?zr+1:0){for(;t<mn.length;t++){const n=mn[t];n&&n.pre&&(mn.splice(t,1),t--,n())}}function US(e){if(iu.length){const t=[...new Set(iu)];if(iu.length=0,ui){ui.push(...t);return}for(ui=t,ui.sort((n,r)=>ic(n)-ic(r)),qo=0;qo<ui.length;qo++)ui[qo]();ui=null,qo=0}}const ic=e=>e.id==null?1/0:e.id,ID=(e,t)=>{const n=ic(e)-ic(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function BS(e){Rv=!1,rc=!0,mn.sort(ID);const t=Ar;try{for(zr=0;zr<mn.length;zr++){const n=mn[zr];n&&n.active!==!1&&Xi(n,null,14)}}finally{zr=0,mn.length=0,US(),rc=!1,zg=null,(mn.length||iu.length)&&BS()}}function TD(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||yt;let o=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in r){const v=`${a==="modelValue"?"model":a}Modifiers`,{number:h,trim:m}=r[v]||yt;m&&(o=n.map(y=>Ft(y)?y.trim():y)),h&&(o=n.map(gS))}let l,f=r[l=Qm(t)]||r[l=Qm(Yr(t))];!f&&s&&(f=r[l=Qm(Pu(t))]),f&&pr(f,e,6,o);const d=r[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,pr(d,e,6,o)}}function qS(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let a={},l=!1;if(!Be(e)){const f=d=>{const v=qS(d,t,!0);v&&(l=!0,cn(a,v))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!l?(pt(e)&&r.set(e,null),null):(Ne(s)?s.forEach(f=>a[f]=null):cn(a,s),pt(e)&&r.set(e,a),a)}function Sh(e,t){return!e||!_h(t)?!1:(t=t.slice(2).replace(/Once$/,""),Qe(e,t[0].toLowerCase()+t.slice(1))||Qe(e,Pu(t))||Qe(e,t))}let tr=null,Ah=null;function Ff(e){const t=tr;return tr=e,Ah=e&&e.type.__scopeId||null,t}function SD(e){Ah=e}function AD(){Ah=null}function Vn(e,t=tr,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&LE(-1);const s=Ff(t);let a;try{a=e(...o)}finally{Ff(s),r._d&&LE(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Ym(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[a],slots:l,attrs:f,emit:d,render:v,renderCache:h,data:m,setupState:y,ctx:_,inheritAttrs:b}=e;let S,I;const R=Ff(e);try{if(n.shapeFlag&4){const U=o||r;S=Gr(v.call(U,U,h,s,y,m,_)),I=f}else{const U=t;S=Gr(U.length>1?U(s,{attrs:f,slots:l,emit:d}):U(s,null)),I=t.props?f:kD(f)}}catch(U){Ua.length=0,Th(U,e,1),S=Oe(kr)}let M=S;if(I&&b!==!1){const U=Object.keys(I),{shapeFlag:P}=M;U.length&&P&7&&(a&&U.some(Fg)&&(I=CD(I,a)),M=ro(M,I))}return n.dirs&&(M=ro(M),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&(M.transition=n.transition),S=M,Ff(R),S}const kD=e=>{let t;for(const n in e)(n==="class"||n==="style"||_h(n))&&((t||(t={}))[n]=e[n]);return t},CD=(e,t)=>{const n={};for(const r in e)(!Fg(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function OD(e,t,n){const{props:r,children:o,component:s}=e,{props:a,children:l,patchFlag:f}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?AE(r,a,d):!!a;if(f&8){const v=t.dynamicProps;for(let h=0;h<v.length;h++){const m=v[h];if(a[m]!==r[m]&&!Sh(d,m))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?AE(r,a,d):!0:!!a;return!1}function AE(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!Sh(n,s))return!0}return!1}function ND({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const RD=e=>e.__isSuspense;function xD(e,t){t&&t.pendingBranch?Ne(e)?t.effects.push(...e):t.effects.push(e):ED(e)}function Qi(e,t){if(Mt){let n=Mt.provides;const r=Mt.parent&&Mt.parent.provides;r===n&&(n=Mt.provides=Object.create(r)),n[e]=t}}function jn(e,t,n=!1){const r=Mt||tr;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Be(t)?t.call(r.proxy):t}}function $S(e,t){return Xg(e,null,t)}const of={};function it(e,t,n){return Xg(e,t,n)}function Xg(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:a}=yt){const l=wS()===(Mt==null?void 0:Mt.scope)?Mt:null;let f,d=!1,v=!1;if(at(e)?(f=()=>e.value,d=Mf(e)):Wi(e)?(f=()=>e,r=!0):Ne(e)?(v=!0,d=e.some(M=>Wi(M)||Mf(M)),f=()=>e.map(M=>{if(at(M))return M.value;if(Wi(M))return Go(M);if(Be(M))return Xi(M,l,2)})):Be(e)?t?f=()=>Xi(e,l,2):f=()=>{if(!(l&&l.isUnmounted))return h&&h(),pr(e,l,3,[m])}:f=Ar,t&&r){const M=f;f=()=>Go(M())}let h,m=M=>{h=I.onStop=()=>{Xi(M,l,4)}},y;if(sc)if(m=Ar,t?n&&pr(t,l,3,[f(),v?[]:void 0,m]):f(),o==="sync"){const M=IL();y=M.__watcherHandles||(M.__watcherHandles=[])}else return Ar;let _=v?new Array(e.length).fill(of):of;const b=()=>{if(I.active)if(t){const M=I.run();(r||d||(v?M.some((U,P)=>tc(U,_[P])):tc(M,_)))&&(h&&h(),pr(t,l,3,[M,_===of?void 0:v&&_[0]===of?[]:_,m]),_=M)}else I.run()};b.allowRecurse=!!t;let S;o==="sync"?S=b:o==="post"?S=()=>Ln(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),S=()=>Wg(b));const I=new Bg(f,S);t?n?b():_=I.run():o==="post"?Ln(I.run.bind(I),l&&l.suspense):I.run();const R=()=>{I.stop(),l&&l.scope&&Vg(l.scope.effects,I)};return y&&y.push(R),R}function PD(e,t,n){const r=this.proxy,o=Ft(e)?e.includes(".")?HS(r,e):()=>r[e]:e.bind(r,r);let s;Be(t)?s=t:(s=t.handler,n=t);const a=Mt;cu(this);const l=Xg(o,s.bind(r),n);return a?cu(a):Jo(),l}function HS(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function Go(e,t){if(!pt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),at(e))Go(e.value,t);else if(Ne(e))for(let n=0;n<e.length;n++)Go(e[n],t);else if(wh(e)||ru(e))e.forEach(n=>{Go(n,t)});else if(vS(e))for(const n in e)Go(e[n],t);return e}function DD(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Mu(()=>{e.isMounted=!0}),Fu(()=>{e.isUnmounting=!0}),e}const fr=[Function,Array],LD={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:fr,onEnter:fr,onAfterEnter:fr,onEnterCancelled:fr,onBeforeLeave:fr,onLeave:fr,onAfterLeave:fr,onLeaveCancelled:fr,onBeforeAppear:fr,onAppear:fr,onAfterAppear:fr,onAppearCancelled:fr},setup(e,{slots:t}){const n=uo(),r=DD();let o;return()=>{const s=t.default&&zS(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const b of s)if(b.type!==kr){a=b;break}}const l=Xe(e),{mode:f}=l;if(r.isLeaving)return Jm(a);const d=kE(a);if(!d)return Jm(a);const v=xv(d,l,r,n);Pv(d,v);const h=n.subTree,m=h&&kE(h);let y=!1;const{getTransitionKey:_}=d.type;if(_){const b=_();o===void 0?o=b:b!==o&&(o=b,y=!0)}if(m&&m.type!==kr&&(!$o(d,m)||y)){const b=xv(m,l,r,n);if(Pv(m,b),f==="out-in")return r.isLeaving=!0,b.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Jm(a);f==="in-out"&&d.type!==kr&&(b.delayLeave=(S,I,R)=>{const M=GS(r,m);M[String(m.key)]=m,S._leaveCb=()=>{I(),S._leaveCb=void 0,delete v.delayedLeave},v.delayedLeave=R})}return a}}},KS=LD;function GS(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function xv(e,t,n,r){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:d,onEnterCancelled:v,onBeforeLeave:h,onLeave:m,onAfterLeave:y,onLeaveCancelled:_,onBeforeAppear:b,onAppear:S,onAfterAppear:I,onAppearCancelled:R}=t,M=String(e.key),U=GS(n,e),P=(x,F)=>{x&&pr(x,r,9,F)},O=(x,F)=>{const A=F[1];P(x,F),Ne(x)?x.every(be=>be.length<=1)&&A():x.length<=1&&A()},j={mode:s,persisted:a,beforeEnter(x){let F=l;if(!n.isMounted)if(o)F=b||l;else return;x._leaveCb&&x._leaveCb(!0);const A=U[M];A&&$o(e,A)&&A.el._leaveCb&&A.el._leaveCb(),P(F,[x])},enter(x){let F=f,A=d,be=v;if(!n.isMounted)if(o)F=S||f,A=I||d,be=R||v;else return;let oe=!1;const we=x._enterCb=Ee=>{oe||(oe=!0,Ee?P(be,[x]):P(A,[x]),j.delayedLeave&&j.delayedLeave(),x._enterCb=void 0)};F?O(F,[x,we]):we()},leave(x,F){const A=String(e.key);if(x._enterCb&&x._enterCb(!0),n.isUnmounting)return F();P(h,[x]);let be=!1;const oe=x._leaveCb=we=>{be||(be=!0,F(),we?P(_,[x]):P(y,[x]),x._leaveCb=void 0,U[A]===e&&delete U[A])};U[A]=e,m?O(m,[x,oe]):oe()},clone(x){return xv(x,t,n,r)}};return j}function Jm(e){if(kh(e))return e=ro(e),e.children=null,e}function kE(e){return kh(e)?e.children?e.children[0]:void 0:e}function Pv(e,t){e.shapeFlag&6&&e.component?Pv(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function zS(e,t=!1,n){let r=[],o=0;for(let s=0;s<e.length;s++){let a=e[s];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===hn?(a.patchFlag&128&&o++,r=r.concat(zS(a.children,t,l))):(t||a.type!==kr)&&r.push(l!=null?ro(a,{key:l}):a)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function ei(e){return Be(e)?{setup:e,name:e.name}:e}const Tf=e=>!!e.type.__asyncLoader,kh=e=>e.type.__isKeepAlive;function MD(e,t){WS(e,"a",t)}function FD(e,t){WS(e,"da",t)}function WS(e,t,n=Mt){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Ch(t,r,n),n){let o=n.parent;for(;o&&o.parent;)kh(o.parent.vnode)&&VD(r,t,n,o),o=o.parent}}function VD(e,t,n,r){const o=Ch(t,e,r,!0);XS(()=>{Vg(r[t],o)},n)}function Ch(e,t,n=Mt,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Du(),cu(n);const l=pr(t,n,e,a);return Jo(),Lu(),l});return r?o.unshift(s):o.push(s),s}}const yi=e=>(t,n=Mt)=>(!sc||e==="sp")&&Ch(e,(...r)=>t(...r),n),jD=yi("bm"),Mu=yi("m"),UD=yi("bu"),BD=yi("u"),Fu=yi("bum"),XS=yi("um"),qD=yi("sp"),$D=yi("rtg"),HD=yi("rtc");function KD(e,t=Mt){Ch("ec",e,t)}function Vf(e,t){const n=tr;if(n===null)return e;const r=Rh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,l,f,d=yt]=t[s];a&&(Be(a)&&(a={mounted:a,updated:a}),a.deep&&Go(l),o.push({dir:a,instance:r,value:l,oldValue:void 0,arg:f,modifiers:d}))}return e}function Lo(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];s&&(l.oldValue=s[a].value);let f=l.dir[r];f&&(Du(),pr(f,n,8,[e.el,l,e,t]),Lu())}}const Qg="components";function At(e,t){return YS(Qg,e,!0,t)||e}const QS=Symbol();function ds(e){return Ft(e)?YS(Qg,e,!1)||e:e||QS}function YS(e,t,n=!0,r=!1){const o=tr||Mt;if(o){const s=o.type;if(e===Qg){const l=wL(s,!1);if(l&&(l===t||l===Yr(t)||l===Eh(Yr(t))))return s}const a=CE(o[e]||s[e],t)||CE(o.appContext[e],t);return!a&&r?s:a}}function CE(e,t){return e&&(e[t]||e[Yr(t)]||e[Eh(Yr(t))])}function kc(e,t,n,r){let o;const s=n&&n[r];if(Ne(e)||Ft(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,s&&s[a])}else if(pt(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=t(e[d],d,l,s&&s[l])}}else o=[];return n&&(n[r]=o),o}const Dv=e=>e?c1(e)?Rh(e)||e.proxy:Dv(e.parent):null,ja=cn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Dv(e.parent),$root:e=>Dv(e.root),$emit:e=>e.emit,$options:e=>Yg(e),$forceUpdate:e=>e.f||(e.f=()=>Wg(e.update)),$nextTick:e=>e.n||(e.n=er.bind(e.proxy)),$watch:e=>PD.bind(e)}),Zm=(e,t)=>e!==yt&&!e.__isScriptSetup&&Qe(e,t),GD={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:a,type:l,appContext:f}=e;let d;if(t[0]!=="$"){const y=a[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(Zm(r,t))return a[t]=1,r[t];if(o!==yt&&Qe(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&Qe(d,t))return a[t]=3,s[t];if(n!==yt&&Qe(n,t))return a[t]=4,n[t];Lv&&(a[t]=0)}}const v=ja[t];let h,m;if(v)return t==="$attrs"&&Bn(e,"get",t),v(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==yt&&Qe(n,t))return a[t]=4,n[t];if(m=f.config.globalProperties,Qe(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return Zm(o,t)?(o[t]=n,!0):r!==yt&&Qe(r,t)?(r[t]=n,!0):Qe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},a){let l;return!!n[a]||e!==yt&&Qe(e,a)||Zm(t,a)||(l=s[0])&&Qe(l,a)||Qe(r,a)||Qe(ja,a)||Qe(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Qe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Lv=!0;function zD(e){const t=Yg(e),n=e.proxy,r=e.ctx;Lv=!1,t.beforeCreate&&OE(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:l,provide:f,inject:d,created:v,beforeMount:h,mounted:m,beforeUpdate:y,updated:_,activated:b,deactivated:S,beforeDestroy:I,beforeUnmount:R,destroyed:M,unmounted:U,render:P,renderTracked:O,renderTriggered:j,errorCaptured:x,serverPrefetch:F,expose:A,inheritAttrs:be,components:oe,directives:we,filters:Ee}=t;if(d&&WD(d,r,null,e.appContext.config.unwrapInjectedRef),a)for(const de in a){const pe=a[de];Be(pe)&&(r[de]=pe.bind(n))}if(o){const de=o.call(n,n);pt(de)&&(e.data=mr(de))}if(Lv=!0,s)for(const de in s){const pe=s[de],et=Be(pe)?pe.bind(n,n):Be(pe.get)?pe.get.bind(n,n):Ar,Ye=!Be(pe)&&Be(pe.set)?pe.set.bind(n):Ar,tt=xe({get:et,set:Ye});Object.defineProperty(r,de,{enumerable:!0,configurable:!0,get:()=>tt.value,set:nt=>tt.value=nt})}if(l)for(const de in l)JS(l[de],r,n,de);if(f){const de=Be(f)?f.call(n):f;Reflect.ownKeys(de).forEach(pe=>{Qi(pe,de[pe])})}v&&OE(v,e,"c");function he(de,pe){Ne(pe)?pe.forEach(et=>de(et.bind(n))):pe&&de(pe.bind(n))}if(he(jD,h),he(Mu,m),he(UD,y),he(BD,_),he(MD,b),he(FD,S),he(KD,x),he(HD,O),he($D,j),he(Fu,R),he(XS,U),he(qD,F),Ne(A))if(A.length){const de=e.exposed||(e.exposed={});A.forEach(pe=>{Object.defineProperty(de,pe,{get:()=>n[pe],set:et=>n[pe]=et})})}else e.exposed||(e.exposed={});P&&e.render===Ar&&(e.render=P),be!=null&&(e.inheritAttrs=be),oe&&(e.components=oe),we&&(e.directives=we)}function WD(e,t,n=Ar,r=!1){Ne(e)&&(e=Mv(e));for(const o in e){const s=e[o];let a;pt(s)?"default"in s?a=jn(s.from||o,s.default,!0):a=jn(s.from||o):a=jn(s),at(a)&&r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function OE(e,t,n){pr(Ne(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function JS(e,t,n,r){const o=r.includes(".")?HS(n,r):()=>n[r];if(Ft(e)){const s=t[e];Be(s)&&it(o,s)}else if(Be(e))it(o,e.bind(n));else if(pt(e))if(Ne(e))e.forEach(s=>JS(s,t,n,r));else{const s=Be(e.handler)?e.handler.bind(n):t[e.handler];Be(s)&&it(o,s,e)}}function Yg(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let f;return l?f=l:!o.length&&!n&&!r?f=t:(f={},o.length&&o.forEach(d=>jf(f,d,a,!0)),jf(f,t,a)),pt(t)&&s.set(t,f),f}function jf(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&jf(e,s,n,!0),o&&o.forEach(a=>jf(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const l=XD[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const XD={data:NE,props:Uo,emits:Uo,methods:Uo,computed:Uo,beforeCreate:In,created:In,beforeMount:In,mounted:In,beforeUpdate:In,updated:In,beforeDestroy:In,beforeUnmount:In,destroyed:In,unmounted:In,activated:In,deactivated:In,errorCaptured:In,serverPrefetch:In,components:Uo,directives:Uo,watch:YD,provide:NE,inject:QD};function NE(e,t){return t?e?function(){return cn(Be(e)?e.call(this,this):e,Be(t)?t.call(this,this):t)}:t:e}function QD(e,t){return Uo(Mv(e),Mv(t))}function Mv(e){if(Ne(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function In(e,t){return e?[...new Set([].concat(e,t))]:t}function Uo(e,t){return e?cn(cn(Object.create(null),e),t):t}function YD(e,t){if(!e)return t;if(!t)return e;const n=cn(Object.create(null),e);for(const r in t)n[r]=In(e[r],t[r]);return n}function JD(e,t,n,r=!1){const o={},s={};Df(s,Nh,1),e.propsDefaults=Object.create(null),ZS(e,t,o,s);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=r?o:fD(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function ZD(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,l=Xe(o),[f]=e.propsOptions;let d=!1;if((r||a>0)&&!(a&16)){if(a&8){const v=e.vnode.dynamicProps;for(let h=0;h<v.length;h++){let m=v[h];if(Sh(e.emitsOptions,m))continue;const y=t[m];if(f)if(Qe(s,m))y!==s[m]&&(s[m]=y,d=!0);else{const _=Yr(m);o[_]=Fv(f,l,_,y,e,!1)}else y!==s[m]&&(s[m]=y,d=!0)}}}else{ZS(e,t,o,s)&&(d=!0);let v;for(const h in l)(!t||!Qe(t,h)&&((v=Pu(h))===h||!Qe(t,v)))&&(f?n&&(n[h]!==void 0||n[v]!==void 0)&&(o[h]=Fv(f,l,h,void 0,e,!0)):delete o[h]);if(s!==l)for(const h in s)(!t||!Qe(t,h))&&(delete s[h],d=!0)}d&&mi(e,"set","$attrs")}function ZS(e,t,n,r){const[o,s]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(Ef(f))continue;const d=t[f];let v;o&&Qe(o,v=Yr(f))?!s||!s.includes(v)?n[v]=d:(l||(l={}))[v]=d:Sh(e.emitsOptions,f)||(!(f in r)||d!==r[f])&&(r[f]=d,a=!0)}if(s){const f=Xe(n),d=l||yt;for(let v=0;v<s.length;v++){const h=s[v];n[h]=Fv(o,f,h,d[h],e,!Qe(d,h))}}return a}function Fv(e,t,n,r,o,s){const a=e[n];if(a!=null){const l=Qe(a,"default");if(l&&r===void 0){const f=a.default;if(a.type!==Function&&Be(f)){const{propsDefaults:d}=o;n in d?r=d[n]:(cu(o),r=d[n]=f.call(null,t),Jo())}else r=f}a[0]&&(s&&!l?r=!1:a[1]&&(r===""||r===Pu(n))&&(r=!0))}return r}function e1(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,a={},l=[];let f=!1;if(!Be(e)){const v=h=>{f=!0;const[m,y]=e1(h,t,!0);cn(a,m),y&&l.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(v),e.extends&&v(e.extends),e.mixins&&e.mixins.forEach(v)}if(!s&&!f)return pt(e)&&r.set(e,nu),nu;if(Ne(s))for(let v=0;v<s.length;v++){const h=Yr(s[v]);RE(h)&&(a[h]=yt)}else if(s)for(const v in s){const h=Yr(v);if(RE(h)){const m=s[v],y=a[h]=Ne(m)||Be(m)?{type:m}:Object.assign({},m);if(y){const _=DE(Boolean,y.type),b=DE(String,y.type);y[0]=_>-1,y[1]=b<0||_<b,(_>-1||Qe(y,"default"))&&l.push(h)}}}const d=[a,l];return pt(e)&&r.set(e,d),d}function RE(e){return e[0]!=="$"}function xE(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function PE(e,t){return xE(e)===xE(t)}function DE(e,t){return Ne(t)?t.findIndex(n=>PE(n,e)):Be(t)&&PE(t,e)?0:-1}const t1=e=>e[0]==="_"||e==="$stable",Jg=e=>Ne(e)?e.map(Gr):[Gr(e)],eL=(e,t,n)=>{if(t._n)return t;const r=Vn((...o)=>Jg(t(...o)),n);return r._c=!1,r},n1=(e,t,n)=>{const r=e._ctx;for(const o in e){if(t1(o))continue;const s=e[o];if(Be(s))t[o]=eL(o,s,r);else if(s!=null){const a=Jg(s);t[o]=()=>a}}},r1=(e,t)=>{const n=Jg(t);e.slots.default=()=>n},tL=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Xe(t),Df(t,"_",n)):n1(t,e.slots={})}else e.slots={},t&&r1(e,t);Df(e.slots,Nh,1)},nL=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,a=yt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(cn(o,t),!n&&l===1&&delete o._):(s=!t.$stable,n1(t,o)),a=t}else t&&(r1(e,t),a={default:1});if(s)for(const l in o)!t1(l)&&!(l in a)&&delete o[l]};function i1(){return{app:null,config:{isNativeTag:CP,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let rL=0;function iL(e,t){return function(r,o=null){Be(r)||(r=Object.assign({},r)),o!=null&&!pt(o)&&(o=null);const s=i1(),a=new Set;let l=!1;const f=s.app={_uid:rL++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:TL,get config(){return s.config},set config(d){},use(d,...v){return a.has(d)||(d&&Be(d.install)?(a.add(d),d.install(f,...v)):Be(d)&&(a.add(d),d(f,...v))),f},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),f},component(d,v){return v?(s.components[d]=v,f):s.components[d]},directive(d,v){return v?(s.directives[d]=v,f):s.directives[d]},mount(d,v,h){if(!l){const m=Oe(r,o);return m.appContext=s,v&&t?t(m,d):e(m,d,h),l=!0,f._container=d,d.__vue_app__=f,Rh(m.component)||m.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,v){return s.provides[d]=v,f}};return f}}function Vv(e,t,n,r,o=!1){if(Ne(e)){e.forEach((m,y)=>Vv(m,t&&(Ne(t)?t[y]:t),n,r,o));return}if(Tf(r)&&!o)return;const s=r.shapeFlag&4?Rh(r.component)||r.component.proxy:r.el,a=o?null:s,{i:l,r:f}=e,d=t&&t.r,v=l.refs===yt?l.refs={}:l.refs,h=l.setupState;if(d!=null&&d!==f&&(Ft(d)?(v[d]=null,Qe(h,d)&&(h[d]=null)):at(d)&&(d.value=null)),Be(f))Xi(f,l,12,[a,v]);else{const m=Ft(f),y=at(f);if(m||y){const _=()=>{if(e.f){const b=m?Qe(h,f)?h[f]:v[f]:f.value;o?Ne(b)&&Vg(b,s):Ne(b)?b.includes(s)||b.push(s):m?(v[f]=[s],Qe(h,f)&&(h[f]=v[f])):(f.value=[s],e.k&&(v[e.k]=f.value))}else m?(v[f]=a,Qe(h,f)&&(h[f]=a)):y&&(f.value=a,e.k&&(v[e.k]=a))};a?(_.id=-1,Ln(_,n)):_()}}}const Ln=xD;function oL(e){return sL(e)}function sL(e,t){const n=LP();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:a,createText:l,createComment:f,setText:d,setElementText:v,parentNode:h,nextSibling:m,setScopeId:y=Ar,insertStaticContent:_}=e,b=(k,D,B,W=null,Q=null,ae=null,le=!1,se=null,fe=!!D.dynamicChildren)=>{if(k===D)return;k&&!$o(k,D)&&(W=H(k),nt(k,Q,ae,!0),k=null),D.patchFlag===-2&&(fe=!1,D.dynamicChildren=null);const{type:T,ref:N,shapeFlag:V}=D;switch(T){case Oh:S(k,D,B,W);break;case kr:I(k,D,B,W);break;case Sf:k==null&&R(D,B,W,le);break;case hn:oe(k,D,B,W,Q,ae,le,se,fe);break;default:V&1?P(k,D,B,W,Q,ae,le,se,fe):V&6?we(k,D,B,W,Q,ae,le,se,fe):(V&64||V&128)&&T.process(k,D,B,W,Q,ae,le,se,fe,De)}N!=null&&Q&&Vv(N,k&&k.ref,ae,D||k,!D)},S=(k,D,B,W)=>{if(k==null)r(D.el=l(D.children),B,W);else{const Q=D.el=k.el;D.children!==k.children&&d(Q,D.children)}},I=(k,D,B,W)=>{k==null?r(D.el=f(D.children||""),B,W):D.el=k.el},R=(k,D,B,W)=>{[k.el,k.anchor]=_(k.children,D,B,W,k.el,k.anchor)},M=({el:k,anchor:D},B,W)=>{let Q;for(;k&&k!==D;)Q=m(k),r(k,B,W),k=Q;r(D,B,W)},U=({el:k,anchor:D})=>{let B;for(;k&&k!==D;)B=m(k),o(k),k=B;o(D)},P=(k,D,B,W,Q,ae,le,se,fe)=>{le=le||D.type==="svg",k==null?O(D,B,W,Q,ae,le,se,fe):F(k,D,Q,ae,le,se,fe)},O=(k,D,B,W,Q,ae,le,se)=>{let fe,T;const{type:N,props:V,shapeFlag:$,transition:re,dirs:te}=k;if(fe=k.el=a(k.type,ae,V&&V.is,V),$&8?v(fe,k.children):$&16&&x(k.children,fe,null,W,Q,ae&&N!=="foreignObject",le,se),te&&Lo(k,null,W,"created"),j(fe,k,k.scopeId,le,W),V){for(const ve in V)ve!=="value"&&!Ef(ve)&&s(fe,ve,null,V[ve],ae,k.children,W,Q,L);"value"in V&&s(fe,"value",null,V.value),(T=V.onVnodeBeforeMount)&&Hr(T,W,k)}te&&Lo(k,null,W,"beforeMount");const X=(!Q||Q&&!Q.pendingBranch)&&re&&!re.persisted;X&&re.beforeEnter(fe),r(fe,D,B),((T=V&&V.onVnodeMounted)||X||te)&&Ln(()=>{T&&Hr(T,W,k),X&&re.enter(fe),te&&Lo(k,null,W,"mounted")},Q)},j=(k,D,B,W,Q)=>{if(B&&y(k,B),W)for(let ae=0;ae<W.length;ae++)y(k,W[ae]);if(Q){let ae=Q.subTree;if(D===ae){const le=Q.vnode;j(k,le,le.scopeId,le.slotScopeIds,Q.parent)}}},x=(k,D,B,W,Q,ae,le,se,fe=0)=>{for(let T=fe;T<k.length;T++){const N=k[T]=se?Ui(k[T]):Gr(k[T]);b(null,N,D,B,W,Q,ae,le,se)}},F=(k,D,B,W,Q,ae,le)=>{const se=D.el=k.el;let{patchFlag:fe,dynamicChildren:T,dirs:N}=D;fe|=k.patchFlag&16;const V=k.props||yt,$=D.props||yt;let re;B&&Mo(B,!1),(re=$.onVnodeBeforeUpdate)&&Hr(re,B,D,k),N&&Lo(D,k,B,"beforeUpdate"),B&&Mo(B,!0);const te=Q&&D.type!=="foreignObject";if(T?A(k.dynamicChildren,T,se,B,W,te,ae):le||pe(k,D,se,null,B,W,te,ae,!1),fe>0){if(fe&16)be(se,D,V,$,B,W,Q);else if(fe&2&&V.class!==$.class&&s(se,"class",null,$.class,Q),fe&4&&s(se,"style",V.style,$.style,Q),fe&8){const X=D.dynamicProps;for(let ve=0;ve<X.length;ve++){const Le=X[ve],Ve=V[Le],Kn=$[Le];(Kn!==Ve||Le==="value")&&s(se,Le,Ve,Kn,Q,k.children,B,W,L)}}fe&1&&k.children!==D.children&&v(se,D.children)}else!le&&T==null&&be(se,D,V,$,B,W,Q);((re=$.onVnodeUpdated)||N)&&Ln(()=>{re&&Hr(re,B,D,k),N&&Lo(D,k,B,"updated")},W)},A=(k,D,B,W,Q,ae,le)=>{for(let se=0;se<D.length;se++){const fe=k[se],T=D[se],N=fe.el&&(fe.type===hn||!$o(fe,T)||fe.shapeFlag&70)?h(fe.el):B;b(fe,T,N,null,W,Q,ae,le,!0)}},be=(k,D,B,W,Q,ae,le)=>{if(B!==W){if(B!==yt)for(const se in B)!Ef(se)&&!(se in W)&&s(k,se,B[se],null,le,D.children,Q,ae,L);for(const se in W){if(Ef(se))continue;const fe=W[se],T=B[se];fe!==T&&se!=="value"&&s(k,se,T,fe,le,D.children,Q,ae,L)}"value"in W&&s(k,"value",B.value,W.value)}},oe=(k,D,B,W,Q,ae,le,se,fe)=>{const T=D.el=k?k.el:l(""),N=D.anchor=k?k.anchor:l("");let{patchFlag:V,dynamicChildren:$,slotScopeIds:re}=D;re&&(se=se?se.concat(re):re),k==null?(r(T,B,W),r(N,B,W),x(D.children,B,N,Q,ae,le,se,fe)):V>0&&V&64&&$&&k.dynamicChildren?(A(k.dynamicChildren,$,B,Q,ae,le,se),(D.key!=null||Q&&D===Q.subTree)&&o1(k,D,!0)):pe(k,D,B,N,Q,ae,le,se,fe)},we=(k,D,B,W,Q,ae,le,se,fe)=>{D.slotScopeIds=se,k==null?D.shapeFlag&512?Q.ctx.activate(D,B,W,le,fe):Ee(D,B,W,Q,ae,le,fe):Ae(k,D,fe)},Ee=(k,D,B,W,Q,ae,le)=>{const se=k.component=mL(k,W,Q);if(kh(k)&&(se.ctx.renderer=De),vL(se),se.asyncDep){if(Q&&Q.registerDep(se,he),!k.el){const fe=se.subTree=Oe(kr);I(null,fe,D,B)}return}he(se,k,D,B,Q,ae,le)},Ae=(k,D,B)=>{const W=D.component=k.component;if(OD(k,D,B))if(W.asyncDep&&!W.asyncResolved){de(W,D,B);return}else W.next=D,bD(W.update),W.update();else D.el=k.el,W.vnode=D},he=(k,D,B,W,Q,ae,le)=>{const se=()=>{if(k.isMounted){let{next:N,bu:V,u:$,parent:re,vnode:te}=k,X=N,ve;Mo(k,!1),N?(N.el=te.el,de(k,N,le)):N=te,V&&If(V),(ve=N.props&&N.props.onVnodeBeforeUpdate)&&Hr(ve,re,N,te),Mo(k,!0);const Le=Ym(k),Ve=k.subTree;k.subTree=Le,b(Ve,Le,h(Ve.el),H(Ve),k,Q,ae),N.el=Le.el,X===null&&ND(k,Le.el),$&&Ln($,Q),(ve=N.props&&N.props.onVnodeUpdated)&&Ln(()=>Hr(ve,re,N,te),Q)}else{let N;const{el:V,props:$}=D,{bm:re,m:te,parent:X}=k,ve=Tf(D);if(Mo(k,!1),re&&If(re),!ve&&(N=$&&$.onVnodeBeforeMount)&&Hr(N,X,D),Mo(k,!0),V&&Te){const Le=()=>{k.subTree=Ym(k),Te(V,k.subTree,k,Q,null)};ve?D.type.__asyncLoader().then(()=>!k.isUnmounted&&Le()):Le()}else{const Le=k.subTree=Ym(k);b(null,Le,B,W,k,Q,ae),D.el=Le.el}if(te&&Ln(te,Q),!ve&&(N=$&&$.onVnodeMounted)){const Le=D;Ln(()=>Hr(N,X,Le),Q)}(D.shapeFlag&256||X&&Tf(X.vnode)&&X.vnode.shapeFlag&256)&&k.a&&Ln(k.a,Q),k.isMounted=!0,D=B=W=null}},fe=k.effect=new Bg(se,()=>Wg(T),k.scope),T=k.update=()=>fe.run();T.id=k.uid,Mo(k,!0),T()},de=(k,D,B)=>{D.component=k;const W=k.vnode.props;k.vnode=D,k.next=null,ZD(k,D.props,W,B),nL(k,D.children,B),Du(),SE(),Lu()},pe=(k,D,B,W,Q,ae,le,se,fe=!1)=>{const T=k&&k.children,N=k?k.shapeFlag:0,V=D.children,{patchFlag:$,shapeFlag:re}=D;if($>0){if($&128){Ye(T,V,B,W,Q,ae,le,se,fe);return}else if($&256){et(T,V,B,W,Q,ae,le,se,fe);return}}re&8?(N&16&&L(T,Q,ae),V!==T&&v(B,V)):N&16?re&16?Ye(T,V,B,W,Q,ae,le,se,fe):L(T,Q,ae,!0):(N&8&&v(B,""),re&16&&x(V,B,W,Q,ae,le,se,fe))},et=(k,D,B,W,Q,ae,le,se,fe)=>{k=k||nu,D=D||nu;const T=k.length,N=D.length,V=Math.min(T,N);let $;for($=0;$<V;$++){const re=D[$]=fe?Ui(D[$]):Gr(D[$]);b(k[$],re,B,null,Q,ae,le,se,fe)}T>N?L(k,Q,ae,!0,!1,V):x(D,B,W,Q,ae,le,se,fe,V)},Ye=(k,D,B,W,Q,ae,le,se,fe)=>{let T=0;const N=D.length;let V=k.length-1,$=N-1;for(;T<=V&&T<=$;){const re=k[T],te=D[T]=fe?Ui(D[T]):Gr(D[T]);if($o(re,te))b(re,te,B,null,Q,ae,le,se,fe);else break;T++}for(;T<=V&&T<=$;){const re=k[V],te=D[$]=fe?Ui(D[$]):Gr(D[$]);if($o(re,te))b(re,te,B,null,Q,ae,le,se,fe);else break;V--,$--}if(T>V){if(T<=$){const re=$+1,te=re<N?D[re].el:W;for(;T<=$;)b(null,D[T]=fe?Ui(D[T]):Gr(D[T]),B,te,Q,ae,le,se,fe),T++}}else if(T>$)for(;T<=V;)nt(k[T],Q,ae,!0),T++;else{const re=T,te=T,X=new Map;for(T=te;T<=$;T++){const kt=D[T]=fe?Ui(D[T]):Gr(D[T]);kt.key!=null&&X.set(kt.key,T)}let ve,Le=0;const Ve=$-te+1;let Kn=!1,Ge=0;const bi=new Array(Ve);for(T=0;T<Ve;T++)bi[T]=0;for(T=re;T<=V;T++){const kt=k[T];if(Le>=Ve){nt(kt,Q,ae,!0);continue}let Gn;if(kt.key!=null)Gn=X.get(kt.key);else for(ve=te;ve<=$;ve++)if(bi[ve-te]===0&&$o(kt,D[ve])){Gn=ve;break}Gn===void 0?nt(kt,Q,ae,!0):(bi[Gn-te]=T+1,Gn>=Ge?Ge=Gn:Kn=!0,b(kt,D[Gn],B,null,Q,ae,le,se,fe),Le++)}const Lr=Kn?uL(bi):nu;for(ve=Lr.length-1,T=Ve-1;T>=0;T--){const kt=te+T,Gn=D[kt],en=kt+1<N?D[kt+1].el:W;bi[T]===0?b(null,Gn,B,en,Q,ae,le,se,fe):Kn&&(ve<0||T!==Lr[ve]?tt(Gn,B,en,2):ve--)}}},tt=(k,D,B,W,Q=null)=>{const{el:ae,type:le,transition:se,children:fe,shapeFlag:T}=k;if(T&6){tt(k.component.subTree,D,B,W);return}if(T&128){k.suspense.move(D,B,W);return}if(T&64){le.move(k,D,B,De);return}if(le===hn){r(ae,D,B);for(let V=0;V<fe.length;V++)tt(fe[V],D,B,W);r(k.anchor,D,B);return}if(le===Sf){M(k,D,B);return}if(W!==2&&T&1&&se)if(W===0)se.beforeEnter(ae),r(ae,D,B),Ln(()=>se.enter(ae),Q);else{const{leave:V,delayLeave:$,afterLeave:re}=se,te=()=>r(ae,D,B),X=()=>{V(ae,()=>{te(),re&&re()})};$?$(ae,te,X):X()}else r(ae,D,B)},nt=(k,D,B,W=!1,Q=!1)=>{const{type:ae,props:le,ref:se,children:fe,dynamicChildren:T,shapeFlag:N,patchFlag:V,dirs:$}=k;if(se!=null&&Vv(se,null,B,k,!0),N&256){D.ctx.deactivate(k);return}const re=N&1&&$,te=!Tf(k);let X;if(te&&(X=le&&le.onVnodeBeforeUnmount)&&Hr(X,D,k),N&6)J(k.component,B,W);else{if(N&128){k.suspense.unmount(B,W);return}re&&Lo(k,null,D,"beforeUnmount"),N&64?k.type.remove(k,D,B,Q,De,W):T&&(ae!==hn||V>0&&V&64)?L(T,D,B,!1,!0):(ae===hn&&V&384||!Q&&N&16)&&L(fe,D,B),W&&Nt(k)}(te&&(X=le&&le.onVnodeUnmounted)||re)&&Ln(()=>{X&&Hr(X,D,k),re&&Lo(k,null,D,"unmounted")},B)},Nt=k=>{const{type:D,el:B,anchor:W,transition:Q}=k;if(D===hn){vt(B,W);return}if(D===Sf){U(k);return}const ae=()=>{o(B),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(k.shapeFlag&1&&Q&&!Q.persisted){const{leave:le,delayLeave:se}=Q,fe=()=>le(B,ae);se?se(k.el,ae,fe):fe()}else ae()},vt=(k,D)=>{let B;for(;k!==D;)B=m(k),o(k),k=B;o(D)},J=(k,D,B)=>{const{bum:W,scope:Q,update:ae,subTree:le,um:se}=k;W&&If(W),Q.stop(),ae&&(ae.active=!1,nt(le,k,D,B)),se&&Ln(se,D),Ln(()=>{k.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},L=(k,D,B,W=!1,Q=!1,ae=0)=>{for(let le=ae;le<k.length;le++)nt(k[le],D,B,W,Q)},H=k=>k.shapeFlag&6?H(k.component.subTree):k.shapeFlag&128?k.suspense.next():m(k.anchor||k.el),ee=(k,D,B)=>{k==null?D._vnode&&nt(D._vnode,null,null,!0):b(D._vnode||null,k,D,null,null,null,B),SE(),US(),D._vnode=k},De={p:b,um:nt,m:tt,r:Nt,mt:Ee,mc:x,pc:pe,pbc:A,n:H,o:e};let je,Te;return t&&([je,Te]=t(De)),{render:ee,hydrate:je,createApp:iL(ee,je)}}function Mo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function o1(e,t,n=!1){const r=e.children,o=t.children;if(Ne(r)&&Ne(o))for(let s=0;s<r.length;s++){const a=r[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Ui(o[s]),l.el=a.el),n||o1(a,l)),l.type===Oh&&(l.el=a.el)}}function uL(e){const t=e.slice(),n=[0];let r,o,s,a,l;const f=e.length;for(r=0;r<f;r++){const d=e[r];if(d!==0){if(o=n[n.length-1],e[o]<d){t[r]=o,n.push(r);continue}for(s=0,a=n.length-1;s<a;)l=s+a>>1,e[n[l]]<d?s=l+1:a=l;d<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}const aL=e=>e.__isTeleport,hn=Symbol(void 0),Oh=Symbol(void 0),kr=Symbol(void 0),Sf=Symbol(void 0),Ua=[];let Sr=null;function We(e=!1){Ua.push(Sr=e?null:[])}function cL(){Ua.pop(),Sr=Ua[Ua.length-1]||null}let oc=1;function LE(e){oc+=e}function s1(e){return e.dynamicChildren=oc>0?Sr||nu:null,cL(),oc>0&&Sr&&Sr.push(e),e}function dt(e,t,n,r,o,s){return s1(K(e,t,n,r,o,s,!0))}function rs(e,t,n,r,o){return s1(Oe(e,t,n,r,o,!0))}function jv(e){return e?e.__v_isVNode===!0:!1}function $o(e,t){return e.type===t.type&&e.key===t.key}const Nh="__vInternal",u1=({key:e})=>e??null,Af=({ref:e,ref_key:t,ref_for:n})=>e!=null?Ft(e)||at(e)||Be(e)?{i:tr,r:e,k:t,f:!!n}:e:null;function K(e,t=null,n=null,r=0,o=null,s=e===hn?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&u1(t),ref:t&&Af(t),scopeId:Ah,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:tr};return l?(Zg(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=Ft(n)?8:16),oc>0&&!a&&Sr&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Sr.push(f),f}const Oe=lL;function lL(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===QS)&&(e=kr),jv(e)){const l=ro(e,t,!0);return n&&Zg(l,n),oc>0&&!s&&Sr&&(l.shapeFlag&6?Sr[Sr.indexOf(e)]=l:Sr.push(l)),l.patchFlag|=-2,l}if(bL(e)&&(e=e.__vccOpts),t){t=fL(t);let{class:l,style:f}=t;l&&!Ft(l)&&(t.class=Cn(l)),pt(f)&&(xS(f)&&!Ne(f)&&(f=cn({},f)),t.style=uu(f))}const a=Ft(e)?1:RD(e)?128:aL(e)?64:pt(e)?4:Be(e)?2:0;return K(e,t,n,r,o,a,s,!0)}function fL(e){return e?xS(e)||Nh in e?cn({},e):e:null}function ro(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:a}=e,l=t?a1(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&u1(l),ref:t&&t.ref?n&&o?Ne(o)?o.concat(Af(t)):[o,Af(t)]:Af(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==hn?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ro(e.ssContent),ssFallback:e.ssFallback&&ro(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function li(e=" ",t=0){return Oe(Oh,null,e,t)}function hL(e,t){const n=Oe(Sf,null,e);return n.staticCount=t,n}function Cc(e="",t=!1){return t?(We(),rs(kr,null,e)):Oe(kr,null,e)}function Gr(e){return e==null||typeof e=="boolean"?Oe(kr):Ne(e)?Oe(hn,null,e.slice()):typeof e=="object"?Ui(e):Oe(Oh,null,String(e))}function Ui(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ro(e)}function Zg(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ne(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),Zg(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Nh in t)?t._ctx=tr:o===3&&tr&&(tr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Be(t)?(t={default:t,_ctx:tr},n=32):(t=String(t),r&64?(n=16,t=[li(t)]):n=8);e.children=t,e.shapeFlag|=n}function a1(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=Cn([t.class,r.class]));else if(o==="style")t.style=uu([t.style,r.style]);else if(_h(o)){const s=t[o],a=r[o];a&&s!==a&&!(Ne(s)&&s.includes(a))&&(t[o]=s?[].concat(s,a):a)}else o!==""&&(t[o]=r[o])}return t}function Hr(e,t,n,r=null){pr(e,t,7,[n,r])}const dL=i1();let pL=0;function mL(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||dL,s={uid:pL++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new yS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:e1(r,o),emitsOptions:qS(r,o),emit:null,emitted:null,propsDefaults:yt,inheritAttrs:r.inheritAttrs,ctx:yt,data:yt,props:yt,attrs:yt,slots:yt,refs:yt,setupState:yt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=TD.bind(null,s),e.ce&&e.ce(s),s}let Mt=null;const uo=()=>Mt||tr,cu=e=>{Mt=e,e.scope.on()},Jo=()=>{Mt&&Mt.scope.off(),Mt=null};function c1(e){return e.vnode.shapeFlag&4}let sc=!1;function vL(e,t=!1){sc=t;const{props:n,children:r}=e.vnode,o=c1(e);JD(e,n,o,t),tL(e,r);const s=o?gL(e,t):void 0;return sc=!1,s}function gL(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=no(new Proxy(e.ctx,GD));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?_L(e):null;cu(e),Du();const s=Xi(r,e,0,[e.props,o]);if(Lu(),Jo(),pS(s)){if(s.then(Jo,Jo),t)return s.then(a=>{ME(e,a,t)}).catch(a=>{Th(a,e,0)});e.asyncDep=s}else ME(e,s,t)}else l1(e,t)}function ME(e,t,n){Be(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:pt(t)&&(e.setupState=MS(t)),l1(e,n)}let FE;function l1(e,t,n){const r=e.type;if(!e.render){if(!t&&FE&&!r.render){const o=r.template||Yg(e).template;if(o){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=r,d=cn(cn({isCustomElement:s,delimiters:l},a),f);r.render=FE(o,d)}}e.render=r.render||Ar}cu(e),Du(),zD(e),Lu(),Jo()}function yL(e){return new Proxy(e.attrs,{get(t,n){return Bn(e,"get","$attrs"),t[n]}})}function _L(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=yL(e))},slots:e.slots,emit:e.emit,expose:t}}function Rh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(MS(no(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ja)return ja[n](e)},has(t,n){return n in t||n in ja}}))}function wL(e,t=!0){return Be(e)?e.displayName||e.name:e.name||t&&e.__name}function bL(e){return Be(e)&&"__vccOpts"in e}const xe=(e,t)=>yD(e,t,sc);function xr(e,t,n){const r=arguments.length;return r===2?pt(t)&&!Ne(t)?jv(t)?Oe(e,null,[t]):Oe(e,t):Oe(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&jv(n)&&(n=[n]),Oe(e,t,n))}const EL=Symbol(""),IL=()=>jn(EL),TL="3.2.47",SL="http://www.w3.org/2000/svg",Ho=typeof document<"u"?document:null,VE=Ho&&Ho.createElement("template"),AL={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?Ho.createElementNS(SL,e):Ho.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>Ho.createTextNode(e),createComment:e=>Ho.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ho.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const a=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{VE.innerHTML=r?`<svg>${e}</svg>`:e;const l=VE.content;if(r){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function kL(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function CL(e,t,n){const r=e.style,o=Ft(n);if(n&&!o){if(t&&!Ft(t))for(const s in t)n[s]==null&&Uv(r,s,"");for(const s in n)Uv(r,s,n[s])}else{const s=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const jE=/\s*!important$/;function Uv(e,t,n){if(Ne(n))n.forEach(r=>Uv(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=OL(e,t);jE.test(n)?e.setProperty(Pu(r),n.replace(jE,""),"important"):e[r]=n}}const UE=["Webkit","Moz","ms"],ev={};function OL(e,t){const n=ev[t];if(n)return n;let r=Yr(t);if(r!=="filter"&&r in e)return ev[t]=r;r=Eh(r);for(let o=0;o<UE.length;o++){const s=UE[o]+r;if(s in e)return ev[t]=s}return t}const BE="http://www.w3.org/1999/xlink";function NL(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(BE,t.slice(6,t.length)):e.setAttributeNS(BE,t,n);else{const s=SP(t);n==null||s&&!hS(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function RL(e,t,n,r,o,s,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,o,s),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const f=n??"";(e.value!==f||e.tagName==="OPTION")&&(e.value=f),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=hS(n):n==null&&f==="string"?(n="",l=!0):f==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function f1(e,t,n,r){e.addEventListener(t,n,r)}function xL(e,t,n,r){e.removeEventListener(t,n,r)}function PL(e,t,n,r,o=null){const s=e._vei||(e._vei={}),a=s[t];if(r&&a)a.value=r;else{const[l,f]=DL(t);if(r){const d=s[t]=FL(r,o);f1(e,l,d,f)}else a&&(xL(e,l,a,f),s[t]=void 0)}}const qE=/(?:Once|Passive|Capture)$/;function DL(e){let t;if(qE.test(e)){t={};let r;for(;r=e.match(qE);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Pu(e.slice(2)),t]}let tv=0;const LL=Promise.resolve(),ML=()=>tv||(LL.then(()=>tv=0),tv=Date.now());function FL(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;pr(VL(r,n.value),t,5,[r])};return n.value=e,n.attached=ML(),n}function VL(e,t){if(Ne(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const $E=/^on[a-z]/,jL=(e,t,n,r,o=!1,s,a,l,f)=>{t==="class"?kL(e,r,o):t==="style"?CL(e,n,r):_h(t)?Fg(t)||PL(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):UL(e,t,r,o))?RL(e,t,r,s,a,l,f):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),NL(e,t,r,o))};function UL(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&$E.test(t)&&Be(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||$E.test(t)&&Ft(n)?!1:t in e}const Ri="transition",Na="animation",ey=(e,{slots:t})=>xr(KS,BL(e),t);ey.displayName="Transition";const h1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};ey.props=cn({},KS.props,h1);const Fo=(e,t=[])=>{Ne(e)?e.forEach(n=>n(...t)):e&&e(...t)},HE=e=>e?Ne(e)?e.some(t=>t.length>1):e.length>1:!1;function BL(e){const t={};for(const oe in e)oe in h1||(t[oe]=e[oe]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:f=s,appearActiveClass:d=a,appearToClass:v=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,_=qL(o),b=_&&_[0],S=_&&_[1],{onBeforeEnter:I,onEnter:R,onEnterCancelled:M,onLeave:U,onLeaveCancelled:P,onBeforeAppear:O=I,onAppear:j=R,onAppearCancelled:x=M}=t,F=(oe,we,Ee)=>{Vo(oe,we?v:l),Vo(oe,we?d:a),Ee&&Ee()},A=(oe,we)=>{oe._isLeaving=!1,Vo(oe,h),Vo(oe,y),Vo(oe,m),we&&we()},be=oe=>(we,Ee)=>{const Ae=oe?j:R,he=()=>F(we,oe,Ee);Fo(Ae,[we,he]),KE(()=>{Vo(we,oe?f:s),xi(we,oe?v:l),HE(Ae)||GE(we,r,b,he)})};return cn(t,{onBeforeEnter(oe){Fo(I,[oe]),xi(oe,s),xi(oe,a)},onBeforeAppear(oe){Fo(O,[oe]),xi(oe,f),xi(oe,d)},onEnter:be(!1),onAppear:be(!0),onLeave(oe,we){oe._isLeaving=!0;const Ee=()=>A(oe,we);xi(oe,h),KL(),xi(oe,m),KE(()=>{oe._isLeaving&&(Vo(oe,h),xi(oe,y),HE(U)||GE(oe,r,S,Ee))}),Fo(U,[oe,Ee])},onEnterCancelled(oe){F(oe,!1),Fo(M,[oe])},onAppearCancelled(oe){F(oe,!0),Fo(x,[oe])},onLeaveCancelled(oe){A(oe),Fo(P,[oe])}})}function qL(e){if(e==null)return null;if(pt(e))return[nv(e.enter),nv(e.leave)];{const t=nv(e);return[t,t]}}function nv(e){return DP(e)}function xi(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Vo(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function KE(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let $L=0;function GE(e,t,n,r){const o=e._endId=++$L,s=()=>{o===e._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:l,propCount:f}=HL(e,t);if(!a)return r();const d=a+"end";let v=0;const h=()=>{e.removeEventListener(d,m),s()},m=y=>{y.target===e&&++v>=f&&h()};setTimeout(()=>{v<f&&h()},l+1),e.addEventListener(d,m)}function HL(e,t){const n=window.getComputedStyle(e),r=_=>(n[_]||"").split(", "),o=r(`${Ri}Delay`),s=r(`${Ri}Duration`),a=zE(o,s),l=r(`${Na}Delay`),f=r(`${Na}Duration`),d=zE(l,f);let v=null,h=0,m=0;t===Ri?a>0&&(v=Ri,h=a,m=s.length):t===Na?d>0&&(v=Na,h=d,m=f.length):(h=Math.max(a,d),v=h>0?a>d?Ri:Na:null,m=v?v===Ri?s.length:f.length:0);const y=v===Ri&&/\b(transform|all)(,|$)/.test(r(`${Ri}Property`).toString());return{type:v,timeout:h,propCount:m,hasTransform:y}}function zE(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>WE(n)+WE(e[r])))}function WE(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function KL(){return document.body.offsetHeight}const XE=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ne(t)?n=>If(t,n):t},GL={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=wh(t);f1(e,"change",()=>{const s=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?gS(Uf(a)):Uf(a));e._assign(e.multiple?o?new Set(s):s:s[0])}),e._assign=XE(r)},mounted(e,{value:t}){QE(e,t)},beforeUpdate(e,t,n){e._assign=XE(n)},updated(e,{value:t}){QE(e,t)}};function QE(e,t){const n=e.multiple;if(!(n&&!Ne(t)&&!wh(t))){for(let r=0,o=e.options.length;r<o;r++){const s=e.options[r],a=Uf(s);if(n)Ne(t)?s.selected=kP(t,a)>-1:s.selected=t.has(a);else if(yh(Uf(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Uf(e){return"_value"in e?e._value:e.value}const zL=["ctrl","shift","alt","meta"],WL={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>zL.some(n=>e[`${n}Key`]&&!t.includes(n))},Mn=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const s=WL[t[o]];if(s&&s(n,t))return}return e(n,...r)},Bv={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ra(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Ra(e,!0),r.enter(e)):r.leave(e,()=>{Ra(e,!1)}):Ra(e,t))},beforeUnmount(e,{value:t}){Ra(e,t)}};function Ra(e,t){e.style.display=t?e._vod:"none"}const XL=cn({patchProp:jL},AL);let YE;function QL(){return YE||(YE=oL(XL))}const YL=(...e)=>{const t=QL().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=JL(r);if(!o)return;const s=t._component;!Be(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function JL(e){return Ft(e)?document.querySelector(e):e}var ZL=!1;/*!
  * pinia v2.0.33
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let d1;const xh=e=>d1=e,p1=Symbol();function qv(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ba;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ba||(Ba={}));function eM(){const e=_S(!0),t=e.run(()=>_t({}));let n=[],r=[];const o=no({install(s){xh(o),o._a=s,s.provide(p1,o),s.config.globalProperties.$pinia=o,r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!ZL?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const m1=()=>{};function JE(e,t,n,r=m1){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&wS()&&FP(o),o}function Ks(e,...t){e.slice().forEach(n=>{n(...t)})}function $v(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];qv(o)&&qv(r)&&e.hasOwnProperty(n)&&!at(r)&&!Wi(r)?e[n]=$v(o,r):e[n]=r}return e}const tM=Symbol();function nM(e){return!qv(e)||!e.hasOwnProperty(tM)}const{assign:Fi}=Object;function rM(e){return!!(at(e)&&e.effect)}function iM(e,t,n,r){const{state:o,actions:s,getters:a}=t,l=n.state.value[e];let f;function d(){l||(n.state.value[e]=o?o():{});const v=mD(n.state.value[e]);return Fi(v,s,Object.keys(a||{}).reduce((h,m)=>(h[m]=no(xe(()=>{xh(n);const y=n._s.get(e);return a[m].call(y,y)})),h),{}))}return f=v1(e,d,t,n,r,!0),f}function v1(e,t,n={},r,o,s){let a;const l=Fi({actions:{}},n),f={deep:!0};let d,v,h=no([]),m=no([]),y;const _=r.state.value[e];!s&&!_&&(r.state.value[e]={}),_t({});let b;function S(j){let x;d=v=!1,typeof j=="function"?(j(r.state.value[e]),x={type:Ba.patchFunction,storeId:e,events:y}):($v(r.state.value[e],j),x={type:Ba.patchObject,payload:j,storeId:e,events:y});const F=b=Symbol();er().then(()=>{b===F&&(d=!0)}),v=!0,Ks(h,x,r.state.value[e])}const I=s?function(){const{state:x}=n,F=x?x():{};this.$patch(A=>{Fi(A,F)})}:m1;function R(){a.stop(),h=[],m=[],r._s.delete(e)}function M(j,x){return function(){xh(r);const F=Array.from(arguments),A=[],be=[];function oe(Ae){A.push(Ae)}function we(Ae){be.push(Ae)}Ks(m,{args:F,name:j,store:P,after:oe,onError:we});let Ee;try{Ee=x.apply(this&&this.$id===e?this:P,F)}catch(Ae){throw Ks(be,Ae),Ae}return Ee instanceof Promise?Ee.then(Ae=>(Ks(A,Ae),Ae)).catch(Ae=>(Ks(be,Ae),Promise.reject(Ae))):(Ks(A,Ee),Ee)}}const U={_p:r,$id:e,$onAction:JE.bind(null,m),$patch:S,$reset:I,$subscribe(j,x={}){const F=JE(h,j,x.detached,()=>A()),A=a.run(()=>it(()=>r.state.value[e],be=>{(x.flush==="sync"?v:d)&&j({storeId:e,type:Ba.direct,events:y},be)},Fi({},f,x)));return F},$dispose:R},P=mr(U);r._s.set(e,P);const O=r._e.run(()=>(a=_S(),a.run(()=>t())));for(const j in O){const x=O[j];if(at(x)&&!rM(x)||Wi(x))s||(_&&nM(x)&&(at(x)?x.value=_[j]:$v(x,_[j])),r.state.value[e][j]=x);else if(typeof x=="function"){const F=M(j,x);O[j]=F,l.actions[j]=x}}return Fi(P,O),Fi(Xe(P),O),Object.defineProperty(P,"$state",{get:()=>r.state.value[e],set:j=>{S(x=>{Fi(x,j)})}}),r._p.forEach(j=>{Fi(P,a.run(()=>j({store:P,app:r._a,pinia:r,options:l})))}),_&&s&&n.hydrate&&n.hydrate(P.$state,_),d=!0,v=!0,P}function ty(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function a(l,f){const d=uo();return l=l||d&&jn(p1,null),l&&xh(l),l=d1,l._s.has(r)||(s?v1(r,t,o,l):iM(r,o,l)),l._s.get(r)}return a.$id=r,a}let oM="Store";function sM(...e){return e.reduce((t,n)=>(t[n.$id+oM]=function(){return n(this.$pinia)},t),{})}function ny(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const o=e(this.$pinia),s=t[r];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function Ph(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[r](...o)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[t[r]](...o)},n),{})}function g1(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[r]},set(o){return e(this.$pinia)[r]=o}},n),{}):Object.keys(t).reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(o){return e(this.$pinia)[t[r]]=o}},n),{})}const Hv=ty("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var Kv=function(e,t){return Kv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Kv(e,t)};function Ce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Kv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var lu=function(){return lu=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},lu.apply(this,arguments)};function Z(e,t,n,r){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(v){try{d(r.next(v))}catch(h){a(h)}}function f(v){try{d(r.throw(v))}catch(h){a(h)}}function d(v){v.done?s(v.value):o(v.value).then(l,f)}d((r=r.apply(e,t||[])).next())})}function Y(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(v){return f([d,v])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(r=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(v){d=[6,v],o=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function rv(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function sf(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function Et(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y1=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},uM=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],a=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|a&63)}}return t.join("")},aM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],a=o+1<e.length,l=a?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,v=s>>2,h=(s&3)<<4|l>>4,m=(l&15)<<2|d>>6,y=d&63;f||(y=64,a||(m=64)),r.push(n[v],n[h],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(y1(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):uM(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],a=o<e.length,l=a?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var v=o<e.length,h=v?n[e.charAt(o)]:64;if(++o,s==null||l==null||d==null||h==null)throw Error();var m=s<<2|l>>4;if(r.push(m),d!==64){var y=l<<4&240|d>>2;if(r.push(y),h!==64){var _=d<<6&192|h;r.push(_)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},cM=function(e){var t=y1(e);return aM.encodeByteArray(t,!0)},ZE=function(e){return cM(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(e){return uc(void 0,e)}function uc(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!fM(r)||(e[r]=uc(e[r],t[r]));return e}function fM(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hM=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=lu({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[ZE(JSON.stringify(n)),ZE(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(is())}function w1(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pM(){return typeof self=="object"&&self.self===self}function mM(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function vM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gM(){return is().indexOf("Electron/")>=0}function yM(){var e=is();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _M(){return is().indexOf("MSAppHost/")>=0}function wM(){return!w1()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bM="FirebaseError",b1=function(e){Ce(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=bM,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,ry.prototype.create),s}return t}(Error),ry=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?EM(a,o):"Error",f=this.serviceName+": "+l+" ("+s+").",d=new b1(s,f,o);return d},e}();function EM(e,t){return e.replace(IM,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var IM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function TM(e,t){var n=new SM(e,t);return n.subscribe.bind(n)}var SM=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AM(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=iv),s.error===void 0&&(s.error=iv),s.complete===void 0&&(s.complete=iv);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function AM(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function iv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(e){return e&&e._delegate?e._delegate:e}var Oc=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kM=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new hM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(OM(t))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}try{for(var o=rv(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var a=sf(s.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var v=this.getOrInitializeService({instanceIdentifier:d});f.resolve(v)}catch{}}}catch(h){n={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Bo),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return Z(this,void 0,void 0,function(){var t;return Y(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Et(Et([],sf(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),sf(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Bo),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Bo),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var f=rv(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var v=sf(d.value,2),h=v[0],m=v[1],y=this.normalizeInstanceIdentifier(h);a===y&&m.resolve(l)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);var a=this.instances.get(o);return a&&t(a,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,o,s=this.onInitCallbacks.get(n);if(s)try{for(var a=rv(s),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(t,n)}catch{}}}catch(d){r={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CM(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Bo),this.component?this.component.multipleInstances?t:Bo:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function CM(e){return e===Bo?void 0:e}function OM(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NM=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new kM(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Ir(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,o++)r[o]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jo,iy=[],Ze;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ze||(Ze={}));var E1={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},RM=Ze.INFO,xM=(jo={},jo[Ze.DEBUG]="log",jo[Ze.VERBOSE]="log",jo[Ze.INFO]="info",jo[Ze.WARN]="warn",jo[Ze.ERROR]="error",jo),PM=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=xM[t];if(s)console[s].apply(console,Ir(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},I1=function(){function e(t){this.name=t,this._logLevel=RM,this._logHandler=PM,this._userLogHandler=null,iy.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Ze))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?E1[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,Ze.DEBUG],t)),this._logHandler.apply(this,Ir([this,Ze.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,Ze.VERBOSE],t)),this._logHandler.apply(this,Ir([this,Ze.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,Ze.INFO],t)),this._logHandler.apply(this,Ir([this,Ze.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,Ze.WARN],t)),this._logHandler.apply(this,Ir([this,Ze.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,Ze.ERROR],t)),this._logHandler.apply(this,Ir([this,Ze.ERROR],t))},e}();function DM(e){iy.forEach(function(t){t.setLogLevel(e)})}function LM(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=E1[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var v=[],h=2;h<arguments.length;h++)v[h-2]=arguments[h];var m=v.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");d>=(l??f.logLevel)&&e({level:Ze[d].toLowerCase(),message:m,args:v,type:f.name})}},r=0,o=iy;r<o.length;r++){var s=o[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pi,MM=(Pi={},Pi["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Pi["bad-app-name"]="Illegal App name: '{$appName}",Pi["duplicate-app"]="Firebase App named '{$appName}' already exists",Pi["app-deleted"]="Firebase App named '{$appName}' already deleted",Pi["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Pi["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Pi),Qs=new ry("app","Firebase",MM),T1="@firebase/app",FM="0.6.30",VM="@firebase/analytics",jM="@firebase/app-check",UM="@firebase/auth",BM="@firebase/database",qM="@firebase/functions",$M="@firebase/installations",HM="@firebase/messaging",KM="@firebase/performance",GM="@firebase/remote-config",zM="@firebase/storage",WM="@firebase/firestore",XM="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,Bf="[DEFAULT]",QM=(fn={},fn[T1]="fire-core",fn[VM]="fire-analytics",fn[jM]="fire-app-check",fn[UM]="fire-auth",fn[BM]="fire-rtdb",fn[qM]="fire-fn",fn[$M]="fire-iid",fn[HM]="fire-fcm",fn[KM]="fire-perf",fn[GM]="fire-rc",fn[zM]="fire-gcs",fn[WM]="fire-fst",fn["fire-js"]="fire-js",fn[XM]="fire-js-all",fn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fu=new I1("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kf=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=lM(t),this.container=new NM(n.name),this._addComponent(new Oc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=Bf),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((r=o.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Bf),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){fu.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Qs.create("app-deleted",{appName:this.name_})},e}();kf.prototype.name&&kf.prototype.options||kf.prototype.delete||console.log("dc");var YM="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:d,setLogLevel:DM,onLog:v,apps:null,SDK_VERSION:YM,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:h}};r.default=r,Object.defineProperty(r,"apps",{get:l});function o(m){delete t[m]}function s(m){if(m=m||Bf,!eI(t,m))throw Qs.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var _=y;y={name:_}}var b=y;b.name===void 0&&(b.name=Bf);var S=b.name;if(typeof S!="string"||!S)throw Qs.create("bad-app-name",{appName:String(S)});if(eI(t,S))throw Qs.create("duplicate-app",{appName:S});var I=new e(m,b,r);return t[S]=I,I}function l(){return Object.keys(t).map(function(m){return t[m]})}function f(m){var y=m.name;if(n.has(y))return fu.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var _=function(R){if(R===void 0&&(R=s()),typeof R[y]!="function")throw Qs.create("invalid-app-argument",{appName:y});return R[y]()};m.serviceProps!==void 0&&uc(_,m.serviceProps),r[y]=_,e.prototype[y]=function(){for(var R=[],M=0;M<arguments.length;M++)R[M]=arguments[M];var U=this._getService.bind(this,y);return U.apply(this,m.multipleInstances?R:[])}}for(var b=0,S=Object.keys(t);b<S.length;b++){var I=S[b];t[I]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function d(m,y,_){var b,S=(b=QM[m])!==null&&b!==void 0?b:m;_&&(S+="-"+_);var I=S.match(/\s|\//),R=y.match(/\s|\//);if(I||R){var M=['Unable to register library "'+S+'" with version "'+y+'":'];I&&M.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),I&&R&&M.push("and"),R&&M.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),fu.warn(M.join(" "));return}f(new Oc(S+"-version",function(){return{library:S,version:y}},"VERSION"))}function v(m,y){if(m!==null&&typeof m!="function")throw Qs.create("invalid-log-argument");LM(m,y)}function h(m,y){if(y==="serverAuth")return null;var _=y;return _}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){var e=JM(kf);e.INTERNAL=lu(lu({},e.INTERNAL),{createFirebaseNamespace:S1,extendNamespace:t,createSubscribe:TM,ErrorFactory:ry,deepExtend:uc});function t(n){uc(e,n)}return e}var oy=S1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZM=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(eF(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function eF(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(e,t){e.INTERNAL.registerComponent(new Oc("platform-logger",function(n){return new ZM(n)},"PRIVATE")),e.registerVersion(T1,FM,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(pM()&&self.firebase!==void 0){fu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var tI=self.firebase.SDK_VERSION;tI&&tI.indexOf("LITE")>=0&&fu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var nF=oy.initializeApp;oy.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return w1()&&fu.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),nF.apply(void 0,e)};var Re=oy;tF(Re);var rF="firebase",A1="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Re.registerVersion(rF,A1,"app");Re.SDK_VERSION=A1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,u,c){i!=Array.prototype&&i!=Object.prototype&&(i[u]=c.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var u=0;u<i.length;++u){var c=i[u];if(c&&c.Math==Math)return c}return globalThis}var r=n(this);function o(i,u){if(u){var c=r;i=i.split(".");for(var p=0;p<i.length-1;p++){var g=i[p];g in c||(c[g]={}),c=c[g]}i=i[i.length-1],p=c[i],u=u(p),u!=p&&u!=null&&t(c,i,{configurable:!0,writable:!0,value:u})}}function s(i){var u=0;return function(){return u<i.length?{done:!1,value:i[u++]}:{done:!0}}}function a(i){var u=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return u?u.call(i):{next:s(i)}}o("Promise",function(i){function u(E){this.b=0,this.c=void 0,this.a=[];var C=this.f();try{E(C.resolve,C.reject)}catch(z){C.reject(z)}}function c(){this.a=null}function p(E){return E instanceof u?E:new u(function(C){C(E)})}if(i)return i;c.prototype.b=function(E){if(this.a==null){this.a=[];var C=this;this.c(function(){C.g()})}this.a.push(E)};var g=r.setTimeout;c.prototype.c=function(E){g(E,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var E=this.a;this.a=[];for(var C=0;C<E.length;++C){var z=E[C];E[C]=null;try{z()}catch(ne){this.f(ne)}}}this.a=null},c.prototype.f=function(E){this.c(function(){throw E})},u.prototype.f=function(){function E(ne){return function(Me){z||(z=!0,ne.call(C,Me))}}var C=this,z=!1;return{resolve:E(this.m),reject:E(this.g)}},u.prototype.m=function(E){if(E===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(E instanceof u)this.s(E);else{e:switch(typeof E){case"object":var C=E!=null;break e;case"function":C=!0;break e;default:C=!1}C?this.v(E):this.h(E)}},u.prototype.v=function(E){var C=void 0;try{C=E.then}catch(z){this.g(z);return}typeof C=="function"?this.u(C,E):this.h(E)},u.prototype.g=function(E){this.i(2,E)},u.prototype.h=function(E){this.i(1,E)},u.prototype.i=function(E,C){if(this.b!=0)throw Error("Cannot settle("+E+", "+C+"): Promise already settled in state"+this.b);this.b=E,this.c=C,this.l()},u.prototype.l=function(){if(this.a!=null){for(var E=0;E<this.a.length;++E)w.b(this.a[E]);this.a=null}};var w=new c;return u.prototype.s=function(E){var C=this.f();E.Ra(C.resolve,C.reject)},u.prototype.u=function(E,C){var z=this.f();try{E.call(C,z.resolve,z.reject)}catch(ne){z.reject(ne)}},u.prototype.then=function(E,C){function z(Je,Yt){return typeof Je=="function"?function(oi){try{ne(Je(oi))}catch(Xm){Me(Xm)}}:Yt}var ne,Me,st=new u(function(Je,Yt){ne=Je,Me=Yt});return this.Ra(z(E,ne),z(C,Me)),st},u.prototype.catch=function(E){return this.then(void 0,E)},u.prototype.Ra=function(E,C){function z(){switch(ne.b){case 1:E(ne.c);break;case 2:C(ne.c);break;default:throw Error("Unexpected state: "+ne.b)}}var ne=this;this.a==null?w.b(z):this.a.push(z)},u.resolve=p,u.reject=function(E){return new u(function(C,z){z(E)})},u.race=function(E){return new u(function(C,z){for(var ne=a(E),Me=ne.next();!Me.done;Me=ne.next())p(Me.value).Ra(C,z)})},u.all=function(E){var C=a(E),z=C.next();return z.done?p([]):new u(function(ne,Me){function st(oi){return function(Xm){Je[oi]=Xm,Yt--,Yt==0&&ne(Je)}}var Je=[],Yt=0;do Je.push(void 0),Yt++,p(z.value).Ra(st(Je.length-1),Me),z=C.next();while(!z.done)})},u});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,v=null;function h(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&d.test(i)?i:""}function m(){}function y(i){var u=typeof i;return u!="object"?u:i?Array.isArray(i)?"array":u:"null"}function _(i){var u=y(i);return u=="array"||u=="object"&&typeof i.length=="number"}function b(i){return y(i)=="function"}function S(i){var u=typeof i;return u=="object"&&i!=null||u=="function"}function I(i){return Object.prototype.hasOwnProperty.call(i,R)&&i[R]||(i[R]=++M)}var R="closure_uid_"+(1e9*Math.random()>>>0),M=0;function U(i,u,c){return i.call.apply(i.bind,arguments)}function P(i,u,c){if(!i)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,p),i.apply(u,g)}}return function(){return i.apply(u,arguments)}}function O(i,u,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?O=U:O=P,O.apply(null,arguments)}function j(i,u){var c=Array.prototype.slice.call(arguments,1);return function(){var p=c.slice();return p.push.apply(p,arguments),i.apply(this,p)}}function x(i,u){function c(){}c.prototype=u.prototype,i.bb=u.prototype,i.prototype=new c,i.prototype.constructor=i}function F(i){return i}function A(i,u,c){this.code=oe+i,this.message=u||we[i]||"",this.a=c||null}x(A,Error),A.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},A.prototype.toJSON=function(){return this.w()};function be(i){var u=i&&i.code;return u?new A(u.substring(oe.length),i.message,i.serverResponse):null}var oe="auth/",we={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ee={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ae(i){for(var u in Ee)if(Ee[u].id===i)return i=Ee[u],{firebaseEndpoint:i.Ua,secureTokenEndpoint:i.$a,identityPlatformEndpoint:i.Xa};return null}var he;he=Ae("__EID__")?"__EID__":void 0;function de(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function pe(i){if(Error.captureStackTrace)Error.captureStackTrace(this,pe);else{var u=Error().stack;u&&(this.stack=u)}i&&(this.message=String(i))}x(pe,Error),pe.prototype.name="CustomError";function et(i,u){i=i.split("%s");for(var c="",p=i.length-1,g=0;g<p;g++)c+=i[g]+(g<u.length?u[g]:"%s");pe.call(this,c+i[p])}x(et,pe),et.prototype.name="AssertionError";function Ye(i,u){throw new et("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function tt(i,u){this.c=i,this.f=u,this.b=0,this.a=null}tt.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function nt(i,u){i.f(u),100>i.b&&(i.b++,u.next=i.a,i.a=u)}function Nt(){this.b=this.a=null}var vt=new tt(function(){return new L},function(i){i.reset()});Nt.prototype.add=function(i,u){var c=vt.get();c.set(i,u),this.b?this.b.next=c:this.a=c,this.b=c};function J(){var i=t0,u=null;return i.a&&(u=i.a,i.a=i.a.next,i.a||(i.b=null),u.next=null),u}function L(){this.next=this.b=this.a=null}L.prototype.set=function(i,u){this.a=i,this.b=u,this.next=null},L.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(i,u){return Array.prototype.indexOf.call(i,u,void 0)}:function(i,u){if(typeof i=="string")return typeof u!="string"||u.length!=1?-1:i.indexOf(u,0);for(var c=0;c<i.length;c++)if(c in i&&i[c]===u)return c;return-1},ee=Array.prototype.forEach?function(i,u,c){Array.prototype.forEach.call(i,u,c)}:function(i,u,c){for(var p=i.length,g=typeof i=="string"?i.split(""):i,w=0;w<p;w++)w in g&&u.call(c,g[w],w,i)};function De(i,u){for(var c=typeof i=="string"?i.split(""):i,p=i.length-1;0<=p;--p)p in c&&u.call(void 0,c[p],p,i)}var je=Array.prototype.filter?function(i,u){return Array.prototype.filter.call(i,u,void 0)}:function(i,u){for(var c=i.length,p=[],g=0,w=typeof i=="string"?i.split(""):i,E=0;E<c;E++)if(E in w){var C=w[E];u.call(void 0,C,E,i)&&(p[g++]=C)}return p},Te=Array.prototype.map?function(i,u){return Array.prototype.map.call(i,u,void 0)}:function(i,u){for(var c=i.length,p=Array(c),g=typeof i=="string"?i.split(""):i,w=0;w<c;w++)w in g&&(p[w]=u.call(void 0,g[w],w,i));return p},k=Array.prototype.some?function(i,u){return Array.prototype.some.call(i,u,void 0)}:function(i,u){for(var c=i.length,p=typeof i=="string"?i.split(""):i,g=0;g<c;g++)if(g in p&&u.call(void 0,p[g],g,i))return!0;return!1};function D(i){e:{for(var u=ZN,c=i.length,p=typeof i=="string"?i.split(""):i,g=0;g<c;g++)if(g in p&&u.call(void 0,p[g],g,i)){u=g;break e}u=-1}return 0>u?null:typeof i=="string"?i.charAt(u):i[u]}function B(i,u){return 0<=H(i,u)}function W(i,u){u=H(i,u);var c;return(c=0<=u)&&Array.prototype.splice.call(i,u,1),c}function Q(i,u){var c=0;De(i,function(p,g){u.call(void 0,p,g,i)&&Array.prototype.splice.call(i,g,1).length==1&&c++})}function ae(i){return Array.prototype.concat.apply([],arguments)}function le(i){var u=i.length;if(0<u){for(var c=Array(u),p=0;p<u;p++)c[p]=i[p];return c}return[]}var se=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},fe=/&/g,T=/</g,N=/>/g,V=/"/g,$=/'/g,re=/\x00/g,te=/[\x00&<>"']/;function X(i,u){return i.indexOf(u)!=-1}function ve(i,u){return i<u?-1:i>u?1:0}var Le;e:{var Ve=f.navigator;if(Ve){var Kn=Ve.userAgent;if(Kn){Le=Kn;break e}}Le=""}function Ge(i){return X(Le,i)}function bi(i,u){for(var c in i)u.call(void 0,i[c],c,i)}function Lr(i){for(var u in i)return!1;return!0}function kt(i){var u={},c;for(c in i)u[c]=i[c];return u}var Gn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function en(i,u){for(var c,p,g=1;g<arguments.length;g++){p=arguments[g];for(c in p)i[c]=p[c];for(var w=0;w<Gn.length;w++)c=Gn[w],Object.prototype.hasOwnProperty.call(p,c)&&(i[c]=p[c])}}function L_(i,u){e:{try{var c=i&&i.ownerDocument,p=c&&(c.defaultView||c.parentWindow);if(p=p||f,p.Element&&p.Location){var g=p;break e}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!i||!(i instanceof g[u])&&(i instanceof g.Location||i instanceof g.Element))){if(S(i))try{var w=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{w="<object could not be stringified>"}else w=i===void 0?"undefined":i===null?"null":typeof i;Ye("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,w)}}function Mr(i,u){this.a=i===Jc&&u||"",this.b=M_}Mr.prototype.ta=!0,Mr.prototype.sa=function(){return this.a},Mr.prototype.toString=function(){return"Const{"+this.a+"}"};function Ed(i){return i instanceof Mr&&i.constructor===Mr&&i.b===M_?i.a:(Ye("expected object of type Const, got '"+i+"'"),"type_error:Const")}var M_={},Jc={},Zc;function F_(){if(Zc===void 0){var i=null,u=f.trustedTypes;if(u&&u.createPolicy){try{i=u.createPolicy("goog#html",{createHTML:F,createScript:F,createScriptURL:F})}catch(c){f.console&&f.console.error(c.message)}Zc=i}else Zc=i}return Zc}function Es(i,u){this.a=u===j_?i:""}Es.prototype.ta=!0,Es.prototype.sa=function(){return this.a.toString()},Es.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function V_(i){return i instanceof Es&&i.constructor===Es?i.a:(Ye("expected object of type TrustedResourceUrl, got '"+i+"' of type "+y(i)),"type_error:TrustedResourceUrl")}function Id(i,u){var c=Ed(i);if(!OO.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return i=c.replace(CO,function(p,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(u));return p=u[g],p instanceof Mr?Ed(p):encodeURIComponent(String(p))}),NO(i)}var CO=/%{(\w+)}/g,OO=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,j_={};function NO(i){var u=F_();return i=u?u.createScriptURL(i):i,new Es(i,j_)}function Rn(i,u){this.a=u===Wu?i:""}Rn.prototype.ta=!0,Rn.prototype.sa=function(){return this.a.toString()},Rn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function el(i){return i instanceof Rn&&i.constructor===Rn?i.a:(Ye("expected object of type SafeUrl, got '"+i+"' of type "+y(i)),"type_error:SafeUrl")}var RO=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,xO=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,U_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function B_(i){if(i instanceof Rn)return i;if(i=typeof i=="object"&&i.ta?i.sa():String(i),U_.test(i))i=new Rn(i,Wu);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var u=i.match(xO);i=u&&RO.test(u[1])?new Rn(i,Wu):null}return i}function q_(i){return i instanceof Rn?i:(i=typeof i=="object"&&i.ta?i.sa():String(i),U_.test(i)||(i="about:invalid#zClosurez"),new Rn(i,Wu))}var Wu={},$_=new Rn("about:invalid#zClosurez",Wu);function Is(i,u,c){this.a=c===H_?i:""}Is.prototype.ta=!0,Is.prototype.sa=function(){return this.a.toString()},Is.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function PO(i){return i instanceof Is&&i.constructor===Is?i.a:(Ye("expected object of type SafeHtml, got '"+i+"' of type "+y(i)),"type_error:SafeHtml")}var H_={};function DO(i,u){L_(i,"HTMLScriptElement"),i.src=V_(u),(u=i.ownerDocument&&i.ownerDocument.defaultView)&&u!=f?u=h(u.document):(v===null&&(v=h(f.document)),u=v),u&&i.setAttribute("nonce",u)}function K_(i,u,c,p){return i=i instanceof Rn?i:q_(i),u=u||f,c=c instanceof Mr?Ed(c):c||"",u.open(el(i),c,p,void 0)}function G_(i,u){for(var c=i.split("%s"),p="",g=Array.prototype.slice.call(arguments,1);g.length&&1<c.length;)p+=c.shift()+g.shift();return p+c.join("%s")}function Td(i){return te.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(fe,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(T,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(N,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(V,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace($,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(re,"&#0;"))),i}function Sd(i){return Sd[" "](i),i}Sd[" "]=m;function LO(i,u){var c=jO;return Object.prototype.hasOwnProperty.call(c,i)?c[i]:c[i]=u(i)}var MO=Ge("Opera"),vr=Ge("Trident")||Ge("MSIE"),z_=Ge("Edge"),FO=z_||vr,W_=Ge("Gecko")&&!(X(Le.toLowerCase(),"webkit")&&!Ge("Edge"))&&!(Ge("Trident")||Ge("MSIE"))&&!Ge("Edge"),VO=X(Le.toLowerCase(),"webkit")&&!Ge("Edge");function X_(){var i=f.document;return i?i.documentMode:void 0}var tl;e:{var Ad="",kd=function(){var i=Le;if(W_)return/rv:([^\);]+)(\)|;)/.exec(i);if(z_)return/Edge\/([\d\.]+)/.exec(i);if(vr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(VO)return/WebKit\/(\S+)/.exec(i);if(MO)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(kd&&(Ad=kd?kd[1]:""),vr){var Cd=X_();if(Cd!=null&&Cd>parseFloat(Ad)){tl=String(Cd);break e}}tl=Ad}var jO={};function Q_(i){return LO(i,function(){for(var u=0,c=se(String(tl)).split("."),p=se(String(i)).split("."),g=Math.max(c.length,p.length),w=0;u==0&&w<g;w++){var E=c[w]||"",C=p[w]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],C=/(\d*)(\D*)(.*)/.exec(C)||["","","",""],E[0].length==0&&C[0].length==0)break;u=ve(E[1].length==0?0:parseInt(E[1],10),C[1].length==0?0:parseInt(C[1],10))||ve(E[2].length==0,C[2].length==0)||ve(E[2],C[2]),E=E[3],C=C[3]}while(u==0)}return 0<=u})}var Od;if(f.document&&vr){var Y_=X_();Od=Y_||parseInt(tl,10)||void 0}else Od=void 0;var Ei=Od;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var UO=!vr||9<=Number(Ei);function Xu(i){var u=document;return typeof i=="string"?u.getElementById(i):i}function J_(i,u){bi(u,function(c,p){c&&typeof c=="object"&&c.ta&&(c=c.sa()),p=="style"?i.style.cssText=c:p=="class"?i.className=c:p=="for"?i.htmlFor=c:Z_.hasOwnProperty(p)?i.setAttribute(Z_[p],c):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?i.setAttribute(p,c):i[p]=c})}var Z_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function BO(i,u,c){var p=arguments,g=document,w=String(p[0]),E=p[1];if(!UO&&E&&(E.name||E.type)){if(w=["<",w],E.name&&w.push(' name="',Td(E.name),'"'),E.type){w.push(' type="',Td(E.type),'"');var C={};en(C,E),delete C.type,E=C}w.push(">"),w=w.join("")}return w=nl(g,w),E&&(typeof E=="string"?w.className=E:Array.isArray(E)?w.className=E.join(" "):J_(w,E)),2<p.length&&qO(g,w,p),w}function qO(i,u,c){function p(C){C&&u.appendChild(typeof C=="string"?i.createTextNode(C):C)}for(var g=2;g<c.length;g++){var w=c[g];if(!_(w)||S(w)&&0<w.nodeType)p(w);else{e:{if(w&&typeof w.length=="number"){if(S(w)){var E=typeof w.item=="function"||typeof w.item=="string";break e}if(b(w)){E=typeof w.item=="function";break e}}E=!1}ee(E?le(w):w,p)}}}function nl(i,u){return u=String(u),i.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),i.createElement(u)}function e0(i){f.setTimeout(function(){throw i},0)}var Nd;function $O(){var i=f.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Ge("Presto")&&(i=function(){var g=nl(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var w=g.contentWindow;g=w.document,g.open(),g.close();var E="callImmediate"+Math.random(),C=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;g=O(function(z){(C=="*"||z.origin==C)&&z.data==E&&this.port1.onmessage()},this),w.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(E,C)}}}),typeof i<"u"&&!Ge("Trident")&&!Ge("MSIE")){var u=new i,c={},p=c;return u.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var g=c.Hb;c.Hb=null,g()}},function(g){p.next={Hb:g},p=p.next,u.port2.postMessage(0)}}return function(g){f.setTimeout(g,0)}}function rl(i,u){il||HO(),Rd||(il(),Rd=!0),t0.add(i,u)}var il;function HO(){if(f.Promise&&f.Promise.resolve){var i=f.Promise.resolve(void 0);il=function(){i.then(n0)}}else il=function(){var u=n0;!b(f.setImmediate)||f.Window&&f.Window.prototype&&!Ge("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(Nd||(Nd=$O()),Nd(u)):f.setImmediate(u)}}var Rd=!1,t0=new Nt;function n0(){for(var i;i=J();){try{i.a.call(i.b)}catch(u){e0(u)}nt(vt,i)}Rd=!1}function $e(i,u){if(this.a=vo,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=m)try{var c=this;i.call(u,function(p){go(c,Qu,p)},function(p){if(!(p instanceof Ts))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}go(c,ti,p)})}catch(p){go(this,ti,p)}}var vo=0,Qu=2,ti=3;function r0(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}r0.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var i0=new tt(function(){return new r0},function(i){i.reset()});function xd(i,u,c){var p=i0.get();return p.g=i,p.b=u,p.f=c,p}function ke(i){if(i instanceof $e)return i;var u=new $e(m);return go(u,Qu,i),u}function wt(i){return new $e(function(u,c){c(i)})}function o0(i,u,c){c0(i,u,c,null)||rl(j(u,i))}function KO(i){return new $e(function(u,c){var p=i.length,g=[];if(p)for(var w=function(ne,Me){p--,g[ne]=Me,p==0&&u(g)},E=function(ne){c(ne)},C=0,z;C<i.length;C++)z=i[C],o0(z,j(w,C),E);else u(g)})}function s0(i){return new $e(function(u){var c=i.length,p=[];if(c)for(var g=function(C,z,ne){c--,p[C]=z?{Qb:!0,value:ne}:{Qb:!1,reason:ne},c==0&&u(p)},w=0,E;w<i.length;w++)E=i[w],o0(E,j(g,w,!0),j(g,w,!1));else u(p)})}$e.prototype.then=function(i,u,c){return a0(this,b(i)?i:null,b(u)?u:null,c)},$e.prototype.$goog_Thenable=!0,e=$e.prototype,e.oa=function(i,u){return i=xd(i,i,u),i.c=!0,Pd(this,i),this},e.o=function(i,u){return a0(this,null,i,u)},e.cancel=function(i){if(this.a==vo){var u=new Ts(i);rl(function(){u0(this,u)},this)}};function u0(i,u){if(i.a==vo)if(i.c){var c=i.c;if(c.b){for(var p=0,g=null,w=null,E=c.b;E&&(E.c||(p++,E.a==i&&(g=E),!(g&&1<p)));E=E.next)g||(w=E);g&&(c.a==vo&&p==1?u0(c,u):(w?(p=w,p.next==c.f&&(c.f=p),p.next=p.next.next):f0(c),h0(c,g,ti,u)))}i.c=null}else go(i,ti,u)}function Pd(i,u){i.b||i.a!=Qu&&i.a!=ti||l0(i),i.f?i.f.next=u:i.b=u,i.f=u}function a0(i,u,c,p){var g=xd(null,null,null);return g.a=new $e(function(w,E){g.g=u?function(C){try{var z=u.call(p,C);w(z)}catch(ne){E(ne)}}:w,g.b=c?function(C){try{var z=c.call(p,C);z===void 0&&C instanceof Ts?E(C):w(z)}catch(ne){E(ne)}}:E}),g.a.c=i,Pd(i,g),g.a}e.$c=function(i){this.a=vo,go(this,Qu,i)},e.ad=function(i){this.a=vo,go(this,ti,i)};function go(i,u,c){i.a==vo&&(i===c&&(u=ti,c=new TypeError("Promise cannot resolve to itself")),i.a=1,c0(c,i.$c,i.ad,i)||(i.i=c,i.a=u,i.c=null,l0(i),u!=ti||c instanceof Ts||zO(i,c)))}function c0(i,u,c,p){if(i instanceof $e)return Pd(i,xd(u||m,c||null,p)),!0;if(de(i))return i.then(u,c,p),!0;if(S(i))try{var g=i.then;if(b(g))return GO(i,g,u,c,p),!0}catch(w){return c.call(p,w),!0}return!1}function GO(i,u,c,p,g){function w(z){C||(C=!0,p.call(g,z))}function E(z){C||(C=!0,c.call(g,z))}var C=!1;try{u.call(i,E,w)}catch(z){w(z)}}function l0(i){i.h||(i.h=!0,rl(i.gc,i))}function f0(i){var u=null;return i.b&&(u=i.b,i.b=u.next,u.next=null),i.b||(i.f=null),u}e.gc=function(){for(var i;i=f0(this);)h0(this,i,this.a,this.i);this.h=!1};function h0(i,u,c,p){if(c==ti&&u.b&&!u.c)for(;i&&i.g;i=i.c)i.g=!1;if(u.a)u.a.c=null,d0(u,c,p);else try{u.c?u.g.call(u.f):d0(u,c,p)}catch(g){p0.call(null,g)}nt(i0,u)}function d0(i,u,c){u==Qu?i.g.call(i.f,c):i.b&&i.b.call(i.f,c)}function zO(i,u){i.g=!0,rl(function(){i.g&&p0.call(null,u)})}var p0=e0;function Ts(i){pe.call(this,i)}x(Ts,pe),Ts.prototype.name="cancel";function ol(){this.ya=this.ya,this.pa=this.pa}var WO=0;ol.prototype.ya=!1;function m0(i){!i.ya&&(i.ya=!0,i.Da(),WO!=0)&&I(i)}ol.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var XO=Object.freeze||function(i){return i},v0=!vr||9<=Number(Ei),QO=vr&&!Q_("9"),YO=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var i=!1,u=Object.defineProperty({},"passive",{get:function(){i=!0}});try{f.addEventListener("test",m,u),f.removeEventListener("test",m,u)}catch{}return i}();function xn(i,u){this.type=i,this.b=this.target=u,this.defaultPrevented=!1}xn.prototype.preventDefault=function(){this.defaultPrevented=!0};function yo(i,u){if(xn.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var c=this.type=i.type,p=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=u,u=i.relatedTarget){if(W_){e:{try{Sd(u.nodeName);var g=!0;break e}catch{}g=!1}g||(u=null)}}else c=="mouseover"?u=i.fromElement:c=="mouseout"&&(u=i.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:JO[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}x(yo,xn);var JO=XO({2:"touch",3:"pen",4:"mouse"});yo.prototype.preventDefault=function(){yo.bb.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,QO)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}},yo.prototype.g=function(){return this.a};var Yu="closure_listenable_"+(1e6*Math.random()|0),ZO=0;function eN(i,u,c,p,g){this.listener=i,this.proxy=null,this.src=u,this.type=c,this.capture=!!p,this.Wa=g,this.key=++ZO,this.wa=this.Qa=!1}function sl(i){i.wa=!0,i.listener=null,i.proxy=null,i.src=null,i.Wa=null}function ul(i){this.src=i,this.a={},this.b=0}ul.prototype.add=function(i,u,c,p,g){var w=i.toString();i=this.a[w],i||(i=this.a[w]=[],this.b++);var E=Ld(i,u,p,g);return-1<E?(u=i[E],c||(u.Qa=!1)):(u=new eN(u,this.src,w,!!p,g),u.Qa=c,i.push(u)),u};function Dd(i,u){var c=u.type;c in i.a&&W(i.a[c],u)&&(sl(u),i.a[c].length==0&&(delete i.a[c],i.b--))}function Ld(i,u,c,p){for(var g=0;g<i.length;++g){var w=i[g];if(!w.wa&&w.listener==u&&w.capture==!!c&&w.Wa==p)return g}return-1}var Md="closure_lm_"+(1e6*Math.random()|0),Fd={};function ur(i,u,c,p,g){if(p&&p.once)Vd(i,u,c,p,g);else if(Array.isArray(u))for(var w=0;w<u.length;w++)ur(i,u[w],c,p,g);else c=Ud(c),i&&i[Yu]?E0(i,u,c,S(p)?!!p.capture:!!p,g):g0(i,u,c,!1,p,g)}function g0(i,u,c,p,g,w){if(!u)throw Error("Invalid event type");var E=S(g)?!!g.capture:!!g,C=al(i);if(C||(i[Md]=C=new ul(i)),c=C.add(u,c,p,E,w),!c.proxy)if(p=tN(),c.proxy=p,p.src=i,p.listener=c,i.addEventListener)YO||(g=E),g===void 0&&(g=!1),i.addEventListener(u.toString(),p,g);else if(i.attachEvent)i.attachEvent(_0(u.toString()),p);else if(i.addListener&&i.removeListener)i.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function tN(){var i=nN,u=v0?function(c){return i.call(u.src,u.listener,c)}:function(c){if(c=i.call(u.src,u.listener,c),!c)return c};return u}function Vd(i,u,c,p,g){if(Array.isArray(u))for(var w=0;w<u.length;w++)Vd(i,u[w],c,p,g);else c=Ud(c),i&&i[Yu]?Bd(i,u,c,S(p)?!!p.capture:!!p,g):g0(i,u,c,!0,p,g)}function zn(i,u,c,p,g){if(Array.isArray(u))for(var w=0;w<u.length;w++)zn(i,u[w],c,p,g);else p=S(p)?!!p.capture:!!p,c=Ud(c),i&&i[Yu]?(i=i.v,u=String(u).toString(),u in i.a&&(w=i.a[u],c=Ld(w,c,p,g),-1<c&&(sl(w[c]),Array.prototype.splice.call(w,c,1),w.length==0&&(delete i.a[u],i.b--)))):i&&(i=al(i))&&(u=i.a[u.toString()],i=-1,u&&(i=Ld(u,c,p,g)),(c=-1<i?u[i]:null)&&y0(c))}function y0(i){if(typeof i!="number"&&i&&!i.wa){var u=i.src;if(u&&u[Yu])Dd(u.v,i);else{var c=i.type,p=i.proxy;u.removeEventListener?u.removeEventListener(c,p,i.capture):u.detachEvent?u.detachEvent(_0(c),p):u.addListener&&u.removeListener&&u.removeListener(p),(c=al(u))?(Dd(c,i),c.b==0&&(c.src=null,u[Md]=null)):sl(i)}}}function _0(i){return i in Fd?Fd[i]:Fd[i]="on"+i}function w0(i,u,c,p){var g=!0;if((i=al(i))&&(u=i.a[u.toString()]))for(u=u.concat(),i=0;i<u.length;i++){var w=u[i];w&&w.capture==c&&!w.wa&&(w=b0(w,p),g=g&&w!==!1)}return g}function b0(i,u){var c=i.listener,p=i.Wa||i.src;return i.Qa&&y0(i),c.call(p,u)}function nN(i,u){if(i.wa)return!0;if(!v0){if(!u)e:{u=["window","event"];for(var c=f,p=0;p<u.length;p++)if(c=c[u[p]],c==null){u=null;break e}u=c}if(p=u,u=new yo(p,this),c=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var g=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{g=!0}(g||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],g=u.b;g;g=g.parentNode)p.push(g);for(i=i.type,g=p.length-1;0<=g;g--){u.b=p[g];var w=w0(p[g],i,!0,u);c=c&&w}for(g=0;g<p.length;g++)u.b=p[g],w=w0(p[g],i,!1,u),c=c&&w}return c}return b0(i,new yo(u,this))}function al(i){return i=i[Md],i instanceof ul?i:null}var jd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ud(i){return b(i)?i:(i[jd]||(i[jd]=function(u){return i.handleEvent(u)}),i[jd])}function wn(){ol.call(this),this.v=new ul(this),this.bc=this,this.hb=null}x(wn,ol),wn.prototype[Yu]=!0,wn.prototype.addEventListener=function(i,u,c,p){ur(this,i,u,c,p)},wn.prototype.removeEventListener=function(i,u,c,p){zn(this,i,u,c,p)},wn.prototype.dispatchEvent=function(i){var u,c=this.hb;if(c)for(u=[];c;c=c.hb)u.push(c);c=this.bc;var p=i.type||i;if(typeof i=="string")i=new xn(i,c);else if(i instanceof xn)i.target=i.target||c;else{var g=i;i=new xn(p,c),en(i,g)}if(g=!0,u)for(var w=u.length-1;0<=w;w--){var E=i.b=u[w];g=cl(E,p,!0,i)&&g}if(E=i.b=c,g=cl(E,p,!0,i)&&g,g=cl(E,p,!1,i)&&g,u)for(w=0;w<u.length;w++)E=i.b=u[w],g=cl(E,p,!1,i)&&g;return g},wn.prototype.Da=function(){if(wn.bb.Da.call(this),this.v){var i=this.v,u;for(u in i.a){for(var c=i.a[u],p=0;p<c.length;p++)sl(c[p]);delete i.a[u],i.b--}}this.hb=null};function E0(i,u,c,p,g){i.v.add(String(u),c,!1,p,g)}function Bd(i,u,c,p,g){i.v.add(String(u),c,!0,p,g)}function cl(i,u,c,p){if(u=i.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,w=0;w<u.length;++w){var E=u[w];if(E&&!E.wa&&E.capture==c){var C=E.listener,z=E.Wa||E.src;E.Qa&&Dd(i.v,E),g=C.call(z,p)!==!1&&g}}return g&&!p.defaultPrevented}function qd(i,u,c){if(b(i))c&&(i=O(i,c));else if(i&&typeof i.handleEvent=="function")i=O(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:f.setTimeout(i,u||0)}function Ss(i){var u=null;return new $e(function(c,p){u=qd(function(){c(void 0)},i),u==-1&&p(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(u),c})}function I0(i){if(i.X&&typeof i.X=="function")return i.X();if(typeof i=="string")return i.split("");if(_(i)){for(var u=[],c=i.length,p=0;p<c;p++)u.push(i[p]);return u}u=[],c=0;for(p in i)u[c++]=i[p];return u}function T0(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.X||typeof i.X!="function"){if(_(i)||typeof i=="string"){var u=[];i=i.length;for(var c=0;c<i;c++)u.push(c);return u}u=[],c=0;for(var p in i)u[c++]=p;return u}}function rN(i,u){if(i.forEach&&typeof i.forEach=="function")i.forEach(u,void 0);else if(_(i)||typeof i=="string")ee(i,u,void 0);else for(var c=T0(i),p=I0(i),g=p.length,w=0;w<g;w++)u.call(void 0,p[w],c&&c[w],i)}function As(i,u){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var p=0;p<c;p+=2)this.set(arguments[p],arguments[p+1])}else if(i)if(i instanceof As)for(c=i.Y(),p=0;p<c.length;p++)this.set(c[p],i.get(c[p]));else for(p in i)this.set(p,i[p])}e=As.prototype,e.X=function(){$d(this);for(var i=[],u=0;u<this.a.length;u++)i.push(this.b[this.a[u]]);return i},e.Y=function(){return $d(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function $d(i){if(i.c!=i.a.length){for(var u=0,c=0;u<i.a.length;){var p=i.a[u];_o(i.b,p)&&(i.a[c++]=p),u++}i.a.length=c}if(i.c!=i.a.length){var g={};for(c=u=0;u<i.a.length;)p=i.a[u],_o(g,p)||(i.a[c++]=p,g[p]=1),u++;i.a.length=c}}e.get=function(i,u){return _o(this.b,i)?this.b[i]:u},e.set=function(i,u){_o(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=u},e.forEach=function(i,u){for(var c=this.Y(),p=0;p<c.length;p++){var g=c[p],w=this.get(g);i.call(u,w,g,this)}};function _o(i,u){return Object.prototype.hasOwnProperty.call(i,u)}var S0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function iN(i,u){if(i){i=i.split("&");for(var c=0;c<i.length;c++){var p=i[c].indexOf("="),g=null;if(0<=p){var w=i[c].substring(0,p);g=i[c].substring(p+1)}else w=i[c];u(w,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function Ii(i,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;i instanceof Ii?(this.i=u!==void 0?u:i.i,Ju(this,i.c),this.l=i.l,this.a=i.a,Zu(this,i.g),this.f=i.f,Hd(this,O0(i.b)),this.h=i.h):i&&(c=String(i).match(S0))?(this.i=!!u,Ju(this,c[1]||"",!0),this.l=ea(c[2]||""),this.a=ea(c[3]||"",!0),Zu(this,c[4]),this.f=ea(c[5]||"",!0),Hd(this,c[6]||"",!0),this.h=ea(c[7]||"")):(this.i=!!u,this.b=new wo(null,this.i))}Ii.prototype.toString=function(){var i=[],u=this.c;u&&i.push(ta(u,A0,!0),":");var c=this.a;return(c||u=="file")&&(i.push("//"),(u=this.l)&&i.push(ta(u,A0,!0),"@"),i.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&i.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&i.push("/"),i.push(ta(c,c.charAt(0)=="/"?uN:sN,!0))),(c=this.b.toString())&&i.push("?",c),(c=this.h)&&i.push("#",ta(c,cN)),i.join("")},Ii.prototype.resolve=function(i){var u=new Ii(this),c=!!i.c;c?Ju(u,i.c):c=!!i.l,c?u.l=i.l:c=!!i.a,c?u.a=i.a:c=i.g!=null;var p=i.f;if(c)Zu(u,i.g);else if(c=!!i.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var g=u.f.lastIndexOf("/");g!=-1&&(p=u.f.substr(0,g+1)+p)}if(g=p,g==".."||g==".")p="";else if(X(g,"./")||X(g,"/.")){p=g.lastIndexOf("/",0)==0,g=g.split("/");for(var w=[],E=0;E<g.length;){var C=g[E++];C=="."?p&&E==g.length&&w.push(""):C==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),p&&E==g.length&&w.push("")):(w.push(C),p=!0)}p=w.join("/")}else p=g}return c?u.f=p:c=i.b.toString()!=="",c?Hd(u,O0(i.b)):c=!!i.h,c&&(u.h=i.h),u};function Ju(i,u,c){i.c=c?ea(u,!0):u,i.c&&(i.c=i.c.replace(/:$/,""))}function Zu(i,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);i.g=u}else i.g=null}function Hd(i,u,c){u instanceof wo?(i.b=u,lN(i.b,i.i)):(c||(u=ta(u,aN)),i.b=new wo(u,i.i))}function Rt(i,u,c){i.b.set(u,c)}function ar(i,u){return i.b.get(u)}function Pn(i){return i instanceof Ii?new Ii(i):new Ii(i,void 0)}function ll(i,u,c,p){var g=new Ii(null,void 0);return i&&Ju(g,i),u&&(g.a=u),c&&Zu(g,c),p&&(g.f=p),g}function ea(i,u){return i?u?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ta(i,u,c){return typeof i=="string"?(i=encodeURI(i).replace(u,oN),c&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function oN(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var A0=/[#\/\?@]/g,sN=/[#\?:]/g,uN=/[#\?]/g,aN=/[#\?@]/g,cN=/#/g;function wo(i,u){this.b=this.a=null,this.c=i||null,this.f=!!u}function Ti(i){i.a||(i.a=new As,i.b=0,i.c&&iN(i.c,function(u,c){i.add(decodeURIComponent(u.replace(/\+/g," ")),c)}))}function k0(i){var u=T0(i);if(typeof u>"u")throw Error("Keys are undefined");var c=new wo(null,void 0);i=I0(i);for(var p=0;p<u.length;p++){var g=u[p],w=i[p];Array.isArray(w)?C0(c,g,w):c.add(g,w)}return c}e=wo.prototype,e.add=function(i,u){Ti(this),this.c=null,i=ks(this,i);var c=this.a.get(i);return c||this.a.set(i,c=[]),c.push(u),this.b+=1,this};function Fr(i,u){Ti(i),u=ks(i,u),_o(i.a.b,u)&&(i.c=null,i.b-=i.a.get(u).length,i=i.a,_o(i.b,u)&&(delete i.b[u],i.c--,i.a.length>2*i.c&&$d(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function Kd(i,u){return Ti(i),u=ks(i,u),_o(i.a.b,u)}e.forEach=function(i,u){Ti(this),this.a.forEach(function(c,p){ee(c,function(g){i.call(u,g,p,this)},this)},this)},e.Y=function(){Ti(this);for(var i=this.a.X(),u=this.a.Y(),c=[],p=0;p<u.length;p++)for(var g=i[p],w=0;w<g.length;w++)c.push(u[p]);return c},e.X=function(i){Ti(this);var u=[];if(typeof i=="string")Kd(this,i)&&(u=ae(u,this.a.get(ks(this,i))));else{i=this.a.X();for(var c=0;c<i.length;c++)u=ae(u,i[c])}return u},e.set=function(i,u){return Ti(this),this.c=null,i=ks(this,i),Kd(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[u]),this.b+=1,this},e.get=function(i,u){return i?(i=this.X(i),0<i.length?String(i[0]):u):u};function C0(i,u,c){Fr(i,u),0<c.length&&(i.c=null,i.a.set(ks(i,u),le(c)),i.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],u=this.a.Y(),c=0;c<u.length;c++){var p=u[c],g=encodeURIComponent(String(p));p=this.X(p);for(var w=0;w<p.length;w++){var E=g;p[w]!==""&&(E+="="+encodeURIComponent(String(p[w]))),i.push(E)}}return this.c=i.join("&")};function O0(i){var u=new wo;return u.c=i.c,i.a&&(u.a=new As(i.a),u.b=i.b),u}function ks(i,u){return u=String(u),i.f&&(u=u.toLowerCase()),u}function lN(i,u){u&&!i.f&&(Ti(i),i.c=null,i.a.forEach(function(c,p){var g=p.toLowerCase();p!=g&&(Fr(this,p),C0(this,g,c))},i)),i.f=u}function N0(i){var u=[];return Gd(new fN,i,u),u.join("")}function fN(){}function Gd(i,u,c){if(u==null)c.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var p=u;u=p.length,c.push("[");for(var g="",w=0;w<u;w++)c.push(g),Gd(i,p[w],c),g=",";c.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{c.push("{"),g="";for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&(w=u[p],typeof w!="function"&&(c.push(g),x0(p,c),c.push(":"),Gd(i,w,c),g=","));c.push("}");return}}switch(typeof u){case"string":x0(u,c);break;case"number":c.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":c.push(String(u));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var R0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},hN=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function x0(i,u){u.push('"',i.replace(hN,function(c){var p=R0[c];return p||(p="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),R0[c]=p),p}),'"')}function zd(){var i=tn();return vr&&!!Ei&&Ei==11||/Edge\/\d+/.test(i)}function na(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function P0(i,u){u=u||f.window;var c="about:blank";i&&(c=el(B_(i)||$_)),u.location.href=c}function D0(i,u){var c=[],p;for(p in i)p in u?typeof i[p]!=typeof u[p]?c.push(p):typeof i[p]=="object"&&i[p]!=null&&u[p]!=null?0<D0(i[p],u[p]).length&&c.push(p):i[p]!==u[p]&&c.push(p):c.push(p);for(p in u)p in i||c.push(p);return c}function dN(){var i=tn();return i=Cs(i)!=V0?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!vr||!Ei||9<Ei}function L0(i){return i=(i||tn()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function bo(i){i=i||f.window;try{i.close()}catch{}}function M0(i,u,c){var p=Math.floor(1e9*Math.random()).toString();u=u||500,c=c||600;var g=(window.screen.availHeight-c)/2,w=(window.screen.availWidth-u)/2;u={width:u,height:c,top:0<g?g:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=tn().toLowerCase(),p&&(u.target=p,X(c,"crios/")&&(u.target="_blank")),Cs(tn())==Qd&&(i=i||"http://localhost",u.scrollbars=!0),c=i||"",(i=u)||(i={}),p=window,u=c instanceof Rn?c:B_(typeof c.href<"u"?c.href:String(c))||$_,c=i.target||c.target,g=[];for(E in i)switch(E){case"width":case"height":case"top":case"left":g.push(E+"="+i[E]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(E+"="+(i[E]?1:0))}var E=g.join(",");if((Ge("iPhone")&&!Ge("iPod")&&!Ge("iPad")||Ge("iPad")||Ge("iPod"))&&p.navigator&&p.navigator.standalone&&c&&c!="_self"?(E=nl(document,"A"),L_(E,"HTMLAnchorElement"),u=u instanceof Rn?u:q_(u),E.href=el(u),E.setAttribute("target",c),i.noreferrer&&E.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,p,1),E.dispatchEvent(i),E={}):i.noreferrer?(E=K_("",p,c,E),i=el(u),E&&(FO&&X(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),E.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Td(i)+'">',i=(p=F_())?p.createHTML(i):i,i=new Is(i,null,H_),p=E.document)&&(p.write(PO(i)),p.close())):(E=K_(u,p,c,E))&&i.noopener&&(E.opener=null),E)try{E.focus()}catch{}return E}function pN(i){return new $e(function(u){function c(){Ss(2e3).then(function(){if(!i||i.closed)u();else return c()})}return c()})}var mN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vN=/^[^@]+@[^@]+$/;function fl(){var i=null;return new $e(function(u){f.document.readyState=="complete"?u():(i=function(){u()},Vd(window,"load",i))}).o(function(u){throw zn(window,"load",i),u})}function gN(){return Wd(void 0)?fl().then(function(){return new $e(function(i,u){var c=f.document,p=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(p),i()},!1)})}):wt(Error("Cordova must run in an Android or iOS file scheme."))}function Wd(i){return i=i||tn(),!(Ns()!=="file:"&&Ns()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xd(){var i=f.window;try{return!(!i||i==i.top)}catch{return!1}}function gr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Vr(){return Re.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Re.INTERNAL.hasOwnProperty("node")?"Node":gr()?"Worker":"Browser"}function F0(){var i=Vr();return i==="ReactNative"||i==="Node"}function yN(){for(var i=50,u=[];0<i;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return u.join("")}var Qd="Firefox",V0="Chrome";function Cs(i){var u=i.toLowerCase();if(X(u,"opera/")||X(u,"opr/")||X(u,"opios/"))return"Opera";if(X(u,"iemobile"))return"IEMobile";if(X(u,"msie")||X(u,"trident/"))return"IE";if(X(u,"edge/"))return"Edge";if(X(u,"firefox/"))return Qd;if(X(u,"silk/"))return"Silk";if(X(u,"blackberry"))return"Blackberry";if(X(u,"webos"))return"Webos";if(!X(u,"safari/")||X(u,"chrome/")||X(u,"crios/")||X(u,"android"))if(!X(u,"chrome/")&&!X(u,"crios/")||X(u,"edge/")){if(X(u,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return V0;else return"Safari";return"Other"}var j0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Os(i,u){u=u||[];var c=[],p={},g;for(g in j0)p[j0[g]]=!0;for(g=0;g<u.length;g++)typeof p[u[g]]<"u"&&(delete p[u[g]],c.push(u[g]));return c.sort(),u=c,u.length||(u=["FirebaseCore-web"]),c=Vr(),c==="Browser"?(p=tn(),c=Cs(p)):c==="Worker"&&(p=tn(),c=Cs(p)+"-"+c),c+"/JsCore/"+i+"/"+u.join(",")}function tn(){return f.navigator&&f.navigator.userAgent||""}function bt(i,u){i=i.split("."),u=u||f;for(var c=0;c<i.length&&typeof u=="object"&&u!=null;c++)u=u[i[c]];return c!=i.length&&(u=void 0),u}function Yd(){try{var i=f.localStorage,u=Io();if(i)return i.setItem(u,"1"),i.removeItem(u),zd()?!!f.indexedDB:!0}catch{return gr()&&!!f.indexedDB}return!1}function Eo(){return(hl()||Ns()==="chrome-extension:"||Wd())&&!F0()&&Yd()&&!gr()}function hl(){return Ns()==="http:"||Ns()==="https:"}function Ns(){return f.location&&f.location.protocol||null}function ra(i){return i=i||tn(),!(L0(i)||Cs(i)==Qd)}function ia(i){return typeof i>"u"?null:N0(i)}function U0(i){var u={},c;for(c in i)i.hasOwnProperty(c)&&i[c]!==null&&i[c]!==void 0&&(u[c]=i[c]);return u}function Rs(i){if(i!==null)return JSON.parse(i)}function Io(i){return i||Math.floor(1e9*Math.random()).toString()}function B0(i){return i=i||tn(),!(Cs(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function q0(){var i=f.___jsl;if(i&&i.H){for(var u in i.H)if(i.H[u].r=i.H[u].r||[],i.H[u].L=i.H[u].L||[],i.H[u].r=i.H[u].L.concat(),i.CP)for(var c=0;c<i.CP.length;c++)i.CP[c]=null}}function Si(i,u){if(i>u)throw Error("Short delay should be less than long delay!");this.a=i,this.c=u,i=tn(),u=Vr(),this.b=L0(i)||u==="ReactNative"}Si.prototype.get=function(){var i=f.navigator;return!(i&&typeof i.onLine=="boolean"&&(hl()||Ns()==="chrome-extension:"||typeof i.connection<"u"))||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Jd(){var i=f.document;return i&&typeof i.visibilityState<"u"?i.visibilityState=="visible":!0}function _N(){var i=f.document,u=null;return Jd()||!i?ke():new $e(function(c){u=function(){Jd()&&(i.removeEventListener("visibilitychange",u,!1),c())},i.addEventListener("visibilitychange",u,!1)}).o(function(c){throw i.removeEventListener("visibilitychange",u,!1),c})}function oa(i){try{var u=new Date(parseInt(i,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(i))return u.toUTCString()}catch{}return null}function $0(){return!(!bt("fireauth.oauthhelper",f)&&!bt("fireauth.iframe",f))}function wN(){var i=f.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function bN(){var i=f.navigator;return i&&i.serviceWorker?ke().then(function(){return i.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):ke(null)}var H0={};function Zd(i){H0[i]||(H0[i]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(i))}var ep;try{var tp={};Object.defineProperty(tp,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(tp,"abcd",{configurable:!0,enumerable:!0,value:2}),ep=tp.abcd==2}catch{ep=!1}function _e(i,u,c){ep?Object.defineProperty(i,u,{configurable:!0,enumerable:!0,value:c}):i[u]=c}function bn(i,u){if(u)for(var c in u)u.hasOwnProperty(c)&&_e(i,c,u[c])}function jr(i){var u={};return bn(u,i),u}function EN(i){var u={},c;for(c in i)i.hasOwnProperty(c)&&(u[c]=i[c]);return u}function IN(i,u){if(!u||!u.length)return!0;if(!i)return!1;for(var c=0;c<u.length;c++){var p=i[u[c]];if(p==null||p==="")return!1}return!0}function np(i){var u=i;if(typeof i=="object"&&i!=null){u="length"in i?[]:{};for(var c in i)_e(u,c,np(i[c]))}return u}function rp(i){var u=i&&(i[up]?"phone":null);if(u&&i&&i[sp]){_e(this,"uid",i[sp]),_e(this,"displayName",i[K0]||null);var c=null;i[op]&&(c=new Date(i[op]).toUTCString()),_e(this,"enrollmentTime",c),_e(this,"factorId",u)}else throw new A("internal-error","Internal assert: invalid MultiFactorInfo object")}rp.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function ip(i){try{var u=new sa(i)}catch{u=null}return u}var K0="displayName",op="enrolledAt",sp="mfaEnrollmentId",up="phoneInfo";function sa(i){rp.call(this,i),_e(this,"phoneNumber",i[up])}x(sa,rp),sa.prototype.w=function(){var i=sa.bb.w.call(this);return i.phoneNumber=this.phoneNumber,i};function TN(i){var u={},c=i[SN],p=i[kN],g=i[CN];if(i=ip(i[AN]),!g||g!=dl&&g!=ua&&!c||g==ua&&!p||g==ap&&!i)throw Error("Invalid checkActionCode response!");g==ua?(u[z0]=c||null,u[W0]=c||null,u[G0]=p):(u[z0]=p||null,u[W0]=p||null,u[G0]=c||null),u[ON]=i||null,_e(this,RN,g),_e(this,NN,np(u))}var ap="REVERT_SECOND_FACTOR_ADDITION",dl="EMAIL_SIGNIN",ua="VERIFY_AND_CHANGE_EMAIL",SN="email",AN="mfaInfo",kN="newEmail",CN="requestType",G0="email",z0="fromEmail",ON="multiFactorInfo",W0="previousEmail",NN="data",RN="operation";function cp(i){i=Pn(i);var u=ar(i,X0)||null,c=ar(i,Q0)||null,p=ar(i,Y0)||null;if(p=p&&LN[p]||null,!u||!c||!p)throw new A("argument-error",X0+", "+Q0+"and "+Y0+" are required in a valid action code URL.");bn(this,{apiKey:u,operation:p,code:c,continueUrl:ar(i,xN)||null,languageCode:ar(i,PN)||null,tenantId:ar(i,DN)||null})}var X0="apiKey",Q0="oobCode",xN="continueUrl",PN="languageCode",Y0="mode",DN="tenantId",LN={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ap,signIn:dl,verifyAndChangeEmail:ua,verifyEmail:"VERIFY_EMAIL"};function J0(i){try{return new cp(i)}catch{return null}}function pl(i){var u=i[MN];if(typeof u>"u")throw new A("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new A("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var c=i[Z0];if(c&&typeof c=="object"){u=c[iw];var p=c[nw];if(c=c[rw],typeof u=="string"&&u.length){if(this.a=u,typeof p<"u"&&typeof p!="boolean")throw new A("argument-error",nw+" property must be a boolean when specified.");if(this.g=!!p,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new A("argument-error",rw+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof u<"u")throw new A("argument-error",iw+" property must be a non empty string when specified.");if(typeof p<"u"||typeof c<"u")throw new A("missing-android-pkg-name")}}else if(typeof c<"u")throw new A("argument-error",Z0+" property must be a non null object when specified.");if(this.f=null,(u=i[tw])&&typeof u=="object"){if(u=u[ow],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new A("argument-error",ow+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new A("argument-error",tw+" property must be a non null object when specified.");if(u=i[lp],typeof u<"u"&&typeof u!="boolean")throw new A("argument-error",lp+" property must be a boolean when specified.");if(this.c=!!u,i=i[ew],typeof i<"u"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new A("argument-error",ew+" property must be a non empty string when specified.");this.i=i||null}var Z0="android",ew="dynamicLinkDomain",lp="handleCodeInApp",tw="iOS",MN="url",nw="installApp",rw="minimumVersion",iw="packageName",ow="bundleId";function ml(i){var u={};u.continueUrl=i.h,u.canHandleCodeInApp=i.c,(u.androidPackageName=i.a)&&(u.androidMinimumVersion=i.b,u.androidInstallApp=i.g),u.iOSBundleId=i.f,u.dynamicLinkDomain=i.i;for(var c in u)u[c]===null&&delete u[c];return u}function FN(i){return Te(i,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var aa=null;function VN(i){var u=[];return jN(i,function(c){u.push(c)}),u}function jN(i,u){function c(z){for(;p<i.length;){var ne=i.charAt(p++),Me=aa[ne];if(Me!=null)return Me;if(!/^[\s\xa0]*$/.test(ne))throw Error("Unknown base64 encoding at char: "+ne)}return z}UN();for(var p=0;;){var g=c(-1),w=c(0),E=c(64),C=c(64);if(C===64&&g===-1)break;u(g<<2|w>>4),E!=64&&(u(w<<4&240|E>>2),C!=64&&u(E<<6&192|C))}}function UN(){if(!aa){aa={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var p=i.concat(u[c].split("")),g=0;g<p.length;g++){var w=p[g];aa[w]===void 0&&(aa[w]=g)}}}function vl(i){var u=sw(i);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=i,this.a=u.exp,this.i=u.sub,i=Date.now()/1e3,this.g=u.iat||(i>this.a?this.a:i),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}vl.prototype.T=function(){return this.f},vl.prototype.l=function(){return this.c},vl.prototype.toString=function(){return this.h};function gl(i){try{return new vl(i)}catch{return null}}function sw(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var u=(4-i.length%4)%4,c=0;c<u;c++)i+=".";try{var p=VN(i);for(i=[],c=u=0;u<p.length;){var g=p[u++];if(128>g)i[c++]=String.fromCharCode(g);else if(191<g&&224>g){var w=p[u++];i[c++]=String.fromCharCode((g&31)<<6|w&63)}else if(239<g&&365>g){w=p[u++];var E=p[u++],C=p[u++],z=((g&7)<<18|(w&63)<<12|(E&63)<<6|C&63)-65536;i[c++]=String.fromCharCode(55296+(z>>10)),i[c++]=String.fromCharCode(56320+(z&1023))}else w=p[u++],E=p[u++],i[c++]=String.fromCharCode((g&15)<<12|(w&63)<<6|E&63)}return JSON.parse(i.join(""))}catch{}return null}var uw="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),yl=["client_id","response_type","scope","redirect_uri","state"],fp={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:yl},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:yl},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:yl},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:uw},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function hp(i){for(var u in fp)if(fp[u].fa==i)return fp[u];return null}function aw(i){var u={};u["facebook.com"]=lw,u["google.com"]=hw,u["github.com"]=fw,u["twitter.com"]=dw;var c=i&&i[cw];try{if(c)return u[c]?new u[c](i):new Ur(i);if(typeof i[dp]<"u")return new pp(i)}catch{}return null}var dp="idToken",cw="providerId";function pp(i){var u=i[cw];if(!u&&i[dp]){var c=gl(i[dp]);c&&c.b&&(u=c.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),c=!1,typeof i.isNewUser<"u"?c=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),_e(this,"providerId",u),_e(this,"isNewUser",c)}function Ur(i){pp.call(this,i),i=Rs(i.rawUserInfo||"{}"),_e(this,"profile",np(i||{}))}x(Ur,pp);function lw(i){if(Ur.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}x(lw,Ur);function fw(i){if(Ur.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");_e(this,"username",this.profile&&this.profile.login||null)}x(fw,Ur);function hw(i){if(Ur.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}x(hw,Ur);function dw(i){if(Ur.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");_e(this,"username",i.screenName||null)}x(dw,Ur);function pw(i){var u=Pn(i),c=ar(u,"link"),p=ar(Pn(c),"link");return u=ar(u,"deep_link_id"),ar(Pn(u),"link")||u||p||c||i}function _l(i,u){if(!i&&!u)throw new A("internal-error","Internal assert: no raw session string available");if(i&&u)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=u||null,this.type=this.a?ca:wl}var ca="enroll",wl="signin";_l.prototype.Ha=function(){return this.a?ke(this.a):ke(this.b)},_l.prototype.w=function(){return this.type==ca?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function xs(){}xs.prototype.ka=function(){},xs.prototype.b=function(){},xs.prototype.c=function(){},xs.prototype.w=function(){};function Ps(i,u){return i.then(function(c){if(c[wr]){var p=gl(c[wr]);if(!p||u!=p.i)throw new A("user-mismatch");return c}throw new A("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==oe+"user-not-found"?new A("user-mismatch"):c})}function To(i,u){if(u)this.a=u;else throw new A("internal-error","failed to construct a credential");_e(this,"providerId",i),_e(this,"signInMethod",i)}To.prototype.ka=function(i){return Vp(i,mp(this))},To.prototype.b=function(i,u){var c=mp(this);return c.idToken=u,jp(i,c)},To.prototype.c=function(i,u){return Ps(Up(i,mp(this)),u)};function mp(i){return{pendingToken:i.a,requestUri:"http://localhost"}}To.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function BN(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new To(i.providerId,i.pendingToken)}catch{}return null}function ni(i,u,c){if(this.a=null,u.idToken||u.accessToken)u.idToken&&_e(this,"idToken",u.idToken),u.accessToken&&_e(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&_e(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)_e(this,"accessToken",u.oauthToken),_e(this,"secret",u.oauthTokenSecret);else throw new A("internal-error","failed to construct a credential");_e(this,"providerId",i),_e(this,"signInMethod",c)}ni.prototype.ka=function(i){return Vp(i,vp(this))},ni.prototype.b=function(i,u){var c=vp(this);return c.idToken=u,jp(i,c)},ni.prototype.c=function(i,u){var c=vp(this);return Ps(Up(i,c),u)};function vp(i){var u={};return i.idToken&&(u.id_token=i.idToken),i.accessToken&&(u.access_token=i.accessToken),i.secret&&(u.oauth_token_secret=i.secret),u.providerId=i.providerId,i.nonce&&!i.a&&(u.nonce=i.nonce),u={postBody:k0(u).toString(),requestUri:"http://localhost"},i.a&&(delete u.postBody,u.pendingToken=i.a),u}ni.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function qN(i){if(i&&i.providerId&&i.signInMethod){var u={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new ni(i.providerId,u,i.signInMethod)}catch{}}return null}function So(i,u){this.Qc=u||[],bn(this,{providerId:i,isOAuthProvider:!0}),this.Jb={},this.qb=(hp(i)||{}).Ja||null,this.pb=null}So.prototype.Ka=function(i){return this.Jb=kt(i),this};function mw(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');So.call(this,i,[])}x(mw,So);function Wn(i){So.call(this,i,yl),this.a=[]}x(Wn,So),Wn.prototype.Ca=function(i){return B(this.a,i)||this.a.push(i),this},Wn.prototype.Rb=function(){return le(this.a)},Wn.prototype.credential=function(i,u){var c;if(S(i)?c={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:c={idToken:i||null,accessToken:u||null},!c.idToken&&!c.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new ni(this.providerId,c,this.providerId)};function Ao(){Wn.call(this,"facebook.com")}x(Ao,Wn),_e(Ao,"PROVIDER_ID","facebook.com"),_e(Ao,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function vw(i){if(!i)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=i;return S(i)&&(u=i.accessToken),new Ao().credential({accessToken:u})}function ko(){Wn.call(this,"github.com")}x(ko,Wn),_e(ko,"PROVIDER_ID","github.com"),_e(ko,"GITHUB_SIGN_IN_METHOD","github.com");function gw(i){if(!i)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=i;return S(i)&&(u=i.accessToken),new ko().credential({accessToken:u})}function Co(){Wn.call(this,"google.com"),this.Ca("profile")}x(Co,Wn),_e(Co,"PROVIDER_ID","google.com"),_e(Co,"GOOGLE_SIGN_IN_METHOD","google.com");function yw(i,u){var c=i;return S(i)&&(c=i.idToken,u=i.accessToken),new Co().credential({idToken:c,accessToken:u})}function Ds(){So.call(this,"twitter.com",uw)}x(Ds,So),_e(Ds,"PROVIDER_ID","twitter.com"),_e(Ds,"TWITTER_SIGN_IN_METHOD","twitter.com");function _w(i,u){var c=i;if(S(c)||(c={oauthToken:i,oauthTokenSecret:u}),!c.oauthToken||!c.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ni("twitter.com",c,"twitter.com")}function Ai(i,u,c){this.a=i,this.f=u,_e(this,"providerId","password"),_e(this,"signInMethod",c===cr.EMAIL_LINK_SIGN_IN_METHOD?cr.EMAIL_LINK_SIGN_IN_METHOD:cr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Ai.prototype.ka=function(i){return this.signInMethod==cr.EMAIL_LINK_SIGN_IN_METHOD?He(i,AR,{email:this.a,oobCode:this.f}):He(i,zw,{email:this.a,password:this.f})},Ai.prototype.b=function(i,u){return this.signInMethod==cr.EMAIL_LINK_SIGN_IN_METHOD?He(i,kR,{idToken:u,email:this.a,oobCode:this.f}):He(i,Gw,{idToken:u,email:this.a,password:this.f})},Ai.prototype.c=function(i,u){return Ps(this.ka(i),u)},Ai.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function $N(i){return i&&i.email&&i.password?new Ai(i.email,i.password,i.signInMethod):null}function cr(){bn(this,{providerId:"password",isOAuthProvider:!1})}function ww(i,u){if(u=gp(u),!u)throw new A("argument-error","Invalid email link!");return new Ai(i,u.code,cr.EMAIL_LINK_SIGN_IN_METHOD)}function gp(i){return i=pw(i),(i=J0(i))&&i.operation===dl?i:null}bn(cr,{PROVIDER_ID:"password"}),bn(cr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),bn(cr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ki(i){if(!(i.fb&&i.eb||i.La&&i.ea))throw new A("internal-error");this.a=i,_e(this,"providerId","phone"),this.fa="phone",_e(this,"signInMethod","phone")}ki.prototype.ka=function(i){return i.gb(la(this))},ki.prototype.b=function(i,u){var c=la(this);return c.idToken=u,He(i,zR,c)},ki.prototype.c=function(i,u){var c=la(this);return c.operation="REAUTH",i=He(i,WR,c),Ps(i,u)},ki.prototype.w=function(){var i={providerId:"phone"};return this.a.fb&&(i.verificationId=this.a.fb),this.a.eb&&(i.verificationCode=this.a.eb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function HN(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var u={};return ee(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){i[c]&&(u[c]=i[c])}),new ki(u)}return null}function la(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.fb,code:i.a.eb}}function ri(i){try{this.a=i||Re.auth()}catch{throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}bn(this,{providerId:"phone",isOAuthProvider:!1})}ri.prototype.gb=function(i,u){var c=this.a.a;return ke(u.verify()).then(function(p){if(typeof p!="string")throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=S(i)?i.session:null,w=S(i)?i.phoneNumber:i,E;return g&&g.type==ca?E=g.Ha().then(function(C){return gR(c,{idToken:C,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:p}})}):g&&g.type==wl?E=g.Ha().then(function(C){return yR(c,{mfaPendingCredential:C,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):E=vR(c,{phoneNumber:w,recaptchaToken:p}),E.then(function(C){return typeof u.reset=="function"&&u.reset(),C},function(C){throw typeof u.reset=="function"&&u.reset(),C});default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function bw(i,u){if(!i)throw new A("missing-verification-id");if(!u)throw new A("missing-verification-code");return new ki({fb:i,eb:u})}bn(ri,{PROVIDER_ID:"phone"}),bn(ri,{PHONE_SIGN_IN_METHOD:"phone"});function yp(i){if(i.temporaryProof&&i.phoneNumber)return new ki({La:i.temporaryProof,ea:i.phoneNumber});var u=i&&i.providerId;if(!u||u==="password")return null;var c=i&&i.oauthAccessToken,p=i&&i.oauthTokenSecret,g=i&&i.nonce,w=i&&i.oauthIdToken,E=i&&i.pendingToken;try{switch(u){case"google.com":return yw(w,c);case"facebook.com":return vw(c);case"github.com":return gw(c);case"twitter.com":return _w(c,p);default:return c||p||w||E?E?u.indexOf("saml.")==0?new To(u,E):new ni(u,{pendingToken:E,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},u):new Wn(u).credential({idToken:w,accessToken:c,rawNonce:g}):null}}catch{return null}}function _p(i){if(!i.isOAuthProvider)throw new A("invalid-oauth-provider")}function yr(i,u,c,p,g,w,E){if(this.c=i,this.b=u||null,this.g=c||null,this.f=p||null,this.i=w||null,this.h=E||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}else throw new A("invalid-auth-event")}yr.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},yr.prototype.T=function(){return this.h},yr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Ew(i){return i=i||{},i.type?new yr(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&be(i.error),i.postBody,i.tenantId):null}function KN(){this.b=null,this.a=[]}var wp=null;function GN(i){var u=wp;u.a.push(i),u.b||(u.b=function(c){for(var p=0;p<u.a.length;p++)u.a[p](c)},i=bt("universalLinks.subscribe",f),typeof i=="function"&&i(null,u.b))}function bp(i){var u="unauthorized-domain",c=void 0,p=Pn(i);i=p.a,p=p.c,p=="chrome-extension"?c=G_("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):p=="http"||p=="https"?c=G_("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):u="operation-not-supported-in-this-environment",A.call(this,u,c)}x(bp,A);function fa(i,u,c){A.call(this,i,c),i=u||{},i.Kb&&_e(this,"email",i.Kb),i.ea&&_e(this,"phoneNumber",i.ea),i.credential&&_e(this,"credential",i.credential),i.$b&&_e(this,"tenantId",i.$b)}x(fa,A),fa.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&en(i,u),i},fa.prototype.toJSON=function(){return this.w()};function bl(i){if(i.code){var u=i.code||"";u.indexOf(oe)==0&&(u=u.substring(oe.length));var c={credential:yp(i),$b:i.tenantId};if(i.email)c.Kb=i.email;else if(i.phoneNumber)c.ea=i.phoneNumber;else if(!c.credential)return new A(u,i.message||void 0);return new fa(u,c,i.message)}return null}function ha(){}ha.prototype.c=null;function Iw(i){return i.c||(i.c=i.b())}var Ep;function El(){}x(El,ha),El.prototype.a=function(){var i=Tw(this);return i?new ActiveXObject(i):new XMLHttpRequest},El.prototype.b=function(){var i={};return Tw(this)&&(i[0]=!0,i[1]=!0),i};function Tw(i){if(!i.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<u.length;c++){var p=u[c];try{return new ActiveXObject(p),i.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}Ep=new El;function Il(){}x(Il,ha),Il.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest<"u")return new Sw;throw Error("Unsupported browser")},Il.prototype.b=function(){return{}};function Sw(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=O(this.qc,this),this.a.onerror=O(this.Tb,this),this.a.onprogress=O(this.rc,this),this.a.ontimeout=O(this.vc,this)}e=Sw.prototype,e.open=function(i,u,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(i,u)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ip(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Ip(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Ip(this,1)};function Ip(i,u){i.readyState=u,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Tp(i,u,c){this.reset(i,u,c,void 0,void 0)}Tp.prototype.a=null,Tp.prototype.reset=function(i,u,c,p,g){delete this.a};function Sp(i){this.f=i,this.b=this.c=this.a=null}function da(i,u){this.name=i,this.value=u}da.prototype.toString=function(){return this.name};var Aw=new da("SEVERE",1e3),Ap=new da("WARNING",900),zN=new da("CONFIG",700),WN=new da("FINE",500);function kw(i){return i.c?i.c:i.a?kw(i.a):(Ye("Root logger has no level set."),null)}Sp.prototype.log=function(i,u,c){if(i.value>=kw(this).value)for(b(u)&&(u=u()),i=new Tp(i,String(u),this.f),c&&(i.a=c),c=this;c;)c=c.a};var kp={},Tl=null;function Cp(i){Tl||(Tl=new Sp(""),kp[""]=Tl,Tl.c=zN);var u;if(!(u=kp[i])){u=new Sp(i);var c=i.lastIndexOf("."),p=i.substr(c+1);c=Cp(i.substr(0,c)),c.b||(c.b={}),c.b[p]=u,u.a=c,kp[i]=u}return u}function lr(i,u){i&&i.log(WN,u,void 0)}function Sl(i){this.f=i}x(Sl,ha),Sl.prototype.a=function(){return new Al(this.f)},Sl.prototype.b=function(i){return function(){return i}}({});function Al(i){wn.call(this),this.u=i,this.h=void 0,this.readyState=Op,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Cp("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}x(Al,wn);var Op=0;e=Al.prototype,e.open=function(i,u){if(this.readyState!=Op)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=u,this.readyState=1,ma(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(u.body=i),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,pa(this)),this.readyState=Op},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,ma(this)),this.a&&(this.readyState=3,ma(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,Cw(this)):i.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Cw(i){i.c.read().then(i.pc.bind(i)).catch(i.Va.bind(i))}e.pc=function(i){if(this.a){var u=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});u&&(this.response=this.responseText+=u),i.done?pa(this):ma(this),this.readyState==3&&Cw(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,pa(this))},e.sc=function(i){this.a&&(this.response=i,pa(this))},e.Va=function(i){var u=this.i;u&&u.log(Ap,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&pa(this)};function pa(i){i.readyState=4,i.g=null,i.c=null,i.m=null,ma(i)}e.setRequestHeader=function(i,u){this.l.append(i,u)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(Ap,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(Ap,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var u=this.b.entries(),c=u.next();!c.done;)c=c.value,i.push(c[0]+": "+c[1]),c=u.next();return i.join(`\r
`)};function ma(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(Al.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function va(i){wn.call(this),this.headers=new As,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ow,this.u=this.S=!1}x(va,wn);var Ow="";va.prototype.b=Cp("goog.net.XhrIo");var XN=/^https?$/i,QN=["POST","PUT"];function YN(i,u,c,p,g){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+u);c=c?c.toUpperCase():"GET",i.l=u,i.h="",i.P=c,i.J=!1,i.c=!0,i.a=i.D?i.D.a():Ep.a(),i.C=i.D?Iw(i.D):Iw(Ep),i.a.onreadystatechange=O(i.Wb,i);try{lr(i.b,ii(i,"Opening Xhr")),i.N=!0,i.a.open(c,String(u),!0),i.N=!1}catch(E){lr(i.b,ii(i,"Error opening Xhr: "+E.message)),Nw(i,E);return}u=p||"";var w=new As(i.headers);g&&rN(g,function(E,C){w.set(C,E)}),g=D(w.Y()),p=f.FormData&&u instanceof f.FormData,!B(QN,c)||g||p||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(E,C){this.a.setRequestHeader(C,E)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{Pw(i),0<i.g&&(i.u=JN(i.a),lr(i.b,ii(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=O(i.Ma,i)):i.s=qd(i.Ma,i.g,i)),lr(i.b,ii(i,"Sending request")),i.i=!0,i.a.send(u),i.i=!1}catch(E){lr(i.b,ii(i,"Send error: "+E.message)),Nw(i,E)}}function JN(i){return vr&&Q_(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function ZN(i){return i.toLowerCase()=="content-type"}e=va.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",lr(this.b,ii(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Nw(i,u){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=u,Rw(i),kl(i)}function Rw(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(lr(this.b,ii(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),kl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),kl(this,!0)),va.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?xw(this):this.Jc())},e.Jc=function(){xw(this)};function xw(i){if(i.c&&typeof l<"u"){if(i.C[1]&&ga(i)==4&&Cl(i)==2)lr(i.b,ii(i,"Local request error detected and ignored"));else if(i.i&&ga(i)==4)qd(i.Wb,0,i);else if(i.dispatchEvent("readystatechange"),ga(i)==4){lr(i.b,ii(i,"Request complete")),i.c=!1;try{var u=Cl(i);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var p;if(!(p=c)){var g;if(g=u===0){var w=String(i.l).match(S0)[1]||null;if(!w&&f.self&&f.self.location){var E=f.self.location.protocol;w=E.substr(0,E.length-1)}g=!XN.test(w?w.toLowerCase():"")}p=g}if(p)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var C=2<ga(i)?i.a.statusText:""}catch(z){lr(i.b,"Can not get status: "+z.message),C=""}i.h=C+" ["+Cl(i)+"]",Rw(i)}}finally{kl(i)}}}}function kl(i,u){if(i.a){Pw(i);var c=i.a,p=i.C[0]?m:null;i.a=null,i.C=null,u||i.dispatchEvent("ready");try{c.onreadystatechange=p}catch(g){(i=i.b)&&i.log(Aw,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function Pw(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(f.clearTimeout(i.s),i.s=null)}function ga(i){return i.a?i.a.readyState:0}function Cl(i){try{return 2<ga(i)?i.a.status:-1}catch{return-1}}function eR(i){try{return i.a?i.a.responseText:""}catch(u){return lr(i.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ow:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(Aw,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return lr(this.b,"Can not get response: "+u.message),null}};function ii(i,u){return u+" ["+i.P+" "+i.l+" "+Cl(i)+"]"}function Oo(i){var u=rR;this.g=[],this.u=u,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Oo.prototype.cancel=function(i){if(this.a)this.c instanceof Oo&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,i?u.cancel(i):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new _a,Ol(this),ya(this,!1,i))}},Oo.prototype.m=function(i,u){this.i=!1,ya(this,i,u)};function ya(i,u,c){i.a=!0,i.c=c,i.f=!u,Lw(i)}function Ol(i){if(i.a){if(!i.v)throw new Nl;i.v=!1}}function tR(i,u){Np(i,null,u,void 0)}function Np(i,u,c,p){i.g.push([u,c,p]),i.a&&Lw(i)}Oo.prototype.then=function(i,u,c){var p,g,w=new $e(function(E,C){p=E,g=C});return Np(this,p,function(E){E instanceof _a?w.cancel():g(E)}),w.then(i,u,c)},Oo.prototype.$goog_Thenable=!0;function Dw(i){return k(i.g,function(u){return b(u[1])})}function Lw(i){if(i.h&&i.a&&Dw(i)){var u=i.h,c=Rl[u];c&&(f.clearTimeout(c.a),delete Rl[u]),i.h=0}i.b&&(i.b.l--,delete i.b),u=i.c;for(var p=c=!1;i.g.length&&!i.i;){var g=i.g.shift(),w=g[0],E=g[1];if(g=g[2],w=i.f?E:w)try{var C=w.call(g||i.s,u);C!==void 0&&(i.f=i.f&&(C==u||C instanceof Error),i.c=u=C),(de(u)||typeof f.Promise=="function"&&u instanceof f.Promise)&&(p=!0,i.i=!0)}catch(z){u=z,i.f=!0,Dw(i)||(c=!0)}}i.c=u,p&&(C=O(i.m,i,!0),p=O(i.m,i,!1),u instanceof Oo?(Np(u,C,p),u.C=!0):u.then(C,p)),c&&(u=new Mw(u),Rl[u.a]=u,i.h=u.a)}function Nl(){pe.call(this)}x(Nl,pe),Nl.prototype.message="Deferred has already fired",Nl.prototype.name="AlreadyCalledError";function _a(){pe.call(this)}x(_a,pe),_a.prototype.message="Deferred was canceled",_a.prototype.name="CanceledError";function Mw(i){this.a=f.setTimeout(O(this.c,this),0),this.b=i}Mw.prototype.c=function(){throw delete Rl[this.a],this.b};var Rl={};function Rp(i){var u={},c=u.document||document,p=V_(i).toString(),g=nl(document,"SCRIPT"),w={Xb:g,Ma:void 0},E=new Oo(w),C=null,z=u.timeout!=null?u.timeout:5e3;return 0<z&&(C=window.setTimeout(function(){xl(g,!0);var ne=new xp(oR,"Timeout reached for loading script "+p);Ol(E),ya(E,!1,ne)},z),w.Ma=C),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(xl(g,u.xd||!1,C),Ol(E),ya(E,!0,null))},g.onerror=function(){xl(g,!0,C);var ne=new xp(iR,"Error while loading script "+p);Ol(E),ya(E,!1,ne)},w=u.attributes||{},en(w,{type:"text/javascript",charset:"UTF-8"}),J_(g,w),DO(g,i),nR(c).appendChild(g),E}function nR(i){var u;return(u=(i||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:i.documentElement}function rR(){if(this&&this.Xb){var i=this.Xb;i&&i.tagName=="SCRIPT"&&xl(i,!0,this.Ma)}}function xl(i,u,c){c!=null&&f.clearTimeout(c),i.onload=m,i.onerror=m,i.onreadystatechange=m,u&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var iR=0,oR=1;function xp(i,u){var c="Jsloader error (code #"+i+")";u&&(c+=": "+u),pe.call(this,c),this.code=i}x(xp,pe);function Pl(i){this.f=i}x(Pl,ha),Pl.prototype.a=function(){return new this.f},Pl.prototype.b=function(){return{}};function _r(i,u,c){if(this.c=i,i=u||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||sR,this.g=kt(i.secureTokenHeaders||uR),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||aR,this.a=kt(i.firebaseHeaders||cR),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Vr()=="Node",c=f.XMLHttpRequest||c&&Re.INTERNAL.node&&Re.INTERNAL.node.XMLHttpRequest,!c&&!gr())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,gr()?this.f=new Sl(self):F0()?this.f=new Pl(c):this.f=new Il,this.b=null}var Pp,wr="idToken",sR=new Si(3e4,6e4),uR={"Content-Type":"application/x-www-form-urlencoded"},aR=new Si(3e4,6e4),cR={"Content-Type":"application/json"};function Fw(i,u){u?i.a["X-Firebase-Locale"]=u:delete i.a["X-Firebase-Locale"]}function Dl(i,u){u&&(i.l=Dp("https://securetoken.googleapis.com/v1/token",u),i.h=Dp("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),i.i=Dp("https://identitytoolkit.googleapis.com/v2/",u))}function Dp(i,u){return i=Pn(i),u=Pn(u.url),i.f=i.a+i.f,Ju(i,u.c),i.a=u.a,Zu(i,u.g),i.toString()}function Vw(i,u){u?(i.a["X-Client-Version"]=u,i.g["X-Client-Version"]=u):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}_r.prototype.T=function(){return this.b};function jw(i,u,c,p,g,w,E){dN()||gr()?i=O(i.u,i):(Pp||(Pp=new $e(function(C,z){fR(C,z)})),i=O(i.s,i)),i(u,c,p,g,w,E)}_r.prototype.u=function(i,u,c,p,g,w){if(gr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var E=new va(this.f);if(w){E.g=Math.max(0,w);var C=setTimeout(function(){E.dispatchEvent("timeout")},w)}E0(E,"complete",function(){C&&clearTimeout(C);var z=null;try{z=JSON.parse(eR(this))||null}catch{z=null}u&&u(z)}),Bd(E,"ready",function(){C&&clearTimeout(C),m0(this)}),Bd(E,"timeout",function(){C&&clearTimeout(C),m0(this),u&&u(null)}),YN(E,i,c,p,g)};var lR=new Mr(Jc,"https://apis.google.com/js/client.js?onload=%{onload}"),Uw="__fcb"+Math.floor(1e6*Math.random()).toString();function fR(i,u){if(((window.gapi||{}).client||{}).request)i();else{f[Uw]=function(){((window.gapi||{}).client||{}).request?i():u(Error("CORS_UNSUPPORTED"))};var c=Id(lR,{onload:Uw});tR(Rp(c),function(){u(Error("CORS_UNSUPPORTED"))})}}_r.prototype.s=function(i,u,c,p,g){var w=this;Pp.then(function(){window.gapi.client.setApiKey(w.c);var E=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:c,body:p,headers:g,authType:"none",callback:function(C){window.gapi.auth.setToken(E),u&&u(C)}})}).o(function(E){u&&u({error:{message:E&&E.message||"CORS_UNSUPPORTED"}})})};function hR(i,u){return new $e(function(c,p){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?jw(i,i.l+"?key="+encodeURIComponent(i.c),function(g){g?g.error?p(qp(g)):g.access_token&&g.refresh_token?c(g):p(new A("internal-error")):p(new A("network-request-failed"))},"POST",k0(u).toString(),i.g,i.m.get()):p(new A("internal-error"))})}function Bw(i,u,c,p,g,w,E){var C=Pn(u+c);Rt(C,"key",i.c),E&&Rt(C,"cb",Date.now().toString());var z=p=="GET";if(z)for(var ne in g)g.hasOwnProperty(ne)&&Rt(C,ne,g[ne]);return new $e(function(Me,st){jw(i,C.toString(),function(Je){Je?Je.error?st(qp(Je,w||{})):Me(Je):st(new A("network-request-failed"))},p,z?void 0:N0(U0(g)),i.a,i.v.get())})}function No(i){if(i=i.email,typeof i!="string"||!vN.test(i))throw new A("invalid-email")}function qw(i){"email"in i&&No(i)}function dR(i,u){return He(i,IR,{identifier:u,continueUri:hl()?na():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function pR(i){return He(i,LR,{}).then(function(u){return u.authorizedDomains||[]})}function Dn(i){if(!i[wr])throw i.mfaPendingCredential?new A("multi-factor-auth-required",null,kt(i)):new A("internal-error")}function Lp(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new A("internal-error")}else{if(!i.sessionInfo)throw new A("missing-verification-id");if(!i.code)throw new A("missing-verification-code")}}_r.prototype.Ab=function(){return He(this,jR,{})},_r.prototype.Cb=function(i,u){return He(this,Kw,{idToken:i,email:u})},_r.prototype.Db=function(i,u){return He(this,Gw,{idToken:i,password:u})};var mR={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=_r.prototype,e.Eb=function(i,u){var c={idToken:i},p=[];return bi(mR,function(g,w){var E=u[w];E===null?p.push(g):w in u&&(c[w]=E)}),p.length&&(c.deleteAttribute=p),He(this,Kw,c)},e.wb=function(i,u){return i={requestType:"PASSWORD_RESET",email:i},en(i,u),He(this,DR,i)},e.xb=function(i,u){return i={requestType:"EMAIL_SIGNIN",email:i},en(i,u),He(this,RR,i)},e.vb=function(i,u){return i={requestType:"VERIFY_EMAIL",idToken:i},en(i,u),He(this,xR,i)},e.Fb=function(i,u,c){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:u},en(i,c),He(this,PR,i)};function vR(i,u){return He(i,VR,u)}e.gb=function(i){return He(this,GR,i)};function gR(i,u){return He(i,UR,u).then(function(c){return c.phoneSessionInfo.sessionInfo})}function $w(i){if(!i.phoneVerificationInfo)throw new A("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new A("missing-verification-code")}function yR(i,u){return He(i,BR,u).then(function(c){return c.phoneResponseInfo.sessionInfo})}function _R(i,u,c){return He(i,SR,{idToken:u,deleteProvider:c})}function Mp(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new A("internal-error")}function Fp(i,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(i.sessionId?u.nonce=i.sessionId:i.postBody&&(i=new wo(i.postBody),Kd(i,"nonce")&&(u.nonce=i.get("nonce")))),u}function Hw(i){var u=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",u=bl(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",u=bl(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",u=bl(i)):i.errorMessage&&(u=Ww(i.errorMessage)),u)throw u;Dn(i)}function Vp(i,u){return u.returnIdpCredential=!0,He(i,qR,u)}function jp(i,u){return u.returnIdpCredential=!0,He(i,HR,u)}function Up(i,u){return u.returnIdpCredential=!0,u.autoCreate=!1,He(i,$R,u)}function Bp(i){if(!i.oobCode)throw new A("invalid-action-code")}e.ob=function(i,u){return He(this,FR,{oobCode:i,newPassword:u})},e.Sa=function(i){return He(this,bR,{oobCode:i})},e.kb=function(i){return He(this,wR,{oobCode:i})};var wR={endpoint:"setAccountInfo",A:Bp,Z:"email",B:!0},bR={endpoint:"resetPassword",A:Bp,G:function(i){var u=i.requestType;if(!u||!i.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},B:!0},ER={endpoint:"signupNewUser",A:function(i){if(No(i),!i.password)throw new A("weak-password")},G:Dn,V:!0,B:!0},IR={endpoint:"createAuthUri",B:!0},TR={endpoint:"deleteAccount",O:["idToken"]},SR={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new A("internal-error")}},AR={endpoint:"emailLinkSignin",O:["email","oobCode"],A:No,G:Dn,V:!0,B:!0},kR={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:No,G:Dn,V:!0},CR={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:$w,G:Dn,B:!0,Na:!0},OR={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:$w,G:Dn,B:!0,Na:!0},NR={endpoint:"getAccountInfo"},RR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new A("internal-error");No(i)},Z:"email",B:!0},xR={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new A("internal-error")},Z:"email",B:!0},PR={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},Z:"email",B:!0},DR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new A("internal-error");No(i)},Z:"email",B:!0},LR={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},MR={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new A("internal-error")}},FR={endpoint:"resetPassword",A:Bp,Z:"email",B:!0},VR={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Kw={endpoint:"setAccountInfo",O:["idToken"],A:qw,V:!0},Gw={endpoint:"setAccountInfo",O:["idToken"],A:function(i){if(qw(i),!i.password)throw new A("weak-password")},G:Dn,V:!0},jR={endpoint:"signupNewUser",G:Dn,V:!0,B:!0},UR={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new A("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},BR={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},qR={endpoint:"verifyAssertion",A:Mp,Za:Fp,G:Hw,V:!0,B:!0},$R={endpoint:"verifyAssertion",A:Mp,Za:Fp,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new A("user-not-found");if(i.errorMessage)throw Ww(i.errorMessage);Dn(i)},V:!0,B:!0},HR={endpoint:"verifyAssertion",A:function(i){if(Mp(i),!i.idToken)throw new A("internal-error")},Za:Fp,G:Hw,V:!0},KR={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new A("invalid-custom-token")},G:Dn,V:!0,B:!0},zw={endpoint:"verifyPassword",A:function(i){if(No(i),!i.password)throw new A("wrong-password")},G:Dn,V:!0,B:!0},GR={endpoint:"verifyPhoneNumber",A:Lp,G:Dn,B:!0},zR={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new A("internal-error");Lp(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",bl(i);Dn(i)}},WR={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Lp,G:Dn,B:!0},XR={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[wr]^!!i.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function He(i,u,c){if(!IN(c,u.O))return wt(new A("internal-error"));var p=!!u.Na,g=u.Vb||"POST",w;return ke(c).then(u.A).then(function(){return u.V&&(c.returnSecureToken=!0),u.B&&i.b&&typeof c.tenantId>"u"&&(c.tenantId=i.b),p?Bw(i,i.i,u.endpoint,g,c,u.Ib,u.mb||!1):Bw(i,i.h,u.endpoint,g,c,u.Ib,u.mb||!1)}).then(function(E){return w=E,u.Za?u.Za(c,w):w}).then(u.G).then(function(){if(!u.Z)return w;if(!(u.Z in w))throw new A("internal-error");return w[u.Z]})}function Ww(i){return qp({error:{errors:[{message:i}],code:400,message:i}})}function qp(i,u){var c=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=p[c]?new A(p[c]):null)return c;c=i.error&&i.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},en(p,u||{}),u=(u=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in p)if(c.indexOf(g)===0)return new A(p[g],u);return!u&&i&&(u=ia(i)),new A("internal-error",u)}function QR(i){this.b=i,this.a=null,this.sb=YR(this)}function YR(i){return rx().then(function(){return new $e(function(u,c){bt("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:bt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function g(){clearTimeout(w),u()}i.a=p,i.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){c(Error("Network Error"))},nx.get());p.ping(g).then(g,function(){c(Error("Network Error"))})})})})}function JR(i,u){return i.sb.then(function(){return new $e(function(c){i.a.send(u.type,u,c,bt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function ZR(i,u){i.sb.then(function(){i.a.register("authEvent",u,bt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var ex=new Mr(Jc,"https://apis.google.com/js/api.js?onload=%{onload}"),tx=new Si(3e4,6e4),nx=new Si(5e3,15e3),Ll=null;function rx(){return Ll||(Ll=new $e(function(i,u){function c(){q0(),bt("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){q0(),u(Error("Network Error"))},timeout:tx.get()})}if(bt("gapi.iframes.Iframe"))i();else if(bt("gapi.load"))c();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[p]=function(){bt("gapi.load")?c():u(Error("Network Error"))},p=Id(ex,{onload:p}),ke(Rp(p)).o(function(){u(Error("Network Error"))})}}).o(function(i){throw Ll=null,i}))}function Xw(i,u,c,p){this.l=i,this.h=u,this.i=c,this.g=p,this.f=null,this.g?(i=Pn(this.g.url),i=ll(i.c,i.a,i.g,"/emulator/auth/iframe")):i=ll("https",this.l,null,"/__/auth/iframe"),this.a=i,Rt(this.a,"apiKey",this.h),Rt(this.a,"appName",this.i),this.b=null,this.c=[]}Xw.prototype.toString=function(){return this.f?Rt(this.a,"v",this.f):Fr(this.a.b,"v"),this.b?Rt(this.a,"eid",this.b):Fr(this.a.b,"eid"),this.c.length?Rt(this.a,"fw",this.c.join(",")):Fr(this.a.b,"fw"),this.a.toString()};function $p(i,u,c,p,g,w){this.u=i,this.s=u,this.c=c,this.m=p,this.v=w,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}$p.prototype.zb=function(i){return this.h=i,this},$p.prototype.toString=function(){if(this.v){var i=Pn(this.v.url);i=ll(i.c,i.a,i.g,"/emulator/auth/handler")}else i=ll("https",this.u,null,"/__/auth/handler");if(Rt(i,"apiKey",this.s),Rt(i,"appName",this.c),Rt(i,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var c=Re.app(this.c).auth().la()}catch{c=null}u.pb=c,Rt(i,"providerId",this.a.providerId),c=this.a,u=U0(c.Jb);for(var p in u)u[p]=u[p].toString();p=c.Qc,u=kt(u);for(var g=0;g<p.length;g++){var w=p[g];w in u&&delete u[w]}c.qb&&c.pb&&!u[c.qb]&&(u[c.qb]=c.pb),Lr(u)||Rt(i,"customParameters",ia(u))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Rt(i,"scopes",c.join(","))),this.l?Rt(i,"redirectUrl",this.l):Fr(i.b,"redirectUrl"),this.g?Rt(i,"eventId",this.g):Fr(i.b,"eventId"),this.i?Rt(i,"v",this.i):Fr(i.b,"v"),this.b)for(var E in this.b)this.b.hasOwnProperty(E)&&!ar(i,E)&&Rt(i,E,this.b[E]);return this.h?Rt(i,"tid",this.h):Fr(i.b,"tid"),this.f?Rt(i,"eid",this.f):Fr(i.b,"eid"),E=Hp(this.c),E.length&&Rt(i,"fw",E.join(",")),i.toString()};function Hp(i){try{return Re.app(i).auth().Ga()}catch{return[]}}function Qw(i,u,c,p,g,w){this.s=i,this.g=u,this.b=c,this.f=w,this.c=p||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Yw(i){var u=na();return pR(i).then(function(c){e:{var p=Pn(u),g=p.c;p=p.a;for(var w=0;w<c.length;w++){var E=c[w],C=p,z=g;if(E.indexOf("chrome-extension://")==0?C=Pn(E).a==C&&z=="chrome-extension":z!="http"&&z!="https"?C=!1:mN.test(E)?C=C==E:(E=E.split(".").join("\\."),C=new RegExp("^(.+\\."+E+"|"+E+")$","i").test(C)),C){c=!0;break e}}c=!1}if(!c)throw new bp(na())})}function Jw(i){return i.m||(i.m=fl().then(function(){if(!i.u){var u=i.c,c=i.i,p=Hp(i.b),g=new Xw(i.s,i.g,i.b,i.f);g.f=u,g.b=c,g.c=le(p||[]),i.u=g.toString()}i.v=new QR(i.u),ix(i)})),i.m}e=Qw.prototype,e.Pb=function(i,u,c){var p=new A("popup-closed-by-user"),g=new A("web-storage-unsupported"),w=this,E=!1;return this.ma().then(function(){ox(w).then(function(C){C||(i&&bo(i),u(g),E=!0)})}).o(function(){}).then(function(){if(!E)return pN(i)}).then(function(){if(!E)return Ss(c).then(function(){u(p)})})},e.Yb=function(){var i=tn();return!ra(i)&&!B0(i)},e.Ub=function(){return!1},e.Nb=function(i,u,c,p,g,w,E,C){if(!i)return wt(new A("popup-blocked"));if(E&&!ra())return this.ma().o(function(ne){bo(i),g(ne)}),p(),ke();this.a||(this.a=Yw(Zw(this)));var z=this;return this.a.then(function(){var ne=z.ma().o(function(Me){throw bo(i),g(Me),Me});return p(),ne}).then(function(){if(_p(c),!E){var ne=wa(z.s,z.g,z.b,u,c,null,w,z.c,void 0,z.i,C,z.f);P0(ne,i)}}).o(function(ne){throw ne.code=="auth/network-request-failed"&&(z.a=null),ne})};function Zw(i){return i.l||(i.C=i.c?Os(i.c,Hp(i.b)):null,i.l=new _r(i.g,Ae(i.i),i.C),i.f&&Dl(i.l,i.f)),i.l}e.Ob=function(i,u,c,p){this.a||(this.a=Yw(Zw(this)));var g=this;return this.a.then(function(){_p(u);var w=wa(g.s,g.g,g.b,i,u,na(),c,g.c,void 0,g.i,p,g.f);P0(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(g.a=null),w})},e.ma=function(){var i=this;return Jw(this).then(function(){return i.v.sb}).o(function(){throw i.a=null,new A("network-request-failed")})},e.ac=function(){return!0};function wa(i,u,c,p,g,w,E,C,z,ne,Me,st){return i=new $p(i,u,c,p,g,st),i.l=w,i.g=E,i.i=C,i.b=kt(z||null),i.f=ne,i.zb(Me).toString()}function ix(i){if(!i.v)throw Error("IfcHandler must be initialized!");ZR(i.v,function(u){var c={};if(u&&u.authEvent){var p=!1;for(u=Ew(u.authEvent),c=0;c<i.h.length;c++)p=i.h[c](u)||p;return c={},c.status=p?"ACK":"ERROR",ke(c)}return c.status="ERROR",ke(c)})}function ox(i){var u={type:"webStorageSupport"};return Jw(i).then(function(){return JR(i.v,u)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Ta=function(i){Q(this.h,function(u){return u==i})};function eb(i){if(this.a=i||Re.INTERNAL.reactNative&&Re.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=eb.prototype,e.get=function(i){return ke(this.a.getItem(i)).then(function(u){return u&&Rs(u)})},e.set=function(i,u){return ke(this.a.setItem(i,ia(u)))},e.U=function(i){return ke(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function tb(i){this.b=i,this.a={},this.f=O(this.c,this)}var nb=[];function sx(){var i=gr()?self:null;if(ee(nb,function(c){c.b==i&&(u=c)}),!u){var u=new tb(i);nb.push(u)}return u}tb.prototype.c=function(i){var u=i.data.eventType,c=i.data.eventId,p=this.a[u];if(p&&0<p.length){i.ports[0].postMessage({status:"ack",eventId:c,eventType:u,response:null});var g=[];ee(p,function(w){g.push(ke().then(function(){return w(i.origin,i.data.data)}))}),s0(g).then(function(w){var E=[];ee(w,function(C){E.push({fulfilled:C.Qb,value:C.value,reason:C.reason?C.reason.message:void 0})}),ee(E,function(C){for(var z in C)typeof C[z]>"u"&&delete C[z]}),i.ports[0].postMessage({status:"done",eventId:c,eventType:u,response:E})})}};function rb(i,u,c){Lr(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[u]>"u"&&(i.a[u]=[]),i.a[u].push(c)}function ib(i){this.a=i}ib.prototype.postMessage=function(i,u){this.a.postMessage(i,u)};function ob(i){this.c=i,this.b=!1,this.a=[]}function sb(i,u,c,p){var g,w=c||{},E,C,z,ne=null;if(i.b)return wt(Error("connection_unavailable"));var Me=p?800:50,st=typeof MessageChannel<"u"?new MessageChannel:null;return new $e(function(Je,Yt){st?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),st.port1.start(),C=setTimeout(function(){Yt(Error("unsupported_event"))},Me),E=function(oi){oi.data.eventId===g&&(oi.data.status==="ack"?(clearTimeout(C),z=setTimeout(function(){Yt(Error("timeout"))},3e3)):oi.data.status==="done"?(clearTimeout(z),typeof oi.data.response<"u"?Je(oi.data.response):Yt(Error("unknown_error"))):(clearTimeout(C),clearTimeout(z),Yt(Error("invalid_response"))))},ne={messageChannel:st,onMessage:E},i.a.push(ne),st.port1.addEventListener("message",E),i.c.postMessage({eventType:u,eventId:g,data:w},[st.port2])):Yt(Error("connection_unavailable"))}).then(function(Je){return Kp(i,ne),Je}).o(function(Je){throw Kp(i,ne),Je})}function Kp(i,u){if(u){var c=u.messageChannel,p=u.onMessage;c&&(c.port1.removeEventListener("message",p),c.port1.close()),Q(i.a,function(g){return g==u})}}ob.prototype.close=function(){for(;0<this.a.length;)Kp(this,this.a[0]);this.b=!0};function ub(){if(!Wp())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;gr()&&self?(this.v=sx(),rb(this.v,"keyChanged",function(u,c){return lb(i).then(function(p){return 0<p.length&&ee(i.a,function(g){g(p)}),{keyProcessed:B(p,c.key)}})}),rb(this.v,"ping",function(){return ke(["keyChanged"])})):bN().then(function(u){(i.h=u)&&(i.g=new ob(new ib(u)),sb(i.g,"ping",null,!0).then(function(c){c[0].fulfilled&&B(c[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var Gp;function ux(i){return new $e(function(u,c){var p=i.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){u()},p.onerror=function(g){c(Error(g.target.error))}})}function ab(i){return new $e(function(u,c){var p=i.m.open("firebaseLocalStorageDb",1);p.onerror=function(g){try{g.preventDefault()}catch{}c(Error(g.target.error))},p.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){c(w)}},p.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):ux(i).then(function(){return ab(i)}).then(function(w){u(w)}).o(function(w){c(w)})}})}function zp(i){return i.i||(i.i=ab(i)),i.i}function Ml(i,u){function c(g,w){zp(i).then(u).then(g).o(function(E){if(3<++p)w(E);else return zp(i).then(function(C){return C.close(),i.i=void 0,c(g,w)}).o(function(C){w(C)})})}var p=0;return new $e(c)}function Wp(){try{return!!f.indexedDB}catch{return!1}}function ba(i){return i.objectStore("firebaseLocalStorage")}function Ea(i,u){return i.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function Ls(i){return new $e(function(u,c){i.onsuccess=function(p){p&&p.target?u(p.target.result):u()},i.onerror=function(p){c(p.target.error)}})}e=ub.prototype,e.set=function(i,u){var c=this,p=!1;return Ml(this,function(g){return g=ba(Ea(g,!0)),Ls(g.get(i))}).then(function(g){return Ml(c,function(w){if(w=ba(Ea(w,!0)),g)return g.value=u,Ls(w.put(g));c.b++,p=!0;var E={};return E.fbase_key=i,E.value=u,Ls(w.add(E))})}).then(function(){return c.c[i]=u,cb(c,i)}).oa(function(){p&&c.b--})};function cb(i,u){return i.g&&i.h&&wN()===i.h?sb(i.g,"keyChanged",{key:u},i.s).then(function(){}).o(function(){}):ke()}e.get=function(i){return Ml(this,function(u){return Ls(ba(Ea(u,!1)).get(i))}).then(function(u){return u&&u.value})},e.U=function(i){var u=this,c=!1;return Ml(this,function(p){return c=!0,u.b++,Ls(ba(Ea(p,!0)).delete(i))}).then(function(){return delete u.c[i],cb(u,i)}).oa(function(){c&&u.b--})};function lb(i){return zp(i).then(function(u){var c=ba(Ea(u,!1));return c.getAll?Ls(c.getAll()):new $e(function(p,g){var w=[],E=c.openCursor();E.onsuccess=function(C){(C=C.target.result)?(w.push(C.value),C.continue()):p(w)},E.onerror=function(C){g(C.target.error)}})}).then(function(u){var c={},p=[];if(i.b==0){for(p=0;p<u.length;p++)c[u[p].fbase_key]=u[p].value;p=D0(i.c,c),i.c=c}return p})}e.ca=function(i){this.a.length==0&&ax(this),this.a.push(i)},e.ia=function(i){Q(this.a,function(u){return u==i}),this.a.length==0&&fb(this)};function ax(i){function u(){i.f=setTimeout(function(){i.l=lb(i).then(function(c){0<c.length&&ee(i.a,function(p){p(c)})}).then(function(){u()}).o(function(c){c.message!="STOP_EVENT"&&u()})},800)}fb(i),u()}function fb(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function hb(i){var u=this,c=null;this.a=[],this.type="indexedDB",this.c=i,this.b=ke().then(function(){if(Wp()){var p=Io(),g="__sak"+p;return Gp||(Gp=new ub),c=Gp,c.set(g,p).then(function(){return c.get(g)}).then(function(w){if(w!==p)throw Error("indexedDB not supported!");return c.U(g)}).then(function(){return c}).o(function(){return u.c})}return u.c}).then(function(p){return u.type=p.type,p.ca(function(g){ee(u.a,function(w){w(g)})}),p})}e=hb.prototype,e.get=function(i){return this.b.then(function(u){return u.get(i)})},e.set=function(i,u){return this.b.then(function(c){return c.set(i,u)})},e.U=function(i){return this.b.then(function(u){return u.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){Q(this.a,function(u){return u==i})};function Ia(){this.a={},this.type="inMemory"}e=Ia.prototype,e.get=function(i){return ke(this.a[i])},e.set=function(i,u){return this.a[i]=u,ke()},e.U=function(i){return delete this.a[i],ke()},e.ca=function(){},e.ia=function(){};function Fl(){if(!cx())throw Vr()=="Node"?new A("internal-error","The LocalStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=db()||Re.INTERNAL.node.localStorage,this.type="localStorage"}function db(){try{var i=f.localStorage,u=Io();return i&&(i.setItem(u,"1"),i.removeItem(u)),i}catch{return null}}function cx(){var i=Vr()=="Node";if(i=db()||i&&Re.INTERNAL.node&&Re.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=Fl.prototype,e.get=function(i){var u=this;return ke().then(function(){var c=u.a.getItem(i);return Rs(c)})},e.set=function(i,u){var c=this;return ke().then(function(){var p=ia(u);p===null?c.U(i):c.a.setItem(i,p)})},e.U=function(i){var u=this;return ke().then(function(){u.a.removeItem(i)})},e.ca=function(i){f.window&&ur(f.window,"storage",i)},e.ia=function(i){f.window&&zn(f.window,"storage",i)};function Xp(){this.type="nullStorage"}e=Xp.prototype,e.get=function(){return ke(null)},e.set=function(){return ke()},e.U=function(){return ke()},e.ca=function(){},e.ia=function(){};function Qp(){if(!lx())throw Vr()=="Node"?new A("internal-error","The SessionStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=pb()||Re.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function pb(){try{var i=f.sessionStorage,u=Io();return i&&(i.setItem(u,"1"),i.removeItem(u)),i}catch{return null}}function lx(){var i=Vr()=="Node";if(i=pb()||i&&Re.INTERNAL.node&&Re.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=Qp.prototype,e.get=function(i){var u=this;return ke().then(function(){var c=u.a.getItem(i);return Rs(c)})},e.set=function(i,u){var c=this;return ke().then(function(){var p=ia(u);p===null?c.U(i):c.a.setItem(i,p)})},e.U=function(i){var u=this;return ke().then(function(){u.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function fx(){var i={};i.Browser=hx,i.Node=dx,i.ReactNative=px,i.Worker=mx,this.a=i[Vr()]}var Yp,hx={F:Fl,cb:Qp},dx={F:Fl,cb:Qp},px={F:eb,cb:Xp},mx={F:Fl,cb:Xp},Ms={rd:"local",NONE:"none",td:"session"};function vx(i){var u=new A("invalid-persistence-type"),c=new A("unsupported-persistence-type");e:{for(p in Ms)if(Ms[p]==i){var p=!0;break e}p=!1}if(!p||typeof i!="string")throw u;switch(Vr()){case"ReactNative":if(i==="session")throw c;break;case"Node":if(i!=="none")throw c;break;case"Worker":if(i==="session"||!Wp()&&i!=="none")throw c;break;default:if(!Yd()&&i!=="none")throw c}}function mb(){var i=!!(!B0(tn())&&Xd()),u=ra(),c=Yd();this.m=i,this.h=u,this.l=c,this.a={},Yp||(Yp=new fx),i=Yp;try{this.g=!zd()&&$0()||!f.indexedDB?new i.a.F:new hb(gr()?new Ia:new i.a.F)}catch{this.g=new Ia,this.h=!0}try{this.i=new i.a.cb}catch{this.i=new Ia}this.v=new Ia,this.f=O(this.Zb,this),this.b={}}var Jp;function Ta(){return Jp||(Jp=new mb),Jp}function Ro(i,u){switch(u){case"session":return i.i;case"none":return i.v;default:return i.g}}function Fs(i,u){return"firebase:"+i.name+(u?":"+u:"")}function gx(i,u,c){var p=Fs(u,c),g=Ro(i,u.F);return i.get(u,c).then(function(w){var E=null;try{E=Rs(f.localStorage.getItem(p))}catch{}if(E&&!w)return f.localStorage.removeItem(p),i.set(u,E,c);E&&w&&g.type!="localStorage"&&f.localStorage.removeItem(p)})}e=mb.prototype,e.get=function(i,u){return Ro(this,i.F).get(Fs(i,u))};function Vs(i,u,c){return c=Fs(u,c),u.F=="local"&&(i.b[c]=null),Ro(i,u.F).U(c)}e.set=function(i,u,c){var p=Fs(i,c),g=this,w=Ro(this,i.F);return w.set(p,u).then(function(){return w.get(p)}).then(function(E){i.F=="local"&&(g.b[p]=E)})},e.addListener=function(i,u,c){i=Fs(i,u),this.l&&(this.b[i]=f.localStorage.getItem(i)),Lr(this.a)&&(Ro(this,"local").ca(this.f),this.h||(zd()||!$0())&&f.indexedDB||!this.l||yx(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(c)},e.removeListener=function(i,u,c){i=Fs(i,u),this.a[i]&&(Q(this.a[i],function(p){return p==c}),this.a[i].length==0&&delete this.a[i]),Lr(this.a)&&(Ro(this,"local").ia(this.f),Zp(this))};function yx(i){Zp(i),i.c=setInterval(function(){for(var u in i.a){var c=f.localStorage.getItem(u),p=i.b[u];c!=p&&(i.b[u]=c,c=new yo({type:"storage",key:u,target:window,oldValue:p,newValue:c,a:!0}),i.Zb(c))}},1e3)}function Zp(i){i.c&&(clearInterval(i.c),i.c=null)}e.Zb=function(i){if(i&&i.g){var u=i.a.key;if(u==null)for(var c in this.a){var p=this.b[c];typeof p>"u"&&(p=null);var g=f.localStorage.getItem(c);g!==p&&(this.b[c]=g,this.nb(c))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof i.a.a<"u"?Ro(this,"local").ia(this.f):Zp(this),this.m){if(c=f.localStorage.getItem(u),p=i.a.newValue,p!==c)p!==null?f.localStorage.setItem(u,p):f.localStorage.removeItem(u);else if(this.b[u]===p&&typeof i.a.a>"u")return}var w=this;c=function(){(typeof i.a.a<"u"||w.b[u]!==f.localStorage.getItem(u))&&(w.b[u]=f.localStorage.getItem(u),w.nb(u))},vr&&Ei&&Ei==10&&f.localStorage.getItem(u)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(c,10):c()}}else ee(i,O(this.nb,this))},e.nb=function(i){this.a[i]&&ee(this.a[i],function(u){u()})};function _x(i){this.a=i,this.b=Ta()}var em={name:"authEvent",F:"local"};function wx(i){return i.b.get(em,i.a).then(function(u){return Ew(u)})}function bx(){this.a=Ta()}function Ex(){this.b=-1}function Vl(i,u){this.b=vb,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=u,this.l=f.Int32Array?new Int32Array(64):Array(64),jl===void 0&&(f.Int32Array?jl=new Int32Array(_b):jl=_b),this.reset()}var jl;x(Vl,Ex);for(var vb=64,Ix=vb-1,gb=[],tm=0;tm<Ix;tm++)gb[tm]=0;var yb=ae(128,gb);Vl.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):le(this.h)};function nm(i){for(var u=i.f,c=i.l,p=0,g=0;g<u.length;)c[p++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*p;for(u=16;64>u;u++){g=c[u-15]|0,p=c[u-2]|0;var w=(c[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,E=(c[u-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;c[u]=w+E|0}p=i.a[0]|0,g=i.a[1]|0;var C=i.a[2]|0,z=i.a[3]|0,ne=i.a[4]|0,Me=i.a[5]|0,st=i.a[6]|0;for(w=i.a[7]|0,u=0;64>u;u++){var Je=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&g^p&C^g&C)|0;E=ne&Me^~ne&st,w=w+((ne>>>6|ne<<26)^(ne>>>11|ne<<21)^(ne>>>25|ne<<7))|0,E=E+(jl[u]|0)|0,E=w+(E+(c[u]|0)|0)|0,w=st,st=Me,Me=ne,ne=z+E|0,z=C,C=g,g=p,p=E+Je|0}i.a[0]=i.a[0]+p|0,i.a[1]=i.a[1]+g|0,i.a[2]=i.a[2]+C|0,i.a[3]=i.a[3]+z|0,i.a[4]=i.a[4]+ne|0,i.a[5]=i.a[5]+Me|0,i.a[6]=i.a[6]+st|0,i.a[7]=i.a[7]+w|0}function rm(i,u,c){c===void 0&&(c=u.length);var p=0,g=i.c;if(typeof u=="string")for(;p<c;)i.f[g++]=u.charCodeAt(p++),g==i.b&&(nm(i),g=0);else if(_(u))for(;p<c;){var w=u[p++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");i.f[g++]=w,g==i.b&&(nm(i),g=0)}else throw Error("message must be string or array");i.c=g,i.g+=c}var _b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function wb(){Vl.call(this,8,Tx)}x(wb,Vl);var Tx=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function bb(i,u,c,p,g,w){this.v=i,this.i=u,this.l=c,this.m=p||null,this.u=g||null,this.s=w,this.h=u+":"+c,this.C=new bx,this.g=new _x(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ul(i){return new A("invalid-cordova-configuration",i)}e=bb.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=gN().then(function(){if(typeof bt("universalLinks.subscribe",f)!="function")throw Ul("cordova-universal-links-plugin-fix is not installed");if(typeof bt("BuildInfo.packageName",f)>"u")throw Ul("cordova-plugin-buildinfo is not installed");if(typeof bt("cordova.plugins.browsertab.openUrl",f)!="function")throw Ul("cordova-plugin-browsertab is not installed");if(typeof bt("cordova.InAppBrowser.open",f)!="function")throw Ul("cordova-plugin-inappbrowser is not installed")},function(){throw new A("cordova-not-ready")})};function Sx(){for(var i=20,u=[];0<i;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return u.join("")}function Ax(i){var u=new wb;rm(u,i),i=[];var c=8*u.g;56>u.c?rm(u,yb,56-u.c):rm(u,yb,u.b-(u.c-56));for(var p=63;56<=p;p--)u.f[p]=c&255,c/=256;for(nm(u),p=c=0;p<u.i;p++)for(var g=24;0<=g;g-=8)i[c++]=u.a[p]>>g&255;return FN(i)}e.Pb=function(i,u){return u(new A("operation-not-supported-in-this-environment")),ke()},e.Nb=function(){return wt(new A("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(i,u,c,p){if(this.c)return wt(new A("redirect-operation-pending"));var g=this,w=f.document,E=null,C=null,z=null,ne=null;return this.c=ke().then(function(){return _p(u),Ib(g)}).then(function(){return kx(g,i,u,c,p)}).then(function(){return new $e(function(Me,st){C=function(){var Je=bt("cordova.plugins.browsertab.close",f);return Me(),typeof Je=="function"&&Je(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(C),z=function(){E||(E=Ss(2e3).then(function(){st(new A("redirect-cancelled-by-user"))}))},ne=function(){Jd()&&z()},w.addEventListener("resume",z,!1),tn().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",ne,!1)}).o(function(Me){return im(g).then(function(){throw Me})})}).oa(function(){z&&w.removeEventListener("resume",z,!1),ne&&w.removeEventListener("visibilitychange",ne,!1),E&&E.cancel(),C&&g.Ta(C),g.c=null})};function kx(i,u,c,p,g){var w=Sx(),E=new yr(u,p,null,w,new A("no-auth-event"),null,g),C=bt("BuildInfo.packageName",f);if(typeof C!="string")throw new A("invalid-cordova-configuration");var z=bt("BuildInfo.displayName",f),ne={};if(tn().toLowerCase().match(/iphone|ipad|ipod/))ne.ibi=C;else if(tn().toLowerCase().match(/android/))ne.apn=C;else return wt(new A("operation-not-supported-in-this-environment"));z&&(ne.appDisplayName=z),w=Ax(w),ne.sessionId=w;var Me=wa(i.v,i.i,i.l,u,c,null,p,i.m,ne,i.u,g,i.s);return i.ma().then(function(){var st=i.h;return i.C.a.set(em,E.w(),st)}).then(function(){var st=bt("cordova.plugins.browsertab.isAvailable",f);if(typeof st!="function")throw new A("invalid-cordova-configuration");var Je=null;st(function(Yt){if(Yt){if(Je=bt("cordova.plugins.browsertab.openUrl",f),typeof Je!="function")throw new A("invalid-cordova-configuration");Je(Me)}else{if(Je=bt("cordova.InAppBrowser.open",f),typeof Je!="function")throw new A("invalid-cordova-configuration");Yt=tn(),i.a=Je(Me,Yt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Yt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Eb(i,u){for(var c=0;c<i.b.length;c++)try{i.b[c](u)}catch{}}function Ib(i){return i.f||(i.f=i.ma().then(function(){return new $e(function(u){function c(p){return u(p),i.Ta(c),!1}i.Ea(c),Cx(i)})})),i.f}function im(i){var u=null;return wx(i.g).then(function(c){return u=c,c=i.g,Vs(c.b,em,c.a)}).then(function(){return u})}function Cx(i){function u(E){p=!0,g&&g.cancel(),im(i).then(function(C){var z=c;if(C&&E&&E.url){var ne=null;z=pw(E.url),z.indexOf("/__/auth/callback")!=-1&&(ne=Pn(z),ne=Rs(ar(ne,"firebaseError")||null),ne=(ne=typeof ne=="object"?be(ne):null)?new yr(C.c,C.b,null,null,ne,null,C.T()):new yr(C.c,C.b,z,C.f,null,null,C.T())),z=ne||c}Eb(i,z)})}var c=new yr("unknown",null,null,null,new A("no-auth-event")),p=!1,g=Ss(500).then(function(){return im(i).then(function(){p||Eb(i,c)})}),w=f.handleOpenURL;f.handleOpenURL=function(E){if(E.toLowerCase().indexOf(bt("BuildInfo.packageName",f).toLowerCase()+"://")==0&&u({url:E}),typeof w=="function")try{w(E)}catch(C){console.error(C)}},wp||(wp=new KN),GN(u)}e.Ea=function(i){this.b.push(i),Ib(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new yr("unknown",null,null,null,new A("no-auth-event")),i(u))})},e.Ta=function(i){Q(this.b,function(u){return u==i})};function Ox(i){this.a=i,this.b=Ta()}var om={name:"pendingRedirect",F:"session"};function Nx(i){return i.b.set(om,"pending",i.a)}function sm(i){return Vs(i.b,om,i.a)}function Rx(i){return i.b.get(om,i.a).then(function(u){return u=="pending"})}function Bl(i,u,c,p){this.i={},this.u=0,this.D=i,this.v=u,this.m=c,this.J=p,this.h=[],this.f=!1,this.l=O(this.s,this),this.b=new $l,this.C=new Pb,this.g=new Ox(Nb(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Tb(this.D,this.v,this.m,he,this.J)}function Tb(i,u,c,p,g){var w=Re.SDK_VERSION||null;return Wd()?new bb(i,u,c,w,p,g):new Qw(i,u,c,w,p,g)}Bl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Tb(this.D,this.v,this.m,null,this.J),this.i={}};function Sb(i){i.f||(i.f=!0,i.a.Ea(i.l));var u=i.a;return i.a.ma().o(function(c){throw i.a==u&&i.reset(),c})}function Ab(i){i.a.Yb()&&Sb(i).o(function(u){var c=new yr("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));am(u)&&i.s(c)}),i.a.Ub()||Rb(i.b)}function ql(i,u){B(i.h,u)||i.h.push(u),i.f||Rx(i.g).then(function(c){c?sm(i.g).then(function(){Sb(i).o(function(p){var g=new yr("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));am(p)&&i.s(g)})}):Ab(i)}).o(function(){Ab(i)})}function um(i,u){Q(i.h,function(c){return c==u})}Bl.prototype.s=function(i){if(!i)throw new A("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var u=!1,c=0;c<this.h.length;c++){var p=this.h[c];if(p.Gb(i.c,i.b)){(u=this.c[i.c])&&(u.h(i,p),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),u=!0;break}}return Rb(this.b),u};var xx=new Si(2e3,1e4),Px=new Si(3e4,6e4);Bl.prototype.ra=function(){return this.b.ra()};function kb(i,u,c,p,g,w,E){return i.a.Nb(u,c,p,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},g,w,E)}function am(i){return!!(i&&i.code=="auth/cordova-not-ready")}function Cb(i,u,c,p,g){var w;return Nx(i.g).then(function(){return i.a.Ob(u,c,p,g).o(function(E){if(am(E))throw new A("operation-not-supported-in-this-environment");return w=E,sm(i.g).then(function(){throw w})}).then(function(){return i.a.ac()?new $e(function(){}):sm(i.g).then(function(){return i.ra()}).then(function(){}).o(function(){})})})}function Ob(i,u,c,p,g){return i.a.Pb(p,function(w){u.na(c,null,w,g)},xx.get())}var cm={};function Nb(i,u,c){return i=i+":"+u,c&&(i=i+":"+c.url),i}function lm(i,u,c,p){var g=Nb(u,c,p);return cm[g]||(cm[g]=new Bl(i,u,c,p)),cm[g]}function $l(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}$l.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$l.prototype.h=function(i,u){if(i){this.reset(),this.g=!0;var c=i.c,p=i.b,g=i.a&&i.a.code=="auth/web-storage-unsupported",w=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!w),c!="unknown"||g||w?i.a?(xo(this,!0,null,i.a),ke()):u.Fa(c,p)?Dx(this,i,u):wt(new A("invalid-auth-event")):(xo(this,!1,null,null),ke())}else wt(new A("invalid-auth-event"))};function Rb(i){i.g||(i.g=!0,xo(i,!1,null,null))}function Hl(i){i.g&&!i.i&&xo(i,!1,null,null)}function Dx(i,u,c){c=c.Fa(u.c,u.b);var p=u.g,g=u.f,w=u.i,E=u.T(),C=!!u.c.match(/Redirect$/);c(p,g,E,w).then(function(z){xo(i,C,z,null)}).o(function(z){xo(i,C,null,z)})}function Lx(i,u){if(i.b=function(){return wt(u)},i.c.length)for(var c=0;c<i.c.length;c++)i.c[c](u)}function xb(i,u){if(i.b=function(){return ke(u)},i.f.length)for(var c=0;c<i.f.length;c++)i.f[c](u)}function xo(i,u,c,p){u?p?Lx(i,p):xb(i,c):xb(i,{user:null}),i.f=[],i.c=[]}$l.prototype.ra=function(){var i=this;return new $e(function(u,c){i.b?i.b().then(u,c):(i.f.push(u),i.c.push(c),Mx(i))})};function Mx(i){var u=new A("timeout");i.a&&i.a.cancel(),i.a=Ss(Px.get()).then(function(){i.b||(i.g=!0,xo(i,!0,null,u))})}function Pb(){}Pb.prototype.h=function(i,u){if(i){var c=i.c,p=i.b;i.a?(u.na(i.c,null,i.a,i.b),ke()):u.Fa(c,p)?Fx(i,u):wt(new A("invalid-auth-event"))}else wt(new A("invalid-auth-event"))};function Fx(i,u){var c=i.b,p=i.c;u.Fa(p,c)(i.g,i.f,i.T(),i.i).then(function(g){u.na(p,g,null,c)}).o(function(g){u.na(p,null,g,c)})}function Db(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(i){this.jb=i},enumerable:!1})}function fm(i,u){this.a=u,_e(this,"verificationId",i)}fm.prototype.confirm=function(i){return i=bw(this.verificationId,i),this.a(i)};function hm(i,u,c,p){return new ri(i).gb(u,c).then(function(g){return new fm(g,p)})}function Vx(i){var u=sw(i);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");bn(this,{token:i,expirationTime:oa(1e3*u.exp),authTime:oa(1e3*u.auth_time),issuedAtTime:oa(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function dm(i,u,c){var p=u&&u[Mb];if(!p)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=kt(u),this.g=c,this.c=new _l(null,p),this.b=[];var g=this;ee(u[Lb]||[],function(w){(w=ip(w))&&g.b.push(w)}),_e(this,"auth",this.a),_e(this,"session",this.c),_e(this,"hints",this.b)}var Lb="mfaInfo",Mb="mfaPendingCredential";dm.prototype.Rc=function(i){var u=this;return i.tb(this.a.a,this.c).then(function(c){var p=kt(u.f);return delete p[Lb],delete p[Mb],en(p,c),u.g(p)})};function pm(i,u,c,p){A.call(this,"multi-factor-auth-required",p,u),this.b=new dm(i,u,c),_e(this,"resolver",this.b)}x(pm,A);function Fb(i,u,c){if(i&&S(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new pm(u,i.serverResponse,c,i.message)}catch{}return null}function Vb(){}Vb.prototype.tb=function(i,u,c){return u.type==ca?jx(this,i,u,c):Ux(this,i,u)};function jx(i,u,c,p){return c.Ha().then(function(g){return g={idToken:g},typeof p<"u"&&(g.displayName=p),en(g,{phoneVerificationInfo:la(i.a)}),He(u,CR,g)})}function Ux(i,u,c){return c.Ha().then(function(p){return p={mfaPendingCredential:p},en(p,{phoneVerificationInfo:la(i.a)}),He(u,OR,p)})}function mm(i){_e(this,"factorId",i.fa),this.a=i}x(mm,Vb);function jb(i){if(mm.call(this,i),this.a.fa!=ri.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}x(jb,mm);function js(i,u){xn.call(this,i);for(var c in u)this[c]=u[c]}x(js,xn);function vm(i,u){this.a=i,this.b=[],this.c=O(this.yc,this),ur(this.a,"userReloaded",this.c);var c=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&ee(u.multiFactor.enrolledFactors,function(p){var g=null,w={};if(p){p.uid&&(w[sp]=p.uid),p.displayName&&(w[K0]=p.displayName),p.enrollmentTime&&(w[op]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(w[up]=p.phoneNumber);try{g=new sa(w)}catch{}p=g}else p=null;p&&c.push(p)}),Kl(this,c)}function Bx(i){var u=[];return ee(i.mfaInfo||[],function(c){(c=ip(c))&&u.push(c)}),u}e=vm.prototype,e.yc=function(i){Kl(this,Bx(i.hd))};function Kl(i,u){i.b=u,_e(i,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(i){return new _l(i,null)})},e.fc=function(i,u){var c=this,p=this.a.a;return this.Sb().then(function(g){return i.tb(p,g,u)}).then(function(g){return Br(c.a,g),c.a.reload()})},e.bd=function(i){var u=this,c=typeof i=="string"?i:i.uid,p=this.a.a;return this.a.I().then(function(g){return He(p,XR,{idToken:g,mfaEnrollmentId:c})}).then(function(g){var w=je(u.b,function(E){return E.uid!=c});return Kl(u,w),Br(u.a,g),u.a.reload().o(function(E){if(E.code!="auth/user-token-expired")throw E})})},e.w=function(){return{multiFactor:{enrolledFactors:Te(this.b,function(i){return i.w()})}}};function gm(i,u,c){if(this.h=i,this.i=u,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}gm.prototype.start=function(){this.a=this.c,ym(this,!0)};function qx(i,u){return u?(i.a=i.c,i.g()):(u=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),u)}function ym(i,u){i.stop(),i.b=Ss(qx(i,u)).then(function(){return _N()}).then(function(){return i.h()}).then(function(){ym(i,!0)}).o(function(c){i.i(c)&&ym(i,!1)})}gm.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function _m(i){this.f=i,this.b=this.a=null,this.c=Date.now()}_m.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function Ub(i,u){typeof u>"u"&&(i.b?(u=i.b,u=u.a-u.g):u=0),i.c=Date.now()+1e3*u}function Bb(i,u){i.b=gl(u[wr]||""),i.a=u.refreshToken,u=u.expiresIn,Ub(i,typeof u<"u"?Number(u):void 0)}function $x(i,u){i.b=u.b,i.a=u.a,i.c=u.c}function Hx(i,u){return hR(i.f,u).then(function(c){return i.b=gl(c.access_token),i.a=c.refresh_token,Ub(i,c.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(i.a=null),c})}_m.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?wt(new A("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?Hx(this,{grant_type:"refresh_token",refresh_token:this.a}):ke(null):ke({accessToken:this.b.toString(),refreshToken:this.a})};function Gl(i,u){this.a=i||null,this.b=u||null,bn(this,{lastSignInTime:oa(u||null),creationTime:oa(i||null)})}function Kx(i){return new Gl(i.a,i.b)}Gl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function Gx(i,u,c,p,g,w){bn(this,{uid:i,displayName:p||null,photoURL:g||null,email:c||null,phoneNumber:w||null,providerId:u})}function Xn(i,u,c){this.N=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var p=Re.SDK_VERSION?Os(Re.SDK_VERSION):null;this.a=new _r(this.l,Ae(he),p),(this.u=i.emulatorConfig||null)&&Dl(this.a,this.u),this.h=new _m(this.a),Am(this,u[wr]),Bb(this.h,u),_e(this,"refreshToken",this.h.a),$b(this,c||{}),wn.call(this),this.P=!1,this.s&&Eo()&&(this.b=lm(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=zx(this),this.ba=O(this.ib,this);var g=this;this.za=null,this.Pa=function(w){g.xa(w.h)},this.qa=null,this.Ba=function(w){wm(g,w.c)},this.$=null,this.aa=[],this.Oa=function(w){Sa(g,w.f)},this.ja=null,this.S=new vm(this,c),_e(this,"multiFactor",this.S)}x(Xn,wn),Xn.prototype.xa=function(i){this.za=i,Fw(this.a,i)};function wm(i,u){i.u=u,Dl(i.a,u),i.b&&(u=i.b,i.b=lm(i.s,i.l,i.m,i.u),i.P&&(um(u,i),ql(i.b,i)))}Xn.prototype.la=function(){return this.za};function bm(i,u){i.qa&&zn(i.qa,"languageCodeChanged",i.Pa),(i.qa=u)&&ur(u,"languageCodeChanged",i.Pa)}function Em(i,u){i.$&&zn(i.$,"emulatorConfigChanged",i.Ba),(i.$=u)&&ur(u,"emulatorConfigChanged",i.Ba)}function Sa(i,u){i.aa=u,Vw(i.a,Re.SDK_VERSION?Os(Re.SDK_VERSION,i.aa):null)}Xn.prototype.Ga=function(){return le(this.aa)};function Im(i,u){i.ja&&zn(i.ja,"frameworkChanged",i.Oa),(i.ja=u)&&ur(u,"frameworkChanged",i.Oa)}Xn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Tm(i){try{return Re.app(i.m).auth()}catch{throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function zx(i){return new gm(function(){return i.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=i.h.c-Date.now()-3e5;return 0<u?u:0})}function qb(i){i.J||i.D.b||(i.D.start(),zn(i,"tokenChanged",i.ba),ur(i,"tokenChanged",i.ba))}function Sm(i){zn(i,"tokenChanged",i.ba),i.D.stop()}function Am(i,u){i.Aa=u,_e(i,"_lat",u)}function Wx(i,u){Q(i.W,function(c){return c==u})}function Po(i){for(var u=[],c=0;c<i.W.length;c++)u.push(i.W[c](i));return s0(u).then(function(){return i})}function Aa(i){i.b&&!i.P&&(i.P=!0,ql(i.b,i))}function $b(i,u){bn(i,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Gl(u.createdAt,u.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}_e(Xn.prototype,"providerId","firebase");function Hb(){}function km(i){return ke().then(function(){if(i.J)throw new A("app-deleted")})}function Cm(i){return Te(i.providerData,function(u){return u.providerId})}function Om(i,u){u&&(Kb(i,u.providerId),i.providerData.push(u))}function Kb(i,u){Q(i.providerData,function(c){return c.providerId==u})}function Ci(i,u,c){(u!="uid"||c)&&i.hasOwnProperty(u)&&_e(i,u,c)}function zl(i,u){i!=u&&(bn(i,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?_e(i,"metadata",Kx(u.metadata)):_e(i,"metadata",new Gl),ee(u.providerData,function(c){Om(i,c)}),$x(i.h,u.h),_e(i,"refreshToken",i.h.a),Kl(i.S,u.S.b))}e=Xn.prototype,e.reload=function(){var i=this;return Kt(this,km(this).then(function(){return Nm(i).then(function(){return Po(i)}).then(Hb)}))};function Nm(i){return i.I().then(function(u){var c=i.isAnonymous;return Xx(i,u).then(function(){return c||Ci(i,"isAnonymous",!1),u})})}e.oc=function(i){return this.I(i).then(function(u){return new Vx(u)})},e.I=function(i){var u=this;return Kt(this,km(this).then(function(){return u.h.getToken(i)}).then(function(c){if(!c)throw new A("internal-error");return c.accessToken!=u.Aa&&(Am(u,c.accessToken),u.dispatchEvent(new js("tokenChanged"))),Ci(u,"refreshToken",c.refreshToken),c.accessToken}))};function Br(i,u){u[wr]&&i.Aa!=u[wr]&&(Bb(i.h,u),i.dispatchEvent(new js("tokenChanged")),Am(i,u[wr]),Ci(i,"refreshToken",i.h.a))}function Xx(i,u){return He(i.a,NR,{idToken:u}).then(O(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new A("internal-error");i=i[0],$b(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var u=Qx(i),c=0;c<u.length;c++)Om(this,u[c]);Ci(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new js("userReloaded",{hd:i}))};function Qx(i){return(i=i.providerUserInfo)&&i.length?Te(i,function(u){return new Gx(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(i){return Zd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(i)},e.ub=function(i){var u=this,c=null;return Kt(this,i.c(this.a,this.uid).then(function(p){return Br(u,p),c=ka(u,p,"reauthenticate"),u.i=null,u.reload()}).then(function(){return c}),!0)};function Wl(i,u){return Nm(i).then(function(){if(B(Cm(i),u))return Po(i).then(function(){throw new A("provider-already-linked")})})}e.Cc=function(i){return Zd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(i)},e.rb=function(i){var u=this,c=null;return Kt(this,Wl(this,i.providerId).then(function(){return u.I()}).then(function(p){return i.b(u.a,p)}).then(function(p){return c=ka(u,p,"link"),Gb(u,p)}).then(function(){return c}))},e.Dc=function(i,u){var c=this;return Kt(this,Wl(this,"phone").then(function(){return hm(Tm(c),i,u,O(c.rb,c))}))},e.Mc=function(i,u){var c=this;return Kt(this,ke().then(function(){return hm(Tm(c),i,u,O(c.ub,c))}),!0)};function ka(i,u,c){var p=yp(u);return u=aw(u),jr({user:i,credential:p,additionalUserInfo:u,operationType:c})}function Gb(i,u){return Br(i,u),i.reload().then(function(){return i})}e.Cb=function(i){var u=this;return Kt(this,this.I().then(function(c){return u.a.Cb(c,i)}).then(function(c){return Br(u,c),u.reload()}))},e.ed=function(i){var u=this;return Kt(this,this.I().then(function(c){return i.b(u.a,c)}).then(function(c){return Br(u,c),u.reload()}))},e.Db=function(i){var u=this;return Kt(this,this.I().then(function(c){return u.a.Db(c,i)}).then(function(c){return Br(u,c),u.reload()}))},e.Eb=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return km(this);var u=this;return Kt(this,this.I().then(function(c){return u.a.Eb(c,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(c){return Br(u,c),Ci(u,"displayName",c.displayName||null),Ci(u,"photoURL",c.photoUrl||null),ee(u.providerData,function(p){p.providerId==="password"&&(_e(p,"displayName",u.displayName),_e(p,"photoURL",u.photoURL))}),Po(u)}).then(Hb))},e.cd=function(i){var u=this;return Kt(this,Nm(this).then(function(c){return B(Cm(u),i)?_R(u.a,c,[i]).then(function(p){var g={};return ee(p.providerUserInfo||[],function(w){g[w.providerId]=!0}),ee(Cm(u),function(w){g[w]||Kb(u,w)}),g[ri.PROVIDER_ID]||_e(u,"phoneNumber",null),Po(u)}):Po(u).then(function(){throw new A("no-such-provider")})}))},e.delete=function(){var i=this;return Kt(this,this.I().then(function(u){return He(i.a,TR,{idToken:u})}).then(function(){i.dispatchEvent(new js("userDeleted"))})).then(function(){for(var u=0;u<i.N.length;u++)i.N[u].cancel("app-deleted");bm(i,null),Em(i,null),Im(i,null),i.N=[],i.J=!0,Sm(i),_e(i,"refreshToken",null),i.b&&um(i.b,i)})},e.Gb=function(i,u){return!!(i=="linkViaPopup"&&(this.g||null)==u&&this.f||i=="reauthViaPopup"&&(this.g||null)==u&&this.f||i=="linkViaRedirect"&&(this.ga||null)==u||i=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(i,u,c,p){i!="linkViaPopup"&&i!="reauthViaPopup"||p!=(this.g||null)||(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,u){return i=="linkViaPopup"&&u==(this.g||null)?O(this.Lb,this):i=="reauthViaPopup"&&u==(this.g||null)?O(this.Mb,this):i=="linkViaRedirect"&&(this.ga||null)==u?O(this.Lb,this):i=="reauthViaRedirect"&&(this.ga||null)==u?O(this.Mb,this):null},e.Ec=function(i){var u=this;return zb(this,"linkViaPopup",i,function(){return Wl(u,i.providerId).then(function(){return Po(u)})},!1)},e.Nc=function(i){return zb(this,"reauthViaPopup",i,function(){return ke()},!0)};function zb(i,u,c,p,g){if(!Eo())return wt(new A("operation-not-supported-in-this-environment"));if(i.i&&!g)return wt(i.i);var w=hp(c.providerId),E=Io(i.uid+":::"),C=null;(!ra()||Xd())&&i.s&&c.isOAuthProvider&&(C=wa(i.s,i.l,i.m,u,c,null,E,Re.SDK_VERSION||null,null,null,i.tenantId,i.u));var z=M0(C,w&&w.va,w&&w.ua);return p=p().then(function(){if(Xb(i),!g)return i.I().then(function(){})}).then(function(){return kb(i.b,z,u,c,E,!!C,i.tenantId)}).then(function(){return new $e(function(ne,Me){i.na(u,null,new A("cancelled-popup-request"),i.g||null),i.f=ne,i.C=Me,i.g=E,i.c=Ob(i.b,i,u,z,E)})}).then(function(ne){return z&&bo(z),ne?jr(ne):null}).o(function(ne){throw z&&bo(z),ne}),Kt(i,p,g)}e.Fc=function(i){var u=this;return Wb(this,"linkViaRedirect",i,function(){return Wl(u,i.providerId)},!1)},e.Oc=function(i){return Wb(this,"reauthViaRedirect",i,function(){return ke()},!0)};function Wb(i,u,c,p,g){if(!Eo())return wt(new A("operation-not-supported-in-this-environment"));if(i.i&&!g)return wt(i.i);var w=null,E=Io(i.uid+":::");return p=p().then(function(){if(Xb(i),!g)return i.I().then(function(){})}).then(function(){return i.ga=E,Po(i)}).then(function(C){return i.ha&&(C=i.ha,C=C.b.set(Rm,i.w(),C.a)),C}).then(function(){return Cb(i.b,u,c,E,i.tenantId)}).o(function(C){if(w=C,i.ha)return Yb(i.ha);throw w}).then(function(){if(w)throw w}),Kt(i,p,g)}function Xb(i){if(!i.b||!i.P)throw i.b&&!i.P?new A("internal-error"):new A("auth-domain-config-required")}e.Lb=function(i,u,c,p){var g=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return c=this.I().then(function(E){return jp(g.a,{requestUri:i,postBody:p,sessionId:u,idToken:E})}).then(function(E){return w=ka(g,E,"link"),Gb(g,E)}).then(function(){return w}),Kt(this,c)},e.Mb=function(i,u,c,p){var g=this;this.c&&(this.c.cancel(),this.c=null);var w=null,E=ke().then(function(){return Ps(Up(g.a,{requestUri:i,sessionId:u,postBody:p,tenantId:c}),g.uid)}).then(function(C){return w=ka(g,C,"reauthenticate"),Br(g,C),g.i=null,g.reload()}).then(function(){return w});return Kt(this,E,!0)},e.vb=function(i){var u=this,c=null;return Kt(this,this.I().then(function(p){return c=p,typeof i>"u"||Lr(i)?{}:ml(new pl(i))}).then(function(p){return u.a.vb(c,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))},e.Fb=function(i,u){var c=this,p=null;return Kt(this,this.I().then(function(g){return p=g,typeof u>"u"||Lr(u)?{}:ml(new pl(u))}).then(function(g){return c.a.Fb(p,i,g)}).then(function(g){if(c.email!=g)return c.reload()}).then(function(){}))};function Kt(i,u,c){var p=Yx(i,u,c);return i.N.push(p),p.oa(function(){W(i.N,p)}),p.o(function(g){var w=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(w=Fb(g.w(),Tm(i),O(i.jc,i))),w||g})}e.jc=function(i){var u=null,c=this;return i=Ps(ke(i),c.uid).then(function(p){return u=ka(c,p,"reauthenticate"),Br(c,p),c.i=null,c.reload()}).then(function(){return u}),Kt(this,i,!0)};function Yx(i,u,c){return i.i&&!c?(u.cancel(),wt(i.i)):u.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(i.i||i.dispatchEvent(new js("userInvalidated")),i.i=p),p})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&en(i,this.metadata.w()),ee(this.providerData,function(u){i.providerData.push(EN(u))}),en(i,this.S.w()),i};function Qb(i){if(!i.apiKey)return null;var u={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},c={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){c[wr]=i.stsTokenManager.accessToken,c.refreshToken=i.stsTokenManager.refreshToken||null;var p=i.stsTokenManager.expirationTime;p&&(c.expiresIn=(p-Date.now())/1e3)}else return null;var g=new Xn(u,c,i);return i.providerData&&ee(i.providerData,function(w){w&&Om(g,jr(w))}),i.redirectEventId&&(g.ga=i.redirectEventId),g}function Jx(i,u,c,p){var g=new Xn(i,u);return c&&(g.ha=c),p&&Sa(g,p),g.reload().then(function(){return g})}function Zx(i,u,c,p){var g=i.h,w={};return w[wr]=g.b&&g.b.toString(),w.refreshToken=g.a,u=new Xn(u||{apiKey:i.l,authDomain:i.s,appName:i.m},w),c&&(u.ha=c),p&&Sa(u,p),zl(u,i),u}function eP(i){this.a=i,this.b=Ta()}var Rm={name:"redirectUser",F:"session"};function Yb(i){return Vs(i.b,Rm,i.a)}function tP(i,u){return i.b.get(Rm,i.a).then(function(c){return c&&u&&(c.authDomain=u),Qb(c||{})})}function xm(i){this.a=i,this.b=Ta(),this.c=null,this.f=nP(this),this.b.addListener(qr("local"),this.a,O(this.g,this))}xm.prototype.g=function(){var i=this,u=qr("local");Us(this,function(){return ke().then(function(){return i.c&&i.c.F!="local"?i.b.get(u,i.a):null}).then(function(c){if(c)return Pm(i,"local").then(function(){i.c=u})})})};function Pm(i,u){var c=[],p;for(p in Ms)Ms[p]!==u&&c.push(Vs(i.b,qr(Ms[p]),i.a));return c.push(Vs(i.b,Dm,i.a)),KO(c)}function nP(i){var u=qr("local"),c=qr("session"),p=qr("none");return gx(i.b,u,i.a).then(function(){return i.b.get(c,i.a)}).then(function(g){return g?c:i.b.get(p,i.a).then(function(w){return w?p:i.b.get(u,i.a).then(function(E){return E?u:i.b.get(Dm,i.a).then(function(C){return C?qr(C):u})})})}).then(function(g){return i.c=g,Pm(i,g.F)}).o(function(){i.c||(i.c=u)})}var Dm={name:"persistence",F:"session"};function qr(i){return{name:"authUser",F:i}}xm.prototype.yb=function(i){var u=null,c=this;return vx(i),Us(this,function(){return i!=c.c.F?c.b.get(c.c,c.a).then(function(p){return u=p,Pm(c,i)}).then(function(){if(c.c=qr(i),u)return c.b.set(c.c,u,c.a)}):ke()})};function rP(i){return Us(i,function(){return i.b.set(Dm,i.c.F,i.a)})}function Jb(i,u){return Us(i,function(){return i.b.set(i.c,u.w(),i.a)})}function Zb(i){return Us(i,function(){return Vs(i.b,i.c,i.a)})}function eE(i,u,c){return Us(i,function(){return i.b.get(i.c,i.a).then(function(p){return p&&u&&(p.authDomain=u),p&&c&&(p.emulatorConfig=c),Qb(p||{})})})}function Us(i,u){return i.f=i.f.then(u,u),i.f}function br(i){if(this.l=!1,_e(this,"settings",new Db),_e(this,"app",i),ct(this).options&&ct(this).options.apiKey)i=Re.SDK_VERSION?Os(Re.SDK_VERSION):null,this.a=new _r(ct(this).options&&ct(this).options.apiKey,Ae(he),i);else throw new A("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Re.INTERNAL.createSubscribe(O(this.zc,this)),this.W=void 0,this.ib=Re.INTERNAL.createSubscribe(O(this.Ac,this)),Bs(this,null),this.i=new xm(ct(this).options.apiKey+":"+ct(this).name),this.D=new eP(ct(this).options.apiKey+":"+ct(this).name),this.$=Ct(this,cP(this)),this.h=Ct(this,lP(this)),this.ba=!1,this.ja=O(this.Zc,this),this.Ba=O(this.da,this),this.qa=O(this.mc,this),this.za=O(this.wc,this),this.Aa=O(this.xc,this),this.b=null,sP(this),this.INTERNAL={},this.INTERNAL.delete=O(this.delete,this),this.INTERNAL.logFramework=O(this.Gc,this),this.u=0,wn.call(this),oP(this),this.J=[],this.R=null}x(br,wn);function tE(i){xn.call(this,"languageCodeChanged"),this.h=i}x(tE,xn);function nE(i){xn.call(this,"emulatorConfigChanged"),this.c=i}x(nE,xn);function rE(i){xn.call(this,"frameworkChanged"),this.f=i}x(rE,xn),e=br.prototype,e.yb=function(i){return i=this.i.yb(i),Ct(this,i)},e.xa=function(i){this.aa===i||this.l||(this.aa=i,Fw(this.a,this.aa),this.dispatchEvent(new tE(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=f.navigator;this.xa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,u){if(!this.R){if(!/^https?:\/\//.test(i))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,iP(u),this.R={url:i,ec:u},this.settings.jb=!0,Dl(this.a,this.R),this.dispatchEvent(new nE(this.R))}};function iP(i){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!i&&fl().then(function(){var u=f.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),f.document.body.appendChild(u)})}e.Gc=function(i){this.J.push(i),Vw(this.a,Re.SDK_VERSION?Os(Re.SDK_VERSION,this.J):null),this.dispatchEvent(new rE(this.J))},e.Ga=function(){return le(this.J)},e.zb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function oP(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.R){var u=Pn(this.R.url);u=jr({protocol:u.c,host:u.a,port:u.g,options:jr({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:ct(this).options.apiKey,authDomain:ct(this).options.authDomain,appName:ct(this).name,currentUser:Ue(this)&&Ue(this).w()}};function Lm(i){return i.Oa||wt(new A("auth-domain-config-required"))}function sP(i){var u=ct(i).options.authDomain,c=ct(i).options.apiKey;u&&Eo()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=lm(u,c,ct(i).name,i.R),ql(i.b,i),Ue(i)&&Aa(Ue(i)),i.m){Aa(i.m);var p=i.m;p.xa(i.la()),bm(p,i),p=i.m,Sa(p,i.J),Im(p,i),p=i.m,wm(p,i.R),Em(p,i),i.m=null}return i.b}}))}e.Gb=function(i,u){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(i,u,c,p){i=="signInViaPopup"&&this.g==p&&(c&&this.C?this.C(c):u&&!c&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,u){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==u&&this.f?O(this.ic,this):null},e.ic=function(i,u,c,p){var g=this,w={requestUri:i,postBody:p,sessionId:u,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return Do(g,Vp(g.a,w))})},e.Xc=function(i){if(!Eo())return wt(new A("operation-not-supported-in-this-environment"));var u=this,c=hp(i.providerId),p=Io(),g=null;(!ra()||Xd())&&ct(this).options.authDomain&&i.isOAuthProvider&&(g=wa(ct(this).options.authDomain,ct(this).options.apiKey,ct(this).name,"signInViaPopup",i,null,p,Re.SDK_VERSION||null,null,null,this.T(),this.R));var w=M0(g,c&&c.va,c&&c.ua);return c=Lm(this).then(function(E){return kb(E,w,"signInViaPopup",i,p,!!g,u.T())}).then(function(){return new $e(function(E,C){u.na("signInViaPopup",null,new A("cancelled-popup-request"),u.g),u.f=E,u.C=C,u.g=p,u.c=Ob(u.b,u,"signInViaPopup",w,p)})}).then(function(E){return w&&bo(w),E?jr(E):null}).o(function(E){throw w&&bo(w),E}),Ct(this,c)},e.Yc=function(i){if(!Eo())return wt(new A("operation-not-supported-in-this-environment"));var u=this,c=Lm(this).then(function(){return rP(u.i)}).then(function(){return Cb(u.b,"signInViaRedirect",i,void 0,u.T())});return Ct(this,c)};function iE(i){if(!Eo())return wt(new A("operation-not-supported-in-this-environment"));var u=Lm(i).then(function(){return i.b.ra()}).then(function(c){return c?jr(c):null});return Ct(i,u)}e.ra=function(){var i=this;return iE(this).then(function(u){return i.b&&Hl(i.b.b),u}).o(function(u){throw i.b&&Hl(i.b.b),u})},e.dd=function(i){if(!i)return wt(new A("null-user"));if(this.S!=i.tenantId)return wt(new A("tenant-id-mismatch"));var u=this,c={};c.apiKey=ct(this).options.apiKey,c.authDomain=ct(this).options.authDomain,c.appName=ct(this).name;var p=Zx(i,c,u.D,u.Ga());return Ct(this,this.h.then(function(){if(ct(u).options.apiKey!=i.l)return p.reload()}).then(function(){return Ue(u)&&i.uid==Ue(u).uid?(zl(Ue(u),i),u.da(i)):(Bs(u,p),Aa(p),u.da(p))}).then(function(){Ca(u)}))};function uP(i,u){var c={};return c.apiKey=ct(i).options.apiKey,c.authDomain=ct(i).options.authDomain,c.appName=ct(i).name,i.R&&(c.emulatorConfig=i.R),i.$.then(function(){return Jx(c,u,i.D,i.Ga())}).then(function(p){return Ue(i)&&p.uid==Ue(i).uid?(zl(Ue(i),p),i.da(p)):(Bs(i,p),Aa(p),i.da(p))}).then(function(){Ca(i)})}function Bs(i,u){Ue(i)&&(Wx(Ue(i),i.Ba),zn(Ue(i),"tokenChanged",i.qa),zn(Ue(i),"userDeleted",i.za),zn(Ue(i),"userInvalidated",i.Aa),Sm(Ue(i))),u&&(u.W.push(i.Ba),ur(u,"tokenChanged",i.qa),ur(u,"userDeleted",i.za),ur(u,"userInvalidated",i.Aa),0<i.u&&qb(u)),_e(i,"currentUser",u),u&&(u.xa(i.la()),bm(u,i),Sa(u,i.J),Im(u,i),wm(u,i.R),Em(u,i))}e.Bb=function(){var i=this,u=this.h.then(function(){return i.b&&Hl(i.b.b),Ue(i)?(Bs(i,null),Zb(i.i).then(function(){Ca(i)})):ke()});return Ct(this,u)};function aP(i){var u=tP(i.D,ct(i).options.authDomain).then(function(c){return(i.m=c)&&(c.ha=i.D),Yb(i.D)});return Ct(i,u)}function cP(i){var u=ct(i).options.authDomain,c=aP(i).then(function(){return eE(i.i,u,i.R)}).then(function(p){return p?(p.ha=i.D,i.m&&(i.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return Jb(i.i,p).then(function(){return p})}).o(function(g){return g.code=="auth/network-request-failed"?p:Zb(i.i)})):null}).then(function(p){Bs(i,p||null)});return Ct(i,c)}function lP(i){return i.$.then(function(){return iE(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var u=i.i;u.b.addListener(qr("local"),u.a,i.ja)}})}e.Zc=function(){var i=this;return eE(this.i,ct(this).options.authDomain).then(function(u){if(!i.l){var c;if(c=Ue(i)&&u){c=Ue(i).uid;var p=u.uid;c=c==null||c===""||p===void 0||p===null||p===""?!1:c==p}if(c)return zl(Ue(i),u),Ue(i).I();(Ue(i)||u)&&(Bs(i,u),u&&(Aa(u),u.ha=i.D),i.b&&ql(i.b,i),Ca(i))}})},e.da=function(i){return Jb(this.i,i)},e.mc=function(){Ca(this),this.da(Ue(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Do(i,u){var c=null,p=null;return Ct(i,u.then(function(g){return c=yp(g),p=aw(g),uP(i,g)},function(g){var w=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(w=Fb(g.w(),i,O(i.kc,i))),w||g}).then(function(){return jr({user:Ue(i),credential:c,additionalUserInfo:p,operationType:"signIn"})}))}e.kc=function(i){var u=this;return this.h.then(function(){return Do(u,ke(i))})},e.zc=function(i){var u=this;this.addAuthTokenListener(function(){i.next(Ue(u))})},e.Ac=function(i){var u=this;fP(this,function(){i.next(Ue(u))})},e.Ic=function(i,u,c){var p=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(Ue(p)):typeof i.next=="function"&&i.next(Ue(p))}),this.Pa(i,u,c)},e.Hc=function(i,u,c){var p=this;return this.ba&&Promise.resolve().then(function(){p.W=p.getUid(),typeof i=="function"?i(Ue(p)):typeof i.next=="function"&&i.next(Ue(p))}),this.ib(i,u,c)},e.nc=function(i){var u=this,c=this.h.then(function(){return Ue(u)?Ue(u).I(i).then(function(p){return{accessToken:p}}):null});return Ct(this,c)},e.Tc=function(i){var u=this;return this.h.then(function(){return Do(u,He(u.a,KR,{token:i}))}).then(function(c){var p=c.user;return Ci(p,"isAnonymous",!1),u.da(p),c})},e.Uc=function(i,u){var c=this;return this.h.then(function(){return Do(c,He(c.a,zw,{email:i,password:u}))})},e.dc=function(i,u){var c=this;return this.h.then(function(){return Do(c,He(c.a,ER,{email:i,password:u}))})},e.ab=function(i){var u=this;return this.h.then(function(){return Do(u,i.ka(u.a))})},e.Sc=function(i){return Zd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(i)},e.Ab=function(){var i=this;return this.h.then(function(){var u=Ue(i);if(u&&u.isAnonymous){var c=jr({providerId:null,isNewUser:!1});return jr({user:u,credential:null,additionalUserInfo:c,operationType:"signIn"})}return Do(i,i.a.Ab()).then(function(p){var g=p.user;return Ci(g,"isAnonymous",!0),i.da(g),p})})};function ct(i){return i.app}function Ue(i){return i.currentUser}e.getUid=function(){return Ue(this)&&Ue(this).uid||null};function Xl(i){return Ue(i)&&Ue(i)._lat||null}function Ca(i){if(i.ba){for(var u=0;u<i.s.length;u++)i.s[u]&&i.s[u](Xl(i));if(i.W!==i.getUid()&&i.N.length)for(i.W=i.getUid(),u=0;u<i.N.length;u++)i.N[u]&&i.N[u](Xl(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&Ue(this)&&qb(Ue(this))},e.Pc=function(i){var u=this;ee(this.s,function(c){c==i&&u.u--}),0>this.u&&(this.u=0),this.u==0&&Ue(this)&&Sm(Ue(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var u=this;this.s.push(i),Ct(this,this.h.then(function(){u.l||B(u.s,i)&&i(Xl(u))}))},e.removeAuthTokenListener=function(i){Q(this.s,function(u){return u==i})};function fP(i,u){i.N.push(u),Ct(i,i.h.then(function(){!i.l&&B(i.N,u)&&i.W!==i.getUid()&&(i.W=i.getUid(),u(Xl(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.P.length;i++)this.P[i].cancel("app-deleted");return this.P=[],this.i&&(i=this.i,i.b.removeListener(qr("local"),i.a,this.ja)),this.b&&(um(this.b,this),Hl(this.b.b)),Promise.resolve()};function Ct(i,u){return i.P.push(u),u.oa(function(){W(i.P,u)}),u}e.hc=function(i){return Ct(this,dR(this.a,i))},e.Bc=function(i){return!!gp(i)},e.xb=function(i,u){var c=this;return Ct(this,ke().then(function(){var p=new pl(u);if(!p.c)throw new A("argument-error",lp+" must be true when sending sign in link to email");return ml(p)}).then(function(p){return c.a.xb(i,p)}).then(function(){}))},e.jd=function(i){return this.Sa(i).then(function(u){return u.data.email})},e.ob=function(i,u){return Ct(this,this.a.ob(i,u).then(function(){}))},e.Sa=function(i){return Ct(this,this.a.Sa(i).then(function(u){return new TN(u)}))},e.kb=function(i){return Ct(this,this.a.kb(i).then(function(){}))},e.wb=function(i,u){var c=this;return Ct(this,ke().then(function(){return typeof u>"u"||Lr(u)?{}:ml(new pl(u))}).then(function(p){return c.a.wb(i,p)}).then(function(){}))},e.Wc=function(i,u){return Ct(this,hm(this,i,u,O(this.ab,this)))},e.Vc=function(i,u){var c=this;return Ct(this,ke().then(function(){var p=u||na(),g=ww(i,p);if(p=gp(p),!p)throw new A("argument-error","Invalid email link!");if(p.tenantId!==c.T())throw new A("tenant-id-mismatch");return c.ab(g)}))};function Oa(){}Oa.prototype.render=function(){},Oa.prototype.reset=function(){},Oa.prototype.getResponse=function(){},Oa.prototype.execute=function(){};function qs(){this.a={},this.b=1e12}var Mm=null;qs.prototype.render=function(i,u){return this.a[this.b.toString()]=new Ql(i,u),this.b++},qs.prototype.reset=function(i){var u=Fm(this,i);i=oE(i),u&&i&&(u.delete(),delete this.a[i])},qs.prototype.getResponse=function(i){return(i=Fm(this,i))?i.getResponse():null},qs.prototype.execute=function(i){(i=Fm(this,i))&&i.execute()};function Fm(i,u){return(u=oE(u))&&i.a[u]||null}function oE(i){return(i=typeof i>"u"?1e12:i)?i.toString():null}function Ql(i,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Xu(i);var c=this;this.i=function(){c.execute()},this.h?this.execute():ur(this.f,"click",this.i)}Ql.prototype.getResponse=function(){return Vm(this),this.b},Ql.prototype.execute=function(){Vm(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=yN();var u=i.c.callback,c=i.c["expired-callback"];if(u)try{u(i.b)}catch{}i.a=setTimeout(function(){if(i.a=null,i.b=null,c)try{c()}catch{}i.h&&i.execute()},6e4)},500))},Ql.prototype.delete=function(){Vm(this),this.g=!0,clearTimeout(this.a),this.a=null,zn(this.f,"click",this.i)};function Vm(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function jm(){}_e(jm,"FACTOR_ID","phone");function Um(){}Um.prototype.g=function(){return Mm||(Mm=new qs),ke(Mm)},Um.prototype.c=function(){};var Bm=null;function qm(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var hP=new Mr(Jc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),dP=new Si(3e4,6e4);qm.prototype.g=function(i){var u=this;return new $e(function(c,p){var g=setTimeout(function(){p(new A("network-request-failed"))},dP.get());if(!f.grecaptcha||i!==u.f&&!u.b){f[u.a]=function(){if(f.grecaptcha){u.f=i;var E=f.grecaptcha.render;f.grecaptcha.render=function(C,z){return C=E(C,z),u.b++,C},clearTimeout(g),c(f.grecaptcha)}else clearTimeout(g),p(new A("internal-error"));delete f[u.a]};var w=Id(hP,{onload:u.a,hl:i||""});ke(Rp(w)).o(function(){clearTimeout(g),p(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),c(f.grecaptcha)})},qm.prototype.c=function(){this.b--};var $m=null;function Hm(i,u,c,p,g,w,E){if(_e(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,E?(Bm||(Bm=new Um),E=Bm):($m||($m=new qm),E=$m),this.m=E,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[aE])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[pP]==="invisible",!f.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Xu(u)||!this.i&&Xu(u).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new _r(i,w||null,g||null),this.u=p||function(){return null};var C=this;this.l=[];var z=this.a[sE];this.a[sE]=function(Me){if(cE(C,Me),typeof z=="function")z(Me);else if(typeof z=="string"){var st=bt(z,f);typeof st=="function"&&st(Me)}};var ne=this.a[uE];this.a[uE]=function(){if(cE(C,null),typeof ne=="function")ne();else if(typeof ne=="string"){var Me=bt(ne,f);typeof Me=="function"&&Me()}}}var sE="callback",uE="expired-callback",aE="sitekey",pP="size";function cE(i,u){for(var c=0;c<i.l.length;c++)try{i.l[c](u)}catch{}}function mP(i,u){Q(i.l,function(c){return c==u})}function Km(i,u){return i.h.push(u),u.oa(function(){W(i.h,u)}),u}e=Hm.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=Km(this,ke().then(function(){if(hl()&&!gr())return fl();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(u){return i.g=u,He(i.s,MR,{})}).then(function(u){i.a[aE]=u.recaptchaSiteKey}).o(function(u){throw i.f=null,u}))},e.render=function(){Yl(this);var i=this;return Km(this,this.Ia().then(function(){if(i.c===null){var u=i.v;if(!i.i){var c=Xu(u);u=BO("DIV"),c.appendChild(u)}i.c=i.g.render(u,i.a)}return i.c}))},e.verify=function(){Yl(this);var i=this;return Km(this,this.render().then(function(u){return new $e(function(c){var p=i.g.getResponse(u);if(p)c(p);else{var g=function(w){w&&(mP(i,g),c(w))};i.l.push(g),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){Yl(this),this.c!==null&&this.g.reset(this.c)};function Yl(i){if(i.J)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Yl(this),this.J=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=Xu(this.v);for(var u;u=i.firstChild;)i.removeChild(u)}};function Gm(i,u,c){var p=!1;try{this.b=c||Re.app()}catch{throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new A("invalid-api-key");var g=this,w=null;try{w=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=Re.SDK_VERSION?Os(Re.SDK_VERSION,w):null,Hm.call(this,c,i,u,function(){try{var E=g.b.auth().la()}catch{E=null}return E},w,Ae(he),p)}x(Gm,Hm);function lE(i,u,c,p){e:{c=Array.prototype.slice.call(c);for(var g=0,w=!1,E=0;E<u.length;E++)if(u[E].optional)w=!0;else{if(w)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(w=u.length,c.length<g||w<c.length)p="Expected "+(g==w?g==1?"1 argument":g+" arguments":g+"-"+w+" arguments")+" but got "+c.length+".";else{for(g=0;g<c.length;g++)if(w=u[g].optional&&c[g]===void 0,!u[g].M(c[g])&&!w){if(u=u[g],0>g||g>=fE.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");c=fE[g],p=(p?"":c+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}p=null}}if(p)throw new A("argument-error",i+" failed: "+p)}var fE="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ye(i,u){return{name:i||"",K:"a valid string",optional:!!u,M:function(c){return typeof c=="string"}}}function zm(i,u){return{name:i||"",K:"a boolean",optional:!!u,M:function(c){return typeof c=="boolean"}}}function Vt(i,u){return{name:i||"",K:"a valid object",optional:!!u,M:S}}function $s(i,u){return{name:i||"",K:"a function",optional:!!u,M:function(c){return typeof c=="function"}}}function $r(i,u){return{name:i||"",K:"null",optional:!!u,M:function(c){return c===null}}}function vP(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function gP(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof br)}}}function yP(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof Re.app.App)}}}function Oi(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var c=!i||u.providerId===i;return!(!u.ka||!c)}}}function hE(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.tb:!1}}}function Hs(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function Wm(i,u){return S(i)&&typeof i.type=="string"&&i.type===u&&typeof i.Ha=="function"}function dE(i){return S(i)&&typeof i.uid=="string"}function Jl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function xt(i,u,c,p){return{name:c||"",K:i.K+" or "+u.K,optional:!!p,M:function(g){return i.M(g)||u.M(g)}}}function Tt(i,u){for(var c in u){var p=u[c].name;i[p]=mE(p,i[c],u[c].j)}}function pE(i,u){for(var c in u){var p=u[c].name;p!==c&&Object.defineProperty(i,p,{get:j(function(g){return this[g]},c),set:j(function(g,w,E,C){lE(g,[E],[C],!0),this[w]=C},p,c,u[c].lb),enumerable:!0})}}function Pt(i,u,c,p){i[u]=mE(u,c,p)}function mE(i,u,c){function p(){var E=Array.prototype.slice.call(arguments);return lE(g,c,E),u.apply(this,E)}if(!c)return u;var g=_P(i),w;for(w in u)p[w]=u[w];for(w in u.prototype)p.prototype[w]=u.prototype[w];return p}function _P(i){return i=i.split("."),i[i.length-1]}Tt(br.prototype,{kb:{name:"applyActionCode",j:[ye("code")]},Sa:{name:"checkActionCode",j:[ye("code")]},ob:{name:"confirmPasswordReset",j:[ye("code"),ye("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ye("email"),ye("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ye("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ye("emailLink")]},Hc:{name:"onAuthStateChanged",j:[xt(Vt(),$s(),"nextOrObserver"),$s("opt_error",!0),$s("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[xt(Vt(),$s(),"nextOrObserver"),$s("opt_error",!0),$s("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ye("email"),xt(Vt("opt_actionCodeSettings",!0),$r(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ye("email"),Vt("actionCodeSettings")]},yb:{name:"setPersistence",j:[ye("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Oi()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Oi()]},Tc:{name:"signInWithCustomToken",j:[ye("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ye("email"),ye("password")]},Vc:{name:"signInWithEmailLink",j:[ye("email"),ye("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ye("phoneNumber"),Jl()]},Xc:{name:"signInWithPopup",j:[Hs()]},Yc:{name:"signInWithRedirect",j:[Hs()]},dd:{name:"updateCurrentUser",j:[xt(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(u){return!!(u&&u instanceof Xn)}}}(),$r(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ye(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ye("url"),Vt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ye("code")]}}),pE(br.prototype,{lc:{name:"languageCode",lb:xt(ye(),$r(),"languageCode")},ti:{name:"tenantId",lb:xt(ye(),$r(),"tenantId")}}),br.Persistence=Ms,br.Persistence.LOCAL="local",br.Persistence.SESSION="session",br.Persistence.NONE="none",Tt(Xn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[zm("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[zm("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Oi()]},rb:{name:"linkWithCredential",j:[Oi()]},Dc:{name:"linkWithPhoneNumber",j:[ye("phoneNumber"),Jl()]},Ec:{name:"linkWithPopup",j:[Hs()]},Fc:{name:"linkWithRedirect",j:[Hs()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Oi()]},ub:{name:"reauthenticateWithCredential",j:[Oi()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ye("phoneNumber"),Jl()]},Nc:{name:"reauthenticateWithPopup",j:[Hs()]},Oc:{name:"reauthenticateWithRedirect",j:[Hs()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[xt(Vt("opt_actionCodeSettings",!0),$r(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ye(null,!0)]},cd:{name:"unlink",j:[ye("provider")]},Cb:{name:"updateEmail",j:[ye("email")]},Db:{name:"updatePassword",j:[ye("password")]},ed:{name:"updatePhoneNumber",j:[Oi("phone")]},Eb:{name:"updateProfile",j:[Vt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ye("email"),xt(Vt("opt_actionCodeSettings",!0),$r(null,!0),"opt_actionCodeSettings",!0)]}}),Tt(qs.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tt(Oa.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tt($e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),pE(Db.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:zm("appVerificationDisabledForTesting")}}),Tt(fm.prototype,{confirm:{name:"confirm",j:[ye("verificationCode")]}}),Pt(xs,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var u,c=[qN,$N,HN,BN],p=0;p<c.length;p++)if(u=c[p](i))return u;return null},[xt(ye(),Vt(),"json")]),Pt(cr,"credential",function(i,u){return new Ai(i,u)},[ye("email"),ye("password")]),Tt(Ai.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),Tt(Ao.prototype,{Ca:{name:"addScope",j:[ye("scope")]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Pt(Ao,"credential",vw,[xt(ye(),Vt(),"token")]),Pt(cr,"credentialWithLink",ww,[ye("email"),ye("emailLink")]),Tt(ko.prototype,{Ca:{name:"addScope",j:[ye("scope")]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Pt(ko,"credential",gw,[xt(ye(),Vt(),"token")]),Tt(Co.prototype,{Ca:{name:"addScope",j:[ye("scope")]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Pt(Co,"credential",yw,[xt(ye(),xt(Vt(),$r()),"idToken"),xt(ye(),$r(),"accessToken",!0)]),Tt(Ds.prototype,{Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Pt(Ds,"credential",_w,[xt(ye(),Vt(),"token"),ye("secret",!0)]),Tt(Wn.prototype,{Ca:{name:"addScope",j:[ye("scope")]},credential:{name:"credential",j:[xt(ye(),xt(Vt(),$r()),"optionsOrIdToken"),xt(ye(),$r(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Tt(ni.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),Tt(To.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),Pt(ri,"credential",bw,[ye("verificationId"),ye("verificationCode")]),Tt(ri.prototype,{gb:{name:"verifyPhoneNumber",j:[xt(ye(),function(i,u){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(c){return c?c.session&&c.phoneNumber?Wm(c.session,ca)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Wm(c.session,wl)&&dE(c.multiFactorHint):c.session&&c.multiFactorUid?Wm(c.session,wl)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Jl()]}}),Tt(ki.prototype,{w:{name:"toJSON",j:[ye(null,!0)]}}),Tt(A.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),Tt(fa.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),Tt(bp.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),Tt(pm.prototype,{toJSON:{name:"toJSON",j:[ye(null,!0)]}}),Tt(dm.prototype,{Rc:{name:"resolveSignIn",j:[hE()]}}),Tt(vm.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[hE(),ye("displayName",!0)]},bd:{name:"unenroll",j:[xt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:dE},ye(),"multiFactorInfoIdentifier")]}}),Tt(Gm.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Pt(cp,"parseLink",J0,[ye("link")]),Pt(jm,"assertion",function(i){return new jb(i)},[Oi("phone")]),function(){if(typeof Re<"u"&&Re.INTERNAL&&Re.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:dl,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ap,VERIFY_AND_CHANGE_EMAIL:ua,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:br,AuthCredential:xs,Error:A};Pt(i,"EmailAuthProvider",cr,[]),Pt(i,"FacebookAuthProvider",Ao,[]),Pt(i,"GithubAuthProvider",ko,[]),Pt(i,"GoogleAuthProvider",Co,[]),Pt(i,"TwitterAuthProvider",Ds,[]),Pt(i,"OAuthProvider",Wn,[ye("providerId")]),Pt(i,"SAMLAuthProvider",mw,[ye("providerId")]),Pt(i,"PhoneAuthProvider",ri,[gP()]),Pt(i,"RecaptchaVerifier",Gm,[xt(ye(),vP(),"recaptchaContainer"),Vt("recaptchaParameters",!0),yP()]),Pt(i,"ActionCodeURL",cp,[]),Pt(i,"PhoneMultiFactorGenerator",jm,[]),Re.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new br(u)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),Re.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:O(u.getUid,u),getToken:O(u.nc,u),addAuthTokenListener:O(u.cc,u),removeAuthTokenListener:O(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Re.registerVersion("@firebase/auth","0.16.8"),Re.INTERNAL.extendNamespace({User:Xn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Gv=function(e,t){return Gv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Gv(e,t)};function iF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Gv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function k1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var oF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ge,sy=sy||{},Fe=oF||self;function qf(){}function zv(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Nc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function sF(e){return Object.prototype.hasOwnProperty.call(e,ov)&&e[ov]||(e[ov]=++uF)}var ov="closure_uid_"+(1e9*Math.random()>>>0),uF=0;function aF(e,t,n){return e.call.apply(e.bind,arguments)}function cF(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function un(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?un=aF:un=cF,un.apply(null,arguments)}function uf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function ln(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,o,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[o].apply(r,a)}}function ao(){this.s=this.s,this.o=this.o}var lF=0;ao.prototype.s=!1;ao.prototype.na=function(){!this.s&&(this.s=!0,this.M(),lF!=0)&&sF(this)};ao.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var C1=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},O1=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function fF(e){e:{for(var t=nV,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function nI(e){return Array.prototype.concat.apply([],arguments)}function uy(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function $f(e){return/^[\s\xa0]*$/.test(e)}var rI=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function An(e,t){return e.indexOf(t)!=-1}function sv(e,t){return e<t?-1:e>t?1:0}var kn;e:{var iI=Fe.navigator;if(iI){var oI=iI.userAgent;if(oI){kn=oI;break e}}kn=""}function ay(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function N1(e){var t={};for(var n in e)t[n]=e[n];return t}var sI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R1(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<sI.length;s++)n=sI[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function cy(e){return cy[" "](e),e}cy[" "]=qf;function hF(e){var t=mF;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var dF=An(kn,"Opera"),hu=An(kn,"Trident")||An(kn,"MSIE"),x1=An(kn,"Edge"),Wv=x1||hu,P1=An(kn,"Gecko")&&!(An(kn.toLowerCase(),"webkit")&&!An(kn,"Edge"))&&!(An(kn,"Trident")||An(kn,"MSIE"))&&!An(kn,"Edge"),pF=An(kn.toLowerCase(),"webkit")&&!An(kn,"Edge");function D1(){var e=Fe.document;return e?e.documentMode:void 0}var Hf;e:{var uv="",av=function(){var e=kn;if(P1)return/rv:([^\);]+)(\)|;)/.exec(e);if(x1)return/Edge\/([\d\.]+)/.exec(e);if(hu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(pF)return/WebKit\/(\S+)/.exec(e);if(dF)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(av&&(uv=av?av[1]:""),hu){var cv=D1();if(cv!=null&&cv>parseFloat(uv)){Hf=String(cv);break e}}Hf=uv}var mF={};function vF(){return hF(function(){for(var e=0,t=rI(String(Hf)).split("."),n=rI("9").split("."),r=Math.max(t.length,n.length),o=0;e==0&&o<r;o++){var s=t[o]||"",a=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=sv(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||sv(s[2].length==0,a[2].length==0)||sv(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var Xv;if(Fe.document&&hu){var uI=D1();Xv=uI||parseInt(Hf,10)||void 0}else Xv=void 0;var gF=Xv,yF=function(){if(!Fe.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Fe.addEventListener("test",qf,t),Fe.removeEventListener("test",qf,t)}catch{}return e}();function gn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}gn.prototype.h=function(){this.defaultPrevented=!0};function ac(e,t){if(gn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(P1){e:{try{cy(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:_F[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ac.Z.h.call(this)}}ln(ac,gn);var _F={2:"touch",3:"pen",4:"mouse"};ac.prototype.h=function(){ac.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Rc="closure_listenable_"+(1e6*Math.random()|0),wF=0;function bF(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++wF,this.ca=this.fa=!1}function Dh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Lh(e){this.src=e,this.g={},this.h=0}Lh.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=Yv(e,t,r,o);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new bF(t,this.src,s,!!r,o),t.fa=n,e.push(t)),t};function Qv(e,t){var n=t.type;if(n in e.g){var r=e.g[n],o=C1(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(Dh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Yv(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return o}return-1}var ly="closure_lm_"+(1e6*Math.random()|0),lv={};function L1(e,t,n,r,o){if(r&&r.once)return F1(e,t,n,r,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)L1(e,t[s],n,r,o);return null}return n=dy(n),e&&e[Rc]?e.N(t,n,Nc(r)?!!r.capture:!!r,o):M1(e,t,n,!1,r,o)}function M1(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var a=Nc(o)?!!o.capture:!!o,l=hy(e);if(l||(e[ly]=l=new Lh(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=EF(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)yF||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(j1(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function EF(){function e(n){return t.call(e.src,e.listener,n)}var t=IF;return e}function F1(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)F1(e,t[s],n,r,o);return null}return n=dy(n),e&&e[Rc]?e.O(t,n,Nc(r)?!!r.capture:!!r,o):M1(e,t,n,!0,r,o)}function V1(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)V1(e,t[s],n,r,o);else r=Nc(r)?!!r.capture:!!r,n=dy(n),e&&e[Rc]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Yv(s,n,r,o),-1<n&&(Dh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=hy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Yv(t,n,r,o)),(n=-1<e?t[e]:null)&&fy(n))}function fy(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Rc])Qv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(j1(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=hy(t))?(Qv(n,e),n.h==0&&(n.src=null,t[ly]=null)):Dh(e)}}}function j1(e){return e in lv?lv[e]:lv[e]="on"+e}function IF(e,t){if(e.ca)e=!0;else{t=new ac(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&fy(e),e=n.call(r,t)}return e}function hy(e){return e=e[ly],e instanceof Lh?e:null}var fv="__closure_events_fn_"+(1e9*Math.random()>>>0);function dy(e){return typeof e=="function"?e:(e[fv]||(e[fv]=function(t){return e.handleEvent(t)}),e[fv])}function Zt(){ao.call(this),this.i=new Lh(this),this.P=this,this.I=null}ln(Zt,ao);Zt.prototype[Rc]=!0;Zt.prototype.removeEventListener=function(e,t,n,r){V1(this,e,t,n,r)};function an(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new gn(t,e);else if(t instanceof gn)t.target=t.target||e;else{var o=t;t=new gn(r,e),R1(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];o=af(a,r,!0,t)&&o}if(a=t.g=e,o=af(a,r,!0,t)&&o,o=af(a,r,!1,t)&&o,n)for(s=0;s<n.length;s++)a=t.g=n[s],o=af(a,r,!1,t)&&o}Zt.prototype.M=function(){if(Zt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Dh(n[r]);delete e.g[t],e.h--}}this.I=null};Zt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Zt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function af(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&Qv(e.i,a),o=l.call(f,r)!==!1&&o}}return o&&!r.defaultPrevented}var py=Fe.JSON.stringify;function TF(){var e=B1,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var SF=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=U1.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),U1=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new AF},function(e){return e.reset()}),AF=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function kF(e){Fe.setTimeout(function(){throw e},0)}function my(e,t){Jv||CF(),Zv||(Jv(),Zv=!0),B1.add(e,t)}var Jv;function CF(){var e=Fe.Promise.resolve(void 0);Jv=function(){e.then(OF)}}var Zv=!1,B1=new SF;function OF(){for(var e;e=TF();){try{e.h.call(e.g)}catch(n){kF(n)}var t=U1;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Zv=!1}function Mh(e,t){Zt.call(this),this.h=e||1,this.g=t||Fe,this.j=un(this.kb,this),this.l=Date.now()}ln(Mh,Zt);ge=Mh.prototype;ge.da=!1;ge.S=null;ge.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),an(this,"tick"),this.da&&(vy(this),this.start()))}};ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function vy(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}ge.M=function(){Mh.Z.M.call(this),vy(this),delete this.g};function gy(e,t,n){if(typeof e=="function")n&&(e=un(e,n));else if(e&&typeof e.handleEvent=="function")e=un(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Fe.setTimeout(e,t||0)}function q1(e){e.g=gy(function(){e.g=null,e.i&&(e.i=!1,q1(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var NF=function(e){iF(t,e);function t(n,r){var o=e.call(this)||this;return o.m=n,o.j=r,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:q1(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(ao);function cc(e){ao.call(this),this.h=e,this.g={}}ln(cc,ao);var aI=[];function $1(e,t,n,r){Array.isArray(n)||(n&&(aI[0]=n.toString()),n=aI);for(var o=0;o<n.length;o++){var s=L1(t,n[o],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function H1(e){ay(e.g,function(t,n){this.g.hasOwnProperty(n)&&fy(t)},e),e.g={}}cc.prototype.M=function(){cc.Z.M.call(this),H1(this)};cc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Fh(){this.g=!0}Fh.prototype.Aa=function(){this.g=!1};function RF(e,t,n,r,o,s){e.info(function(){if(e.g)if(s)for(var a="",l=s.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var v=d[0];d=d[1];var h=v.split("_");a=2<=h.length&&h[1]=="type"?a+(v+"="+d+"&"):a+(v+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function xF(e,t,n,r,o,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+a})}function eu(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+DF(e,n)+(r?" "+r:"")})}function PF(e,t){e.info(function(){return"TIMEOUT: "+t})}Fh.prototype.info=function(){};function DF(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return py(n)}catch{return t}}var ps={},cI=null;function Vh(){return cI=cI||new Zt}ps.Ma="serverreachability";function K1(e){gn.call(this,ps.Ma,e)}ln(K1,gn);function lc(e){var t=Vh();an(t,new K1(t))}ps.STAT_EVENT="statevent";function G1(e,t){gn.call(this,ps.STAT_EVENT,e),this.stat=t}ln(G1,gn);function On(e){var t=Vh();an(t,new G1(t,e))}ps.Na="timingevent";function z1(e,t){gn.call(this,ps.Na,e),this.size=t}ln(z1,gn);function xc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Fe.setTimeout(function(){e()},t)}var jh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},W1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function yy(){}yy.prototype.h=null;function lI(e){return e.h||(e.h=e.i())}function X1(){}var Pc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function _y(){gn.call(this,"d")}ln(_y,gn);function wy(){gn.call(this,"c")}ln(wy,gn);var eg;function Uh(){}ln(Uh,yy);Uh.prototype.g=function(){return new XMLHttpRequest};Uh.prototype.i=function(){return{}};eg=new Uh;function Dc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new cc(this),this.P=LF,e=Wv?125:void 0,this.W=new Mh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Q1}function Q1(){this.i=null,this.g="",this.h=!1}var LF=45e3,tg={},Kf={};ge=Dc.prototype;ge.setTimeout=function(e){this.P=e};function ng(e,t,n){e.K=1,e.v=qh(vi(t)),e.s=n,e.U=!0,Y1(e,null)}function Y1(e,t){e.F=Date.now(),Lc(e),e.A=vi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),iA(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Q1,e.g=TA(e.l,n?t:null,!e.s),0<e.O&&(e.L=new NF(un(e.Ia,e,e.g),e.O)),$1(e.V,e.g,"readystatechange",e.gb),t=e.H?N1(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),lc(),RF(e.j,e.u,e.A,e.m,e.X,e.s)}ge.gb=function(e){e=e.target;var t=this.L;t&&ai(e)==3?t.l():this.Ia(e)};ge.Ia=function(e){try{if(e==this.g)e:{var t=ai(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||Wv||this.g&&(this.h.h||this.g.ga()||pI(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?lc(3):lc(2)),Bh(this);var o=this.g.ba();this.N=o;t:if(J1(this)){var s=pI(this.g);e="";var a=s.length,l=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zo(this),qa(this);var f="";break t}this.h.i=new Fe.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,xF(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,v=this.g;if((d=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$f(d)){var h=d;break t}}h=null}if(o=h)eu(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,rg(this,o);else{this.i=!1,this.o=3,On(12),zo(this),qa(this);break e}}this.U?(Z1(this,t,f),Wv&&this.i&&t==3&&($1(this.V,this.W,"tick",this.fb),this.W.start())):(eu(this.j,this.m,f,null),rg(this,f)),t==4&&zo(this),this.i&&!this.I&&(t==4?wA(this.l,this):(this.i=!1,Lc(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,On(12)):(this.o=0,On(13)),zo(this),qa(this)}}}catch{}finally{}};function J1(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function Z1(e,t,n){for(var r=!0,o;!e.I&&e.C<n.length;)if(o=MF(e,n),o==Kf){t==4&&(e.o=4,On(14),r=!1),eu(e.j,e.m,null,"[Incomplete Response]");break}else if(o==tg){e.o=4,On(15),eu(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else eu(e.j,e.m,o,null),rg(e,o);J1(e)&&o!=Kf&&o!=tg&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,On(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Oy(t),t.L=!0,On(11))):(eu(e.j,e.m,n,"[Invalid Chunked Response]"),zo(e),qa(e))}ge.fb=function(){if(this.g){var e=ai(this.g),t=this.g.ga();this.C<t.length&&(Bh(this),Z1(this,e,t),this.i&&e!=4&&Lc(this))}};function MF(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Kf:(n=Number(t.substring(n,r)),isNaN(n)?tg:(r+=1,r+n>t.length?Kf:(t=t.substr(r,n),e.C=r+n,t)))}ge.cancel=function(){this.I=!0,zo(this)};function Lc(e){e.Y=Date.now()+e.P,eA(e,e.P)}function eA(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=xc(un(e.eb,e),t)}function Bh(e){e.B&&(Fe.clearTimeout(e.B),e.B=null)}ge.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(PF(this.j,this.A),this.K!=2&&(lc(),On(17)),zo(this),this.o=2,qa(this)):eA(this,this.Y-e)};function qa(e){e.l.G==0||e.I||wA(e.l,e)}function zo(e){Bh(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,vy(e.W),H1(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function rg(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||ig(n.i,e))){if(n.I=e.N,!e.J&&ig(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Xf(n),Kh(n);else break e;Cy(n),On(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=xc(un(n.ab,n),6e3));if(1>=uA(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Wo(n,11)}else if((e.J||n.g==e)&&Xf(n),!$f(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var d=e.g;if(d){var v=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var h=r.i;!h.g&&(An(v,"spdy")||An(v,"quic")||An(v,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Iy(h,h.h),h.h=null))}if(r.D){var m=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,It(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=IA(r,r.H?r.la:null,r.W),y.J){aA(r.i,y);var _=y,b=r.K;b&&_.setTimeout(b),_.B&&(Bh(_),Lc(_)),r.g=y}else yA(r);0<n.l.length&&Gh(n)}else s[0]!="stop"&&s[0]!="close"||Wo(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Wo(n,7):ky(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}lc(4)}catch{}}function FF(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(zv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function by(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(zv(e)||typeof e=="string")O1(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(zv(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=FF(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function Vu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Vu)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}ge=Vu.prototype;ge.R=function(){Ey(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};ge.T=function(){return Ey(this),this.g.concat()};function Ey(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];os(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)r=e.g[t],os(o,r)||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}ge.get=function(e,t){return os(this.h,e)?this.h[e]:t};ge.set=function(e,t){os(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};ge.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function os(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var tA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function VF(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function ss(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ss){this.g=t!==void 0?t:e.g,Gf(this,e.j),this.s=e.s,zf(this,e.i),Wf(this,e.m),this.l=e.l,t=e.h;var n=new fc;n.i=t.i,t.g&&(n.g=new Vu(t.g),n.h=t.h),fI(this,n),this.o=e.o}else e&&(n=String(e).match(tA))?(this.g=!!t,Gf(this,n[1]||"",!0),this.s=$a(n[2]||""),zf(this,n[3]||"",!0),Wf(this,n[4]),this.l=$a(n[5]||"",!0),fI(this,n[6]||"",!0),this.o=$a(n[7]||"")):(this.g=!!t,this.h=new fc(null,this.g))}ss.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Fa(t,hI,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Fa(t,hI,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Fa(n,n.charAt(0)=="/"?$F:qF,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Fa(n,KF)),e.join("")};function vi(e){return new ss(e)}function Gf(e,t,n){e.j=n?$a(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function zf(e,t,n){e.i=n?$a(t,!0):t}function Wf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function fI(e,t,n){t instanceof fc?(e.h=t,GF(e.h,e.g)):(n||(t=Fa(t,HF)),e.h=new fc(t,e.g))}function It(e,t,n){e.h.set(t,n)}function qh(e){return It(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function jF(e){return e instanceof ss?vi(e):new ss(e,void 0)}function UF(e,t,n,r){var o=new ss(null,void 0);return e&&Gf(o,e),t&&zf(o,t),n&&Wf(o,n),r&&(o.l=r),o}function $a(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Fa(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,BF),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function BF(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var hI=/[#\/\?@]/g,qF=/[#\?:]/g,$F=/[#\?]/g,HF=/[#\?@]/g,KF=/#/g;function fc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function co(e){e.g||(e.g=new Vu,e.h=0,e.i&&VF(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ge=fc.prototype;ge.add=function(e,t){co(this),this.i=null,e=ju(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function nA(e,t){co(e),t=ju(e,t),os(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,os(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ey(e)))}function rA(e,t){return co(e),t=ju(e,t),os(e.g.h,t)}ge.forEach=function(e,t){co(this),this.g.forEach(function(n,r){O1(n,function(o){e.call(t,o,r,this)},this)},this)};ge.T=function(){co(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};ge.R=function(e){co(this);var t=[];if(typeof e=="string")rA(this,e)&&(t=nI(t,this.g.get(ju(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=nI(t,e[n])}return t};ge.set=function(e,t){return co(this),this.i=null,e=ju(this,e),rA(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ge.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function iA(e,t,n){nA(e,t),0<n.length&&(e.i=null,e.g.set(ju(e,t),uy(n)),e.h+=n.length)}ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=o;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};function ju(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function GF(e,t){t&&!e.j&&(co(e),e.i=null,e.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(nA(this,r),iA(this,o,n))},e)),e.j=t}var zF=function(){function e(t,n){this.h=t,this.g=n}return e}();function oA(e){this.l=e||WF,Fe.PerformanceNavigationTiming?(e=Fe.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Fe.g&&Fe.g.Ea&&Fe.g.Ea()&&Fe.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var WF=10;function sA(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function uA(e){return e.h?1:e.g?e.g.size:0}function ig(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Iy(e,t){e.g?e.g.add(t):e.h=t}function aA(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}oA.prototype.cancel=function(){var e,t;if(this.i=cA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=k1(this.g.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function cA(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var o=k1(e.g.values()),s=o.next();!s.done;s=o.next()){var a=s.value;r=r.concat(a.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return uy(e.i)}function Ty(){}Ty.prototype.stringify=function(e){return Fe.JSON.stringify(e,void 0)};Ty.prototype.parse=function(e){return Fe.JSON.parse(e,void 0)};function XF(){this.g=new Ty}function QF(e,t,n){var r=n||"";try{by(e,function(o,s){var a=o;Nc(o)&&(a=py(o)),t.push(r+s+"="+encodeURIComponent(a))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function YF(e,t){var n=new Fh;if(Fe.Image){var r=new Image;r.onload=uf(cf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=uf(cf,n,r,"TestLoadImage: error",!1,t),r.onabort=uf(cf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=uf(cf,n,r,"TestLoadImage: timeout",!1,t),Fe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function cf(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function Mc(e){this.l=e.$b||null,this.j=e.ib||!1}ln(Mc,yy);Mc.prototype.g=function(){return new $h(this.l,this.j)};Mc.prototype.i=function(e){return function(){return e}}({});function $h(e,t){Zt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Sy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ln($h,Zt);var Sy=0;ge=$h.prototype;ge.open=function(e,t){if(this.readyState!=Sy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,hc(this)};ge.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Fe).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fc(this)),this.readyState=Sy};ge.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,hc(this)),this.g&&(this.readyState=3,hc(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Fe.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lA(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function lA(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}ge.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Fc(this):hc(this),this.readyState==3&&lA(this)}};ge.Ua=function(e){this.g&&(this.response=this.responseText=e,Fc(this))};ge.Ta=function(e){this.g&&(this.response=e,Fc(this))};ge.ha=function(){this.g&&Fc(this)};function Fc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,hc(e)}ge.setRequestHeader=function(e,t){this.v.append(e,t)};ge.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ge.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function hc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty($h.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var JF=Fe.JSON.parse;function $t(e){Zt.call(this),this.headers=new Vu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fA,this.K=this.L=!1}ln($t,Zt);var fA="",ZF=/^https?$/i,eV=["POST","PUT"];ge=$t.prototype;ge.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():eg.g(),this.C=this.u?lI(this.u):lI(eg),this.g.onreadystatechange=un(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){dI(this,s);return}e=n||"";var o=new Vu(this.headers);r&&by(r,function(s,a){o.set(a,s)}),r=fF(o.T()),n=Fe.FormData&&e instanceof Fe.FormData,!(0<=C1(eV,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pA(this),0<this.B&&((this.K=tV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=un(this.pa,this)):this.A=gy(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){dI(this,s)}};function tV(e){return hu&&vF()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function nV(e){return e.toLowerCase()=="content-type"}ge.pa=function(){typeof sy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,an(this,"timeout"),this.abort(8))};function dI(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,hA(e),Hh(e)}function hA(e){e.D||(e.D=!0,an(e,"complete"),an(e,"error"))}ge.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,an(this,"complete"),an(this,"abort"),Hh(this))};ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hh(this,!0)),$t.Z.M.call(this)};ge.Fa=function(){this.s||(this.F||this.v||this.l?dA(this):this.cb())};ge.cb=function(){dA(this)};function dA(e){if(e.h&&typeof sy<"u"&&(!e.C[1]||ai(e)!=4||e.ba()!=2)){if(e.v&&ai(e)==4)gy(e.Fa,0,e);else if(an(e,"readystatechange"),ai(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.H).match(tA)[1]||null;if(!s&&Fe.self&&Fe.self.location){var a=Fe.self.location.protocol;s=a.substr(0,a.length-1)}o=!ZF.test(s?s.toLowerCase():"")}r=o}if(r)an(e,"complete"),an(e,"success");else{e.m=6;try{var l=2<ai(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",hA(e)}}finally{Hh(e)}}}}function Hh(e,t){if(e.g){pA(e);var n=e.g,r=e.C[0]?qf:null;e.g=null,e.C=null,t||an(e,"ready");try{n.onreadystatechange=r}catch{}}}function pA(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Fe.clearTimeout(e.A),e.A=null)}function ai(e){return e.g?e.g.readyState:0}ge.ba=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}};ge.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ge.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),JF(t)}};function pI(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case fA:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ge.Da=function(){return this.m};ge.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function rV(e){var t="";return ay(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Ay(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rV(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):It(e,t,n))}function xa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function mA(e){this.za=0,this.l=[],this.h=new Fh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=xa("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=xa("baseRetryDelayMs",5e3,e),this.$a=xa("retryDelaySeedMs",1e4,e),this.Ya=xa("forwardChannelMaxRetries",2,e),this.ra=xa("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new oA(e&&e.concurrentRequestLimit),this.Ca=new XF,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}ge=mA.prototype;ge.ma=8;ge.G=1;function ky(e){if(vA(e),e.G==3){var t=e.V++,n=vi(e.F);It(n,"SID",e.J),It(n,"RID",t),It(n,"TYPE","terminate"),Vc(e,n),t=new Dc(e,e.h,t,void 0),t.K=2,t.v=qh(vi(n)),n=!1,Fe.navigator&&Fe.navigator.sendBeacon&&(n=Fe.navigator.sendBeacon(t.v.toString(),"")),!n&&Fe.Image&&(new Image().src=t.v,n=!0),n||(t.g=TA(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Lc(t)}EA(e)}ge.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Kh(e){e.g&&(Oy(e),e.g.cancel(),e.g=null)}function vA(e){Kh(e),e.u&&(Fe.clearTimeout(e.u),e.u=null),Xf(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Fe.clearTimeout(e.m),e.m=null)}function hv(e,t){e.l.push(new zF(e.Za++,t)),e.G==3&&Gh(e)}function Gh(e){sA(e.i)||e.m||(e.m=!0,my(e.Ha,e),e.C=0)}function iV(e,t){return uA(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=xc(un(e.Ha,e,t),bA(e,e.C)),e.C++,!0)}ge.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Dc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=N1(n),R1(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=gA(this,t,r),o=vi(this.F),It(o,"RID",e),It(o,"CVER",22),this.D&&It(o,"X-HTTP-Session-Id",this.D),Vc(this,o),this.o&&n&&Ay(o,this.o,n),Iy(this.i,t),this.Ra&&It(o,"TYPE","init"),this.ja?(It(o,"$req",r),It(o,"SID","null"),t.$=!0,ng(t,o,null)):ng(t,o,r),this.G=2}}else this.G==3&&(e?mI(this,e):this.l.length==0||sA(this.i)||mI(this))};function mI(e,t){var n;t?n=t.m:n=e.V++;var r=vi(e.F);It(r,"SID",e.J),It(r,"RID",n),It(r,"AID",e.U),Vc(e,r),e.o&&e.s&&Ay(r,e.o,e.s),n=new Dc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=gA(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Iy(e.i,n),ng(n,r,t)}function Vc(e,t){e.j&&by({},function(n,r){It(t,r,n)})}function gA(e,t,n){n=Math.min(e.l.length,n);var r=e.j?un(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=o[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var d=o[f].h,v=o[f].g;if(d-=s,0>d)s=Math.max(0,o[f].h-100),l=!1;else try{QF(v,a,"req"+d+"_")}catch{r&&r(v)}}if(l){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function yA(e){e.g||e.u||(e.Y=1,my(e.Ga,e),e.A=0)}function Cy(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=xc(un(e.Ga,e),bA(e,e.A)),e.A++,!0)}ge.Ga=function(){if(this.u=null,_A(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=xc(un(this.bb,this),e)}};ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,On(10),Kh(this),_A(this))};function Oy(e){e.B!=null&&(Fe.clearTimeout(e.B),e.B=null)}function _A(e){e.g=new Dc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=vi(e.oa);It(t,"RID","rpc"),It(t,"SID",e.J),It(t,"CI",e.N?"0":"1"),It(t,"AID",e.U),Vc(e,t),It(t,"TYPE","xmlhttp"),e.o&&e.s&&Ay(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=qh(vi(t)),n.s=null,n.U=!0,Y1(n,e)}ge.ab=function(){this.v!=null&&(this.v=null,Kh(this),Cy(this),On(19))};function Xf(e){e.v!=null&&(Fe.clearTimeout(e.v),e.v=null)}function wA(e,t){var n=null;if(e.g==t){Xf(e),Oy(e),e.g=null;var r=2}else if(ig(e.i,t))n=t.D,aA(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;r=Vh(),an(r,new z1(r,n)),Gh(e)}else yA(e);else if(o=t.o,o==3||o==0&&0<e.I||!(r==1&&iV(e,t)||r==2&&Cy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Wo(e,5);break;case 4:Wo(e,10);break;case 3:Wo(e,6);break;default:Wo(e,2)}}}function bA(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Wo(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=un(e.jb,e);n||(n=new ss("//www.google.com/images/cleardot.gif"),Fe.location&&Fe.location.protocol=="http"||Gf(n,"https"),qh(n)),YF(n.toString(),r)}else On(2);e.G=0,e.j&&e.j.va(t),EA(e),vA(e)}ge.jb=function(e){e?(this.h.info("Successfully pinged google.com"),On(2)):(this.h.info("Failed to ping google.com"),On(1))};function EA(e){e.G=0,e.I=-1,e.j&&((cA(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,uy(e.l),e.l.length=0),e.j.ua())}function IA(e,t,n){var r=jF(n);if(r.i!="")t&&zf(r,t+"."+r.i),Wf(r,r.m);else{var o=Fe.location;r=UF(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&ay(e.aa,function(s,a){It(r,a,s)}),t=e.D,n=e.sa,t&&n&&It(r,t,n),It(r,"VER",e.ma),Vc(e,r),r}function TA(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new $t(new Mc({ib:!0})):new $t(e.qa),t.L=e.H,t}function SA(){}ge=SA.prototype;ge.xa=function(){};ge.wa=function(){};ge.va=function(){};ge.ua=function(){};ge.Oa=function(){};function Qf(){if(hu&&!(10<=Number(gF)))throw Error("Environmental error: no available transport.")}Qf.prototype.g=function(e,t){return new or(e,t)};function or(e,t){Zt.call(this),this.g=new mA(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!$f(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!$f(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Uu(this)}ln(or,Zt);or.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),my(un(e.hb,e,t))),On(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=IA(e,null,e.W),Gh(e)};or.prototype.close=function(){ky(this.g)};or.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,hv(this.g,t)}else this.v?(t={},t.__data__=py(e),hv(this.g,t)):hv(this.g,e)};or.prototype.M=function(){this.g.j=null,delete this.j,ky(this.g),delete this.g,or.Z.M.call(this)};function AA(e){_y.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}ln(AA,_y);function kA(){wy.call(this),this.status=1}ln(kA,wy);function Uu(e){this.g=e}ln(Uu,SA);Uu.prototype.xa=function(){an(this.g,"a")};Uu.prototype.wa=function(e){an(this.g,new AA(e))};Uu.prototype.va=function(e){an(this.g,new kA)};Uu.prototype.ua=function(){an(this.g,"b")};Qf.prototype.createWebChannel=Qf.prototype.g;or.prototype.send=or.prototype.u;or.prototype.open=or.prototype.m;or.prototype.close=or.prototype.close;jh.NO_ERROR=0;jh.TIMEOUT=8;jh.HTTP_ERROR=6;W1.COMPLETE="complete";X1.EventType=Pc;Pc.OPEN="a";Pc.CLOSE="b";Pc.ERROR="c";Pc.MESSAGE="d";Zt.prototype.listen=Zt.prototype.N;$t.prototype.listenOnce=$t.prototype.O;$t.prototype.getLastError=$t.prototype.La;$t.prototype.getLastErrorCode=$t.prototype.Da;$t.prototype.getStatus=$t.prototype.ba;$t.prototype.getResponseJson=$t.prototype.Qa;$t.prototype.getResponseText=$t.prototype.ga;$t.prototype.send=$t.prototype.ea;var oV=function(){return new Qf},sV=function(){return Vh()},dv=jh,uV=W1,aV=ps,vI={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},cV=Mc,lf=X1,lV=$t;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();nr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ie=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Ce(t,e),t}(Error),Cr=new I1("@firebase/firestore");function og(){return Cr.logLevel}function ce(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Cr.logLevel<=Ze.DEBUG){var r=t.map(Ny);Cr.debug.apply(Cr,Et(["Firestore (8.10.1): "+e],r))}}function qt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Cr.logLevel<=Ze.ERROR){var r=t.map(Ny);Cr.error.apply(Cr,Et(["Firestore (8.10.1): "+e],r))}}function Yf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Cr.logLevel<=Ze.WARN){var r=t.map(Ny);Cr.warn.apply(Cr,Et(["Firestore (8.10.1): "+e],r))}}function Ny(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw qt(t),new Error(t)}function Pe(e,t){e||Ie()}function me(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CA=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=fV(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function Ke(e,t){return e<t?-1:e>t?1:0}function du(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function OA(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ie(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ie(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ie(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Ke(this.nanoseconds,t.nanoseconds):Ke(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),qe=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Un(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ms(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function NA(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RA=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&Ie(),r===void 0?r=t.length-n:r>t.length-n&&Ie(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),a=n.get(o);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),rt=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new ie(q.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(RA),hV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return hV.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,a=function(){if(o.length===0)throw new ie(q.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new ie(q.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ie(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(a(),s++)}if(a(),l)throw new ie(q.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(RA),pu=function(){function e(t){this.fields=t,t.sort(Pr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return du(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),qn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Ke(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();qn.EMPTY_BYTE_STRING=new qn("");var dV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(e){if(Pe(!!e),typeof e=="string"){var t=0,n=dV.exec(e);if(Pe(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Ut(e.seconds),nanos:Ut(e.nanos)}}function Ut(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function mu(e){return typeof e=="string"?qn.fromBase64String(e):qn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xA(e){var t=e.mapValue.fields.__previous_value__;return Ry(t)?xA(t):t}function dc(e){var t=io(e.mapValue.fields.__local_write_time__.timestampValue);return new Un(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(e){return e==null}function Jf(e){return e===0&&1/e==-1/0}function PA(e){return typeof e=="number"&&Number.isInteger(e)&&!Jf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(rt.fromString(t))},e.fromName=function(t){return new e(rt.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&rt.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return rt.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new rt(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ry(e)?4:10:Ie()}function Jr(e,t){var n=us(e);if(n!==us(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return dc(e).isEqual(dc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=io(r.timestampValue),a=io(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return mu(r.bytesValue).isEqual(mu(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return Ut(r.geoPointValue.latitude)===Ut(o.geoPointValue.latitude)&&Ut(r.geoPointValue.longitude)===Ut(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ut(r.integerValue)===Ut(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=Ut(r.doubleValue),a=Ut(o.doubleValue);return s===a?Jf(s)===Jf(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return du(e.arrayValue.values||[],t.arrayValue.values||[],Jr);case 10:return function(r,o){var s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(gI(s)!==gI(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Jr(s[l],a[l])))return!1;return!0}(e,t);default:return Ie()}}function pc(e,t){return(e.values||[]).find(function(n){return Jr(n,t)})!==void 0}function vu(e,t){var n=us(e),r=us(t);if(n!==r)return Ke(n,r);switch(n){case 0:return 0;case 1:return Ke(e.booleanValue,t.booleanValue);case 2:return function(o,s){var a=Ut(o.integerValue||o.doubleValue),l=Ut(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return yI(e.timestampValue,t.timestampValue);case 4:return yI(dc(e),dc(t));case 5:return Ke(e.stringValue,t.stringValue);case 6:return function(o,s){var a=mu(o),l=mu(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var a=o.split("/"),l=s.split("/"),f=0;f<a.length&&f<l.length;f++){var d=Ke(a[f],l[f]);if(d!==0)return d}return Ke(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var a=Ke(Ut(o.latitude),Ut(s.latitude));return a!==0?a:Ke(Ut(o.longitude),Ut(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var a=o.values||[],l=s.values||[],f=0;f<a.length&&f<l.length;++f){var d=vu(a[f],l[f]);if(d)return d}return Ke(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var a=o.fields||{},l=Object.keys(a),f=s.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var v=0;v<l.length&&v<d.length;++v){var h=Ke(l[v],d[v]);if(h!==0)return h;var m=vu(a[l[v]],f[d[v]]);if(m!==0)return m}return Ke(l.length,d.length)}(e.mapValue,t.mapValue);default:throw Ie()}}function yI(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ke(e,t);var n=io(e),r=io(t),o=Ke(n.seconds,r.seconds);return o!==0?o:Ke(n.nanos,r.nanos)}function xy(e){return sg(e)}function sg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=io(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?mu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Se.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:o+=",",o+=sg(l[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var f=l[a];s?s=!1:o+=",",o+=f+":"+sg(r.fields[f])}return o+"}"}(e.mapValue):Ie();var t,n}function Zf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ug(e){return!!e&&"integerValue"in e}function Py(e){return!!e&&"arrayValue"in e}function _I(e){return!!e&&"nullValue"in e}function wI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Cf(e){return!!e&&"mapValue"in e}function Ha(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ms(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=Ha(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ha(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Cf(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ha(n)},e.prototype.setAll=function(t){var n=this,r=Pr.emptyPath(),o={},s=[];t.forEach(function(l,f){if(!r.isImmediateParentOf(f)){var d=n.getFieldsMap(r);n.applyChanges(d,o,s),o={},s=[],r=f.popLast()}l?o[f.lastSegment()]=Ha(l):s.push(f.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Jr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var o=n.mapValue.fields[t.get(r)];Cf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){ms(n,function(l,f){return t[l]=f});for(var o=0,s=r;o<s.length;o++){var a=s[o];delete t[a]}},e.prototype.clone=function(){return new e(Ha(this.value))},e}();function DA(e){var t=[];return ms(e.fields,function(n,r){var o=new Pr([n]);if(Cf(r)){var s=DA(r.mapValue).fields;if(s.length===0)t.push(o);else for(var a=0,l=s;a<l.length;a++){var f=l[a];t.push(o.child(f))}}else t.push(o)}),new pu(t)}var yn=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,qe.min(),Zn.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Zn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Zn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),pV=function(e,t,n,r,o,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(e,t,n,r,o,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),a===void 0&&(a=null),new pV(e,t,n,r,o,s,a)}function jc(e){var t=me(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+xy(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),vs(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=th(t.startAt)),t.endAt&&(n+="|ub:",n+=th(t.endAt)),t.h=n}return t.h}function zh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!EV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!Jr(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!II(e.startAt,t.startAt)&&II(e.endAt,t.endAt)}function eh(e){return Se.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var rr=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return Ce(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new mV(n,r,o):r==="array-contains"?new yV(n,o):r==="in"?new _V(n,o):r==="not-in"?new wV(n,o):r==="array-contains-any"?new bV(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new vV(n,o):new gV(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(vu(r,this.value)):r!==null&&us(this.value)===us(r)&&this.m(vu(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Ie()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),mV=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=Se.fromName(o.referenceValue),s}return Ce(t,e),t.prototype.matches=function(n){var r=Se.comparator(n.key,this.key);return this.m(r)},t}(rr),vV=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=LA("in",r),o}return Ce(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(rr),gV=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=LA("not-in",r),o}return Ce(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(rr);function LA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return Se.fromName(r.referenceValue)})}var yV=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return Ce(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return Py(r)&&pc(r.arrayValue,this.value)},t}(rr),_V=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return Ce(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&pc(this.value.arrayValue,r)},t}(rr),wV=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return Ce(t,e),t.prototype.matches=function(n){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!pc(this.value.arrayValue,r)},t}(rr),bV=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return Ce(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!Py(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return pc(r.value.arrayValue,s)})},t}(rr),mc=function(e,t){this.position=e,this.before=t};function th(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return xy(t)}).join(",")}var ou=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function EV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function EI(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],a=e.position[o];if(r=s.field.isKeyField()?Se.comparator(Se.fromName(a.referenceValue),n.key):vu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function II(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Jr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _i=function(e,t,n,r,o,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function MA(e,t,n,r,o,s,a,l){return new _i(e,t,n,r,o,s,a,l)}function Uc(e){return new _i(e)}function Of(e){return!vs(e.limit)&&e.limitType==="F"}function nh(e){return!vs(e.limit)&&e.limitType==="L"}function Dy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ly(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function My(e){return e.collectionGroup!==null}function gu(e){var t=me(e);if(t.p===null){t.p=[];var n=Ly(t),r=Dy(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new ou(n)),t.p.push(new ou(Pr.keyField(),"asc"));else{for(var o=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new ou(Pr.keyField(),f))}}}return t.p}function Zr(e){var t=me(e);if(!t.T)if(t.limitType==="F")t.T=bI(t.path,t.collectionGroup,gu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=gu(t);r<o.length;r++){var s=o[r],a=s.dir==="desc"?"asc":"desc";n.push(new ou(s.field,a))}var l=t.endAt?new mc(t.endAt.position,!t.endAt.before):null,f=t.startAt?new mc(t.startAt.position,!t.startAt.before):null;t.T=bI(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function FA(e,t,n){return new _i(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bc(e,t){return zh(Zr(e),Zr(t))&&e.limitType===t.limitType}function VA(e){return jc(Zr(e))+"|lt:"+e.limitType}function ag(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+xy(o.value);var o}).join(", ")+"]"),vs(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+th(t.startAt)),t.endAt&&(n+=", endAt: "+th(t.endAt)),"Target("+n+")"}(Zr(e))+"; limitType="+e.limitType+")"}function qc(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Se.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var a=s[o];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!EI(n.startAt,gu(n),r))&&(!n.endAt||!EI(n.endAt,gu(n),r))}(e,t)}function jA(e){return function(t,n){for(var r=!1,o=0,s=gu(e);o<s.length;o++){var a=s[o],l=IV(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function IV(e,t,n){var r=e.field.isKeyField()?Se.comparator(t.key,n.key):function(o,s,a){var l=s.data.field(o),f=a.data.field(o);return l!==null&&f!==null?vu(l,f):Ie()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jf(t)?"-0":t}}function BA(e){return{integerValue:""+e}}function qA(e,t){return PA(t)?BA(t):UA(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wh=function(){this._=void 0};function TV(e,t,n){return e instanceof yu?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof as?HA(e,t):e instanceof cs?KA(e,t):function(r,o){var s=$A(r,o),a=TI(s)+TI(r.A);return ug(s)&&ug(r.A)?BA(a):UA(r.R,a)}(e,t)}function SV(e,t,n){return e instanceof as?HA(e,t):e instanceof cs?KA(e,t):n}function $A(e,t){return e instanceof _u?ug(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var yu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t}(Wh),as=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Ce(t,e),t}(Wh);function HA(e,t){for(var n=GA(t),r=function(a){n.some(function(l){return Jr(l,a)})||n.push(a)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var cs=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Ce(t,e),t}(Wh);function KA(e,t){for(var n=GA(t),r=function(a){n=n.filter(function(l){return!Jr(l,a)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var _u=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return Ce(t,e),t}(Wh);function TI(e){return Ut(e.integerValue||e.doubleValue)}function GA(e){return Py(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $c=function(e,t){this.field=e,this.transform=t},AV=function(e,t){this.version=e,this.transformResults=t},vn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Nf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Xh=function(){};function kV(e,t,n){e instanceof Hc?function(r,o,s){var a=r.value.clone(),l=kI(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof lo?function(r,o,s){if(Nf(r.precondition,o)){var a=kI(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(zA(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function cg(e,t,n){e instanceof Hc?function(r,o,s){if(Nf(r.precondition,o)){var a=r.value.clone(),l=CI(r.fieldTransforms,s,o);a.setAll(l),o.convertToFoundDocument(AI(o),a).setHasLocalMutations()}}(e,t,n):e instanceof lo?function(r,o,s){if(Nf(r.precondition,o)){var a=CI(r.fieldTransforms,s,o),l=o.data;l.setAll(zA(r)),l.setAll(a),o.convertToFoundDocument(AI(o),l).setHasLocalMutations()}}(e,t,n):function(r,o){Nf(r.precondition,o)&&o.convertToNoDocument(qe.min())}(e,t)}function CV(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],a=t.data.field(s.field),l=$A(s.transform,a||null);l!=null&&(n==null&&(n=Zn.empty()),n.set(s.field,l))}return n||null}function SI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&du(n,r,function(o,s){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof as&&d instanceof as||f instanceof cs&&d instanceof cs?du(f.elements,d.elements,Jr):f instanceof _u&&d instanceof _u?Jr(f.A,d.A):f instanceof yu&&d instanceof yu}(a.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function AI(e){return e.isFoundDocument()?e.version:qe.min()}var Hc=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=o,a.fieldTransforms=s,a.type=0,a}return Ce(t,e),t}(Xh),lo=function(e){function t(n,r,o,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=o,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return Ce(t,e),t}(Xh);function zA(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function kI(e,t,n){var r=new Map;Pe(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],a=s.transform,l=t.data.field(s.field);r.set(s.field,SV(a,l,n[o]))}return r}function CI(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var a=s[o],l=a.transform,f=n.data.field(a.field);r.set(a.field,TV(l,f,t))}return r}var jt,ze,Kc=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return Ce(t,e),t}(Xh),Fy=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return Ce(t,e),t}(Xh),OV=function(e){this.count=e};function WA(e){switch(e){case q.OK:return Ie();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return Ie()}}function XA(e){if(e===void 0)return qt("GRPC error has no .code"),q.UNKNOWN;switch(e){case jt.OK:return q.OK;case jt.CANCELLED:return q.CANCELLED;case jt.UNKNOWN:return q.UNKNOWN;case jt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case jt.INTERNAL:return q.INTERNAL;case jt.UNAVAILABLE:return q.UNAVAILABLE;case jt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case jt.NOT_FOUND:return q.NOT_FOUND;case jt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case jt.ABORTED:return q.ABORTED;case jt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case jt.DATA_LOSS:return q.DATA_LOSS;default:return Ie()}}(ze=jt||(jt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n=function(){function e(t,n){this.comparator=t,this.root=n||$i.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$i.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$i.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new ff(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new ff(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new ff(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new ff(this.root,t,this.comparator,!0)},e}(),ff=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),$i=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t??this.key,n??this.value,r??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();var t=this.left.check();if(t!==this.right.check())throw Ie();return t+(this.isRed()?0:1)},e}();$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1,$i.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Ie()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Ie()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Ie()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Ie()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Ie()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new $i(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt=function(){function e(t){this.comparator=t,this.data=new _n(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new OI(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new OI(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),OI=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),NV=new _n(Se.comparator);function Or(){return NV}var RV=new _n(Se.comparator);function lg(){return RV}var xV=new _n(Se.comparator);function PV(){return xV}var DV=new Qt(Se.comparator);function mt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=DV,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var LV=new Qt(Ke);function Qh(){return LV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vy=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,jy.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(qe.min(),r,Qh(),Or(),mt())},e}(),jy=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(qn.EMPTY_BYTE_STRING,n,mt(),mt(),mt())},e}(),Rf=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},QA=function(e,t){this.targetId=e,this.V=t},YA=function(e,t,n,r){n===void 0&&(n=qn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},NI=function(){function e(){this.S=0,this.D=xI(),this.C=qn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=mt(),n=mt(),r=mt();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ie()}}),new jy(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=xI()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),MV=function(){function e(t){this.W=t,this.G=new Map,this.H=Or(),this.J=RI(),this.Y=new Qt(Ke)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)o=a[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.O(t.resumeToken));break;default:Ie()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if(eh(s))if(r===0){var a=new Se(s.path);this.tt(n,a,yn.newNoDocument(a,qe.min()))}else Pe(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&eh(f.target)){var d=new Se(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,yn.newNoDocument(d,t))}a.$&&(r.set(l,a.M()),a.L())}});var o=mt();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var v=n.ot(d);return!v||v.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var s=new Vy(t,r,this.Y,this.H,o);return this.H=Or(),this.J=RI(),this.Y=new Qt(Ke),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new NI,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Qt(Ke),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new NI),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function RI(){return new _n(Se.comparator)}function xI(){return new _n(Se.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FV={asc:"ASCENDING",desc:"DESCENDING"},VV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jV=function(e,t){this.databaseId=e,this.I=t};function vc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function JA(e,t){return e.I?t.toBase64():t.toUint8Array()}function UV(e,t){return vc(e,t.toTimestamp())}function Nn(e){return Pe(!!e),qe.fromTimestamp(function(t){var n=io(t);return new Un(n.seconds,n.nanos)}(e))}function Uy(e,t){return function(n){return new rt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function ZA(e){var t=rt.fromString(e);return Pe(sk(t)),t}function gc(e,t){return Uy(e.databaseId,t.path)}function fi(e,t){var n=ZA(t);if(n.get(1)!==e.databaseId.projectId)throw new ie(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ie(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Se(tk(n))}function fg(e,t){return Uy(e.databaseId,t)}function ek(e){var t=ZA(e);return t.length===4?rt.emptyPath():tk(t)}function yc(e){return new rt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function tk(e){return Pe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function PI(e,t,n){return{name:gc(e,t),fields:n.value.mapValue.fields}}function BV(e,t,n){var r=fi(e,t.name),o=Nn(t.updateTime),s=new Zn({mapValue:{fields:t.fields}}),a=yn.newFoundDocument(r,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function rh(e,t){var n;if(t instanceof Hc)n={update:PI(e,t.key,t.value)};else if(t instanceof Kc)n={delete:gc(e,t.key)};else if(t instanceof lo)n={update:PI(e,t.key,t.data),updateMask:GV(t.fieldMask)};else{if(!(t instanceof Fy))return Ie();n={verify:gc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var a=s.transform;if(a instanceof yu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof as)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _u)return{fieldPath:s.field.canonicalString(),increment:a.A};throw Ie()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:UV(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ie()}(e,t.precondition)),n}function DI(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?vn.updateTime(Nn(d.updateTime)):d.exists!==void 0?vn.exists(d.exists):vn.none()}(t.currentDocument):vn.none(),r=t.updateTransforms?t.updateTransforms.map(function(d){return function(v,h){var m=null;if("setToServerValue"in h)Pe(h.setToServerValue==="REQUEST_TIME"),m=new yu;else if("appendMissingElements"in h){var y=h.appendMissingElements.values||[];m=new as(y)}else if("removeAllFromArray"in h){var _=h.removeAllFromArray.values||[];m=new cs(_)}else"increment"in h?m=new _u(v,h.increment):Ie();var b=Pr.fromServerFormat(h.fieldPath);return new $c(b,m)}(e,d)}):[];if(t.update){t.update.name;var o=fi(e,t.update.name),s=new Zn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(d){var v=d.fieldPaths||[];return new pu(v.map(function(h){return Pr.fromServerFormat(h)}))}(t.updateMask);return new lo(o,s,a,n,r)}return new Hc(o,s,n,r)}if(t.delete){var l=fi(e,t.delete);return new Kc(l,n)}if(t.verify){var f=fi(e,t.verify);return new Fy(f,n)}return Ie()}function nk(e,t){return{documents:[fg(e,t.path)]}}function rk(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=fg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=fg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(v){if(v.op==="=="){if(wI(v.value))return{unaryFilter:{field:Gs(v.field),op:"IS_NAN"}};if(_I(v.value))return{unaryFilter:{field:Gs(v.field),op:"IS_NULL"}}}else if(v.op==="!="){if(wI(v.value))return{unaryFilter:{field:Gs(v.field),op:"IS_NOT_NAN"}};if(_I(v.value))return{unaryFilter:{field:Gs(v.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(v.field),op:$V(v.op),value:v.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:Gs(d.field),direction:qV(d.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,f){return l.I||vs(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=LI(t.startAt)),t.endAt&&(n.structuredQuery.endAt=LI(t.endAt)),n}function ik(e){var t=ek(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){Pe(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=ok(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(h){return function(m){return new ou(tu(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h)}));var f=null;n.limit&&(f=function(h){var m;return vs(m=typeof h=="object"?h.value:h)?null:m}(n.limit));var d=null;n.startAt&&(d=MI(n.startAt));var v=null;return n.endAt&&(v=MI(n.endAt)),MA(t,o,l,a,f,"F",d,v)}function ok(e){return e?e.unaryFilter!==void 0?[KV(e)]:e.fieldFilter!==void 0?[HV(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return ok(t)}).reduce(function(t,n){return t.concat(n)}):Ie():[]}function LI(e){return{before:e.before,values:e.position}}function MI(e){var t=!!e.before,n=e.values||[];return new mc(n,t)}function qV(e){return FV[e]}function $V(e){return VV[e]}function Gs(e){return{fieldPath:e.canonicalString()}}function tu(e){return Pr.fromServerFormat(e.fieldPath)}function HV(e){return rr.create(tu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ie()}}(e.fieldFilter.op),e.fieldFilter.value)}function KV(e){switch(e.unaryFilter.op){case"IS_NAN":var t=tu(e.unaryFilter.field);return rr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=tu(e.unaryFilter.field);return rr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=tu(e.unaryFilter.field);return rr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=tu(e.unaryFilter.field);return rr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ie()}}function GV(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function sk(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=FI(t)),t=zV(e.get(n),t);return FI(t)}function zV(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function FI(e){return e+""}function ci(e){var t=e.length;if(Pe(t>=2),t===2)return Pe(e.charAt(0)===""&&e.charAt(1)===""),rt.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&Ie(),e.charAt(a+1)){case"":var l=e.substring(s,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),r.push(f);break;case"":o+=e.substring(s,a),o+="\0";break;case"":o+=e.substring(s,a+1);break;default:Ie()}s=a+2}return new rt(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WV=function(e,t){this.seconds=e,this.nanoseconds=t},Yn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Yn.store="owner",Yn.key="owner";var Yi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Yi.store="mutationQueues",Yi.keyPath="userId";var gt=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};gt.store="mutations",gt.keyPath="batchId",gt.userMutationsIndex="userMutationsIndex",gt.userMutationsKeyPath=["userId","batchId"];var dn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Nr(n)]},e.key=function(t,n,r){return[t,Nr(n),r]},e}();dn.store="documentMutations",dn.PLACEHOLDER=new dn;var XV=function(e,t){this.path=e,this.readTime=t},QV=function(e,t){this.path=e,this.version=t},Ot=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};Ot.store="remoteDocuments",Ot.readTimeIndex="readTimeIndex",Ot.readTimeIndexPath="readTime",Ot.collectionReadTimeIndex="collectionReadTimeIndex",Ot.collectionReadTimeIndexPath=["parentPath","readTime"];var Wr=function(e){this.byteSize=e};Wr.store="remoteDocumentGlobal",Wr.key="remoteDocumentGlobalKey";var Fn=function(e,t,n,r,o,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=a};Fn.store="targets",Fn.keyPath="targetId",Fn.queryTargetsIndexName="queryTargetsIndex",Fn.queryTargetsKeyPath=["canonicalId","targetId"];var sn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};sn.store="targetDocuments",sn.keyPath=["targetId","path"],sn.documentTargetsIndex="documentTargetsIndex",sn.documentTargetsKeyPath=["path","targetId"];var Jn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Jn.key="targetGlobalKey",Jn.store="targetGlobal";var Zo=function(e,t){this.collectionId=e,this.parent=t};Zo.store="collectionParents",Zo.keyPath=["collectionId","parent"];var hi=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};hi.store="clientMetadata",hi.keyPath="clientId";var wu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};wu.store="bundles",wu.keyPath="bundleId";var bu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};bu.store="namedQueries",bu.keyPath="name";var YV=Et(Et([],Et(Et([],Et(Et([],Et(Et([],[Yi.store,gt.store,dn.store,Ot.store,Fn.store,Yn.store,Jn.store,sn.store]),[hi.store])),[Wr.store])),[Zo.store])),[wu.store,bu.store]),uk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ak=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),$n=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},ue=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(o,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,a=!1;t.forEach(function(l){++o,l.next(function(){++s,a&&s===o&&n()},function(f){return r(f)})}),a=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,a){o.push(n.call(r,s,a))}),this.waitFor(o)},e}(),ck=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new $n,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Ka(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=By(o.target.error);r.ft.reject(new Ka(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new Ka(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ce("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new ZV(n)},e}(),Eu=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(is())===12.2&&qt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return ce("SimpleDb","Removing database:",t),Ko(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=is(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return Z(this,void 0,void 0,function(){var n,r=this;return Y(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ce("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(f){var d=f.target.result;s(d)},l.onblocked=function(){a(new Ka(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new ie(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Ka(t,d))},l.onupgradeneeded=function(f){ce("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;r.wt.Rt(d,l.transaction,f.oldVersion,r.version).next(function(){ce("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return Z(this,void 0,void 0,function(){var s,a,l,f,d;return Y(this,function(v){switch(v.label){case 0:s=n==="readonly",a=0,l=function(){var h,m,y,_,b;return Y(this,function(S){switch(S.label){case 0:++a,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=S.sent(),h=ck.open(f.db,t,s?"readonly":"readwrite",r),m=o(h).catch(function(I){return h.abort(I),ue.reject(I)}).toPromise(),y={},m.catch(function(){}),[4,h.dt];case 3:return[2,(y.value=(S.sent(),m),y)];case 4:return _=S.sent(),b=_.name!=="FirebaseError"&&a<3,ce("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),f.close(),b?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,v.label=1;case 1:return[5,l()];case 2:if(typeof(d=v.sent())=="object")return[2,d.value];v.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),JV=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Ko(this.Pt.delete())},e}(),Ka=function(e){function t(n,r){var o=this;return(o=e.call(this,q.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return Ce(t,e),t}(ie);function gs(e){return e.name==="IndexedDbTransactionError"}var ZV=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(ce("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(ce("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Ko(r)},e.prototype.add=function(t){return ce("SimpleDb","ADD",this.store.name,t,t),Ko(this.store.add(t))},e.prototype.get=function(t){var n=this;return Ko(this.store.get(t)).next(function(r){return r===void 0&&(r=null),ce("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return ce("SimpleDb","DELETE",this.store.name,t),Ko(this.store.delete(t))},e.prototype.count=function(){return ce("SimpleDb","COUNT",this.store.name),Ko(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,a){o.push(a)}).next(function(){return o})},e.prototype.kt=function(t,n){ce("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var o=this.cursor(r);return this.xt(o,function(s,a,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new ue(function(r,o){n.onerror=function(s){var a=By(s.target.error);o(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new ue(function(o,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var f=new JV(l),d=n(l.primaryKey,l.value,f);if(d instanceof ue){var v=d.catch(function(h){return f.done(),ue.reject(h)});r.push(v)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return ue.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Ko(e){return new ue(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=By(r.target.error);n(o)}})}var VI=!1;function By(e){var t=Eu._t(is());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ie("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return VI||(VI=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jI=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return Ce(t,e),t}(ak);function Hn(e,t){var n=me(e);return Eu.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qy=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&kV(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&cg(a,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t.key)&&cg(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(qe.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},mt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&du(this.mutations,t.mutations,function(n,r){return SI(n,r)})&&du(this.baseMutations,t.baseMutations,function(n,r){return SI(n,r)})},e}(),ej=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){Pe(t.mutations.length===r.length);for(var o=PV(),s=t.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,r[a].version);return new e(t,n,r,o)},e}(),Yh=function(){function e(t,n,r,o,s,a,l){s===void 0&&(s=qe.min()),a===void 0&&(a=qe.min()),l===void 0&&(l=qn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),lk=function(e){this.Lt=e};function hg(e,t){if(t.document)return BV(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Se.fromSegments(t.noDocument.path),r=Tu(t.noDocument.readTime),o=yn.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=Se.fromSegments(t.unknownDocument.path);return r=Tu(t.unknownDocument.version),yn.newUnknownDocument(s,r)}return Ie()}function UI(e,t,n){var r=$y(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(h,m){return{name:gc(h,m.key),fields:m.data.value.mapValue.fields,updateTime:vc(h,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Ot(null,null,s,a,r,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=Iu(t.version);return a=t.hasCommittedMutations,new Ot(null,new XV(l,f),null,a,r,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),v=Iu(t.version);return new Ot(new QV(d,v),null,null,!0,r,o)}return Ie()}function $y(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function fk(e){var t=new Un(e[0],e[1]);return qe.fromTimestamp(t)}function Iu(e){var t=e.toTimestamp();return new WV(t.seconds,t.nanoseconds)}function Tu(e){var t=new Un(e.seconds,e.nanoseconds);return qe.fromTimestamp(t)}function Ys(e,t){for(var n=(t.baseMutations||[]).map(function(f){return DI(e.Lt,f)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(f){return DI(e.Lt,f)}),l=Un.fromMillis(t.localWriteTimeMs);return new qy(t.batchId,l,n,a)}function Va(e){var t,n,r=Tu(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?Tu(e.lastLimboFreeSnapshotVersion):qe.min();return e.query.documents!==void 0?(Pe((n=e.query).documents.length===1),t=Zr(Uc(ek(n.documents[0])))):t=function(s){return Zr(ik(s))}(e.query),new Yh(t,e.targetId,0,e.lastListenSequenceNumber,r,o,qn.fromBase64String(e.resumeToken))}function hk(e,t){var n,r=Iu(t.snapshotVersion),o=Iu(t.lastLimboFreeSnapshotVersion);n=eh(t.target)?nk(e.Lt,t.target):rk(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Fn(t.targetId,jc(t.target),r,s,t.sequenceNumber,o,n)}function dk(e){var t=ik({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?FA(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tj=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return BI(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:Tu(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return BI(t).put({bundleId:(r=n).id,createTime:Iu(Nn(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return qI(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:dk(o.bundledQuery),readTime:Tu(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return qI(t).put(function(r){return{name:r.name,readTime:Iu(Nn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function BI(e){return Hn(e,wu.store)}function qI(e){return Hn(e,bu.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nj=function(){function e(){this.Bt=new Hy}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),ue.resolve()},e.prototype.getCollectionParents=function(t,n){return ue.resolve(this.Bt.getEntries(n))},e}(),Hy=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Qt(rt.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Qt(rt.comparator)).toArray()},e}(),rj=function(){function e(){this.qt=new Hy}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:o,parent:Nr(s)};return $I(t).put(a)}return ue.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[OA(n),""],!1,!0);return $I(t).Nt(o).next(function(s){for(var a=0,l=s;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;r.push(ci(f.parent))}return r})},e}();function $I(e){return Hn(e,Zo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kr=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(e,t,n){var r=e.store(gt.store),o=e.store(dn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,f=r.$t({range:a},function(_,b,S){return l++,S.delete()});s.push(f.next(function(){Pe(l===1)}));for(var d=[],v=0,h=n.mutations;v<h.length;v++){var m=h[v],y=dn.key(t,m.key.path,n.batchId);s.push(o.delete(y)),d.push(m.key)}return ue.waitFor(s).next(function(){return d})}function ih(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ie();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr.DEFAULT_COLLECTION_PERCENTILE=10,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kr.DEFAULT=new Kr(41943040,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kr.DISABLED=new Kr(-1,0,0);var ij=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,r,o){return Pe(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Di(t).$t({index:gt.userMutationsIndex,range:r},function(o,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,a=Js(t),l=Di(t);return l.add({}).next(function(f){Pe(typeof f=="number");for(var d=new qy(f,n,r,o),v=function(I,R,M){var U=M.baseMutations.map(function(O){return rh(I.Lt,O)}),P=M.mutations.map(function(O){return rh(I.Lt,O)});return new gt(R,M.batchId,M.localWriteTime.toMillis(),U,P)}(s.R,s.userId,d),h=[],m=new Qt(function(I,R){return Ke(I.canonicalString(),R.canonicalString())}),y=0,_=o;y<_.length;y++){var b=_[y],S=dn.key(s.userId,b.key.path,f);m=m.add(b.key.path.popLast()),h.push(l.put(v)),h.push(a.put(S,dn.PLACEHOLDER))}return m.forEach(function(I){h.push(s.Ut.addToCollectionParentIndex(t,I))}),t.addOnCommittedListener(function(){s.Kt[f]=d.keys()}),ue.waitFor(h).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Di(t).get(n).next(function(o){return o?(Pe(o.userId===r.userId),Ys(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?ue.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),a=null;return Di(t).$t({index:gt.userMutationsIndex,range:s},function(l,f,d){f.userId===r.userId&&(Pe(f.batchId>=o),a=Ys(r.R,f)),d.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Di(t).$t({index:gt.userMutationsIndex,range:n,reverse:!0},function(o,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Di(t).Nt(gt.userMutationsIndex,r).next(function(o){return o.map(function(s){return Ys(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=dn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),a=[];return Js(t).$t({range:s},function(l,f,d){var v=l[0],h=l[1],m=l[2],y=ci(h);if(v===r.userId&&n.path.isEqual(y))return Di(t).get(m).next(function(_){if(!_)throw Ie();Pe(_.userId===r.userId),a.push(Ys(r.R,_))});d.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new Qt(Ke),s=[];return n.forEach(function(a){var l=dn.prefixForPath(r.userId,a.path),f=IDBKeyRange.lowerBound(l),d=Js(t).$t({range:f},function(v,h,m){var y=v[0],_=v[1],b=v[2],S=ci(_);y===r.userId&&a.path.isEqual(S)?o=o.add(b):m.done()});s.push(d)}),ue.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,a=dn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new Qt(Ke);return Js(t).$t({range:l},function(d,v,h){var m=d[0],y=d[1],_=d[2],b=ci(y);m===r.userId&&o.isPrefixOf(b)?b.length===s&&(f=f.add(_)):h.done()}).next(function(){return r.Wt(t,f)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(a){s.push(Di(t).get(a).next(function(l){if(l===null)throw Ie();Pe(l.userId===r.userId),o.push(Ys(r.R,l))}))}),ue.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return pk(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),ue.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return ue.resolve();var o=IDBKeyRange.lowerBound(dn.prefixForUser(n.userId)),s=[];return Js(t).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=ci(a[1]);s.push(d)}else f.done()}).next(function(){Pe(s.length===0)})})},e.prototype.containsKey=function(t,n){return mk(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return vk(t).get(this.userId).next(function(r){return r||new Yi(n.userId,-1,"")})},e}();function mk(e,t,n){var r=dn.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Js(e).$t({range:s,Ft:!0},function(l,f,d){var v=l[0],h=l[1];l[2],v===t&&h===o&&(a=!0),d.done()}).next(function(){return a})}function Di(e){return Hn(e,gt.store)}function Js(e){return Hn(e,dn.store)}function vk(e){return Hn(e,Yi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oh=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),oj=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new oh(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return qe.fromTimestamp(new Un(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return zs(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return Pe(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,a=[];return zs(t).$t(function(l,f){var d=Va(f);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(s++,a.push(o.removeTargetData(t,d)))}).next(function(){return ue.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return zs(t).$t(function(r,o){var s=Va(o);n(s)})},e.prototype.Xt=function(t){return KI(t).get(Jn.key).next(function(n){return Pe(n!==null),n})},e.prototype.Zt=function(t,n){return KI(t).put(Jn.key,n)},e.prototype.te=function(t,n){return zs(t).put(hk(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=jc(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return zs(t).$t({range:o,index:Fn.queryTargetsIndexName},function(a,l,f){var d=Va(l);zh(n,d.target)&&(s=d,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],a=Hi(t);return n.forEach(function(l){var f=Nr(l.path);s.push(a.put(new sn(r,f))),s.push(o.referenceDelegate.addReference(t,r,l))}),ue.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=Hi(t);return ue.forEach(n,function(a){var l=Nr(a.path);return ue.waitFor([s.delete([r,l]),o.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Hi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=Hi(t),s=mt();return o.$t({range:r,Ft:!0},function(a,l,f){var d=ci(a[1]),v=new Se(d);s=s.add(v)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Nr(n.path),o=IDBKeyRange.bound([r],[OA(r)],!1,!0),s=0;return Hi(t).$t({index:sn.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return zs(t).get(n).next(function(r){return r?Va(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(e){return Hn(e,Fn.store)}function KI(e){return Hn(e,Jn.store)}function Hi(e){return Hn(e,sn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(e){return Z(this,void 0,void 0,function(){return Y(this,function(t){if(e.code!==q.FAILED_PRECONDITION||e.message!==uk)throw e;return ce("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],a=Ke(n,o);return a===0?Ke(r,s):a}var sj=function(){function e(t){this.ne=t,this.buffer=new Qt(GI),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();GI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),uj=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;ce("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return Z(n,void 0,void 0,function(){var o;return Y(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return gs(o=s.sent())?(ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,ys(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),aj=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return ue.resolve(nr.o);var o=new sj(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(HI)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),HI):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,a,l,f,d,v=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>v.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+v.params.maximumSequenceNumbersToCollect+" from "+m),o=v.params.maximumSequenceNumbersToCollect):o=m,a=Date.now(),v.nthSequenceNumber(t,o)}).next(function(m){return r=m,l=Date.now(),v.removeTargets(t,r,n)}).next(function(m){return s=m,f=Date.now(),v.removeOrphanedDocuments(t,r)}).next(function(m){return d=Date.now(),og()<=Ze.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-h)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+m+" documents in "+(d-f)+`ms
Total Duration: `+(d-h)+"ms"),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:m})})},e}(),cj=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new aj(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return hf(t,r)},e.prototype.removeReference=function(t,n,r){return hf(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return hf(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return vk(r).Ot(function(a){return mk(r,a,o).next(function(l){return l&&(s=!0),ue.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,f){if(f<=n){var d=r._e(t,l).next(function(v){if(!v)return a++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Hi(t).delete([0,Nr(l.path)])})});s.push(d)}}).next(function(){return ue.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return hf(t,n)},e.prototype.we=function(t,n){var r,o=Hi(t),s=nr.o;return o.$t({index:sn.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,v=l.sequenceNumber;f===0?(s!==nr.o&&n(new Se(ci(r)),s),s=v,r=d):s=nr.o}).next(function(){s!==nr.o&&n(new Se(ci(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function hf(e,t){return Hi(e).put(function(n,r){return new sn(0,Nr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bu=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var a=s[o],l=a[0],f=a[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){ms(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var a=s[o],l=a[0],f=a[1];t(l,f)}})},e.prototype.isEmpty=function(){return NA(this.inner)},e}(),gk=function(){function e(){this.changes=new Bu(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:qe.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:yn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?ue.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),lj=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Bi(t).put(df(n),r)},e.prototype.removeEntry=function(t,n){var r=Bi(t),o=df(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return Bi(t).get(df(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return Bi(t).get(df(n)).next(function(o){return{document:r.ye(n,o),size:ih(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=Or();return this.pe(t,n,function(s,a){var l=r.ye(s,a);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=Or(),s=new _n(Se.comparator);return this.pe(t,n,function(a,l){var f=r.ye(a,l);o=o.insert(a,f),s=s.insert(a,ih(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return ue.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Bi(t).$t({range:o},function(l,f,d){for(var v=Se.fromSegments(l);a&&Se.comparator(a,v)<0;)r(a,null),a=s.getNext();a&&a.isEqual(v)&&(r(a,f),a=s.hasNext()?s.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=Or(),a=n.path.length+1,l={};if(r.isEqual(qe.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),v=$y(r);l.range=IDBKeyRange.lowerBound([d,v],!0),l.index=Ot.collectionReadTimeIndex}return Bi(t).$t(l,function(h,m,y){if(h.length===a){var _=hg(o.R,m);n.path.isPrefixOf(_.key.path)?qc(n,_)&&(s=s.insert(_.key,_)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new fj(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return zI(t).get(Wr.key).next(function(n){return Pe(!!n),n})},e.prototype.me=function(t,n){return zI(t).put(Wr.key,n)},e.prototype.ye=function(t,n){if(n){var r=hg(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(qe.min()))return r}return yn.newInvalidDocument(t)},e}(),fj=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new Bu(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),o}return Ce(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,a=new Qt(function(l,f){return Ke(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=r.Ae.get(l);if(f.document.isValidDocument()){var v=UI(r.Ie.R,f.document,r.getReadTime(l));a=a.add(l.path.popLast());var h=ih(v);s+=h-d,o.push(r.Ie.addEntry(n,l,v))}else if(s-=d,r.trackRemovals){var m=UI(r.Ie.R,yn.newNoDocument(l,qe.min()),r.getReadTime(l));o.push(r.Ie.addEntry(n,l,m))}else o.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),ue.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},t}(gk);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(e){return Hn(e,Wr.store)}function Bi(e){return Hn(e,Ot.store)}function df(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hj=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;Pe(r<o&&r>=0&&o<=11);var a=new ck("createOrUpgrade",n);r<1&&o>=1&&(function(f){f.createObjectStore(Yn.store)}(t),function(f){f.createObjectStore(Yi.store,{keyPath:Yi.keyPath}),f.createObjectStore(gt.store,{keyPath:gt.keyPath,autoIncrement:!0}).createIndex(gt.userMutationsIndex,gt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(dn.store)}(t),WI(t),function(f){f.createObjectStore(Ot.store)}(t));var l=ue.resolve();return r<3&&o>=3&&(r!==0&&(function(f){f.deleteObjectStore(sn.store),f.deleteObjectStore(Fn.store),f.deleteObjectStore(Jn.store)}(t),WI(t)),l=l.next(function(){return function(f){var d=f.store(Jn.store),v=new Jn(0,0,qe.min().toTimestamp(),0);return d.put(Jn.key,v)}(a)})),r<4&&o>=4&&(r!==0&&(l=l.next(function(){return function(f,d){return d.store(gt.store).Nt().next(function(v){f.deleteObjectStore(gt.store),f.createObjectStore(gt.store,{keyPath:gt.keyPath,autoIncrement:!0}).createIndex(gt.userMutationsIndex,gt.userMutationsKeyPath,{unique:!0});var h=d.store(gt.store),m=v.map(function(y){return h.put(y)});return ue.waitFor(m)})}(t,a)})),l=l.next(function(){(function(f){f.createObjectStore(hi.store,{keyPath:hi.keyPath})})(t)})),r<5&&o>=5&&(l=l.next(function(){return s.Re(a)})),r<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Wr.store)}(t),s.be(a)})),r<7&&o>=7&&(l=l.next(function(){return s.ve(a)})),r<8&&o>=8&&(l=l.next(function(){return s.Pe(t,a)})),r<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(Ot.store);d.createIndex(Ot.readTimeIndex,Ot.readTimeIndexPath,{unique:!1}),d.createIndex(Ot.collectionReadTimeIndex,Ot.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(l=l.next(function(){return s.Ve(a)})),r<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(wu.store,{keyPath:wu.keyPath})})(t),function(f){f.createObjectStore(bu.store,{keyPath:bu.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Ot.store).$t(function(r,o){n+=ih(o)}).next(function(){var r=new Wr(n);return t.store(Wr.store).put(Wr.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Yi.store),o=t.store(gt.store);return r.Nt().next(function(s){return ue.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(gt.userMutationsIndex,l).next(function(f){return ue.forEach(f,function(d){Pe(d.userId===a.userId);var v=Ys(n.R,d);return pk(t,a.userId,v).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(sn.store),r=t.store(Ot.store);return t.store(Jn.store).get(Jn.key).next(function(o){var s=[];return r.$t(function(a,l){var f=new rt(a),d=function(v){return[0,Nr(v)]}(f);s.push(n.get(d).next(function(v){return v?ue.resolve():function(h){return n.put(new sn(0,Nr(h),o.highestListenSequenceNumber))}(f)}))}).next(function(){return ue.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Zo.store,{keyPath:Zo.keyPath});var r=n.store(Zo.store),o=new Hy,s=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return r.put({collectionId:l,parent:Nr(f)})}};return n.store(Ot.store).$t({Ft:!0},function(a,l){var f=new rt(a);return s(f.popLast())}).next(function(){return n.store(dn.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=ci(f);return s(d.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Fn.store);return r.$t(function(o,s){var a=Va(s),l=hk(n.R,a);return r.put(l)})},e}();function WI(e){e.createObjectStore(sn.store,{keyPath:sn.keyPath}).createIndex(sn.documentTargetsIndex,sn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Fn.store,{keyPath:Fn.keyPath}).createIndex(Fn.queryTargetsIndexName,Fn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Jn.store)}var pv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",dj=function(){function e(t,n,r,o,s,a,l,f,d,v){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=l,this.De=d,this.Ce=v,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!e.yt())throw new ie(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cj(this,o),this.Le=n+"main",this.R=new lk(f),this.Be=new Eu(this.Le,11,new hj(this.R)),this.qe=new oj(this.referenceDelegate,this.R),this.Ut=new rj,this.Ue=function(h,m){return new lj(h,m)}(this.R,this.Ut),this.Ke=new tj,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,v===!1&&qt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ie(q.FAILED_PRECONDITION,pv);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new nr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return Z(n,void 0,void 0,function(){return Y(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return Z(n,void 0,void 0,function(){return Y(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Z(n,void 0,void 0,function(){return Y(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return pf(n).put(new hi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(gs(n))return ce("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Pa(t).get(Yn.key).next(function(r){return ue.resolve(n.tn(r))})},e.prototype.en=function(t){return pf(t).delete(this.clientId)},e.prototype.nn=function(){return Z(this,void 0,void 0,function(){var t,n,r,o,s=this;return Y(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Hn(l,hi.store);return f.Nt().next(function(d){var v=s.rn(d,18e5),h=d.filter(function(m){return v.indexOf(m)===-1});return ue.forEach(h,function(m){return f.delete(m.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)o=r[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?ue.resolve(!0):Pa(t).get(Yn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new ie(q.FAILED_PRECONDITION,pv);return!1}}return!(!n.networkEnabled||!n.inForeground)||pf(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&ce("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return Z(this,void 0,void 0,function(){var t=this;return Y(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Yn.store,hi.store],function(r){var o=new jI(r,nr.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return pf(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return ij.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;ce("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,YV,function(l){return s=new jI(l,o.Ne?o.Ne.next():nr.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw qt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new ie(q.FAILED_PRECONDITION,uk);return r(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Pa(t).get(Yn.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new ie(q.FAILED_PRECONDITION,pv)})},e.prototype.Ze=function(t){var n=new Yn(this.clientId,this.allowTabSynchronization,Date.now());return Pa(t).put(Yn.key,n)},e.yt=function(){return Eu.yt()},e.prototype.Xe=function(t){var n=this,r=Pa(t);return r.get(Yn.key).next(function(o){return n.tn(o)?(ce("IndexedDbPersistence","Releasing primary lease."),r.delete(Yn.key)):ue.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(qt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),wM()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return ce("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return qt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){qt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Pa(e){return Hn(e,Yn.store)}function pf(e){return Hn(e,hi.store)}function Ky(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var yk=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return Se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):My(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new Se(n)).next(function(r){var o=lg();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,a=lg();return this.Ut.getCollectionParents(t,s).next(function(l){return ue.forEach(l,function(f){var d=function(v,h){return new _i(h,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(s));return o.An(t,d,r).next(function(v){v.forEach(function(h,m){a=a.insert(h,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var o,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,o).next(function(f){o=f;for(var d=0,v=s;d<v.length;d++)for(var h=v[d],m=0,y=h.mutations;m<y.length;m++){var _=y[m],b=_.key,S=o.get(b);S==null&&(S=yn.newInvalidDocument(b),o=o.insert(b,S)),cg(_,S,h.localWriteTime),S.isFoundDocument()||(o=o.remove(b))}})}).next(function(){return o.forEach(function(l,f){qc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,r){for(var o=mt(),s=0,a=n;s<a.length;s++)for(var l=0,f=a[s].mutations;l<f.length;l++){var d=f[l];d instanceof lo&&r.get(d.key)===null&&(o=o.add(d.key))}var v=r;return this.Ue.getEntries(t,o).next(function(h){return h.forEach(function(m,y){y.isFoundDocument()&&(v=v.insert(m,y))}),v})},e}(),pj=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=mt(),o=mt(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),_k=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(qe.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var l=s.Cn(n,a);return(Of(n)||nh(n))&&s.Nn(n.limitType,l,o,r)?s.Dn(t,n):(og()<=Ze.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ag(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var r=new Qt(jA(t));return n.forEach(function(o,s){qc(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return og()<=Ze.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ag(n)),this.Sn.getDocumentsMatchingQuery(t,n,qe.min())},e}(),mj=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new _n(Ke),this.Fn=new Bu(function(s){return jc(s)},zh),this.$n=qe.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new yk(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(e,t,n,r){return new mj(e,t,n,r)}function bk(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s;return Y(this,function(a){switch(a.label){case 0:return n=me(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,r=n.persistence.getMutationQueue(t),o=new yk(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(d){for(var v=[],h=[],m=mt(),y=0,_=f;y<_.length;y++){var b=_[y];v.push(b.batchId);for(var S=0,I=b.mutations;S<I.length;S++){var R=I[S];m=m.add(R.key)}}for(var M=0,U=d;M<U.length;M++){var P=U[M];h.push(P.batchId);for(var O=0,j=P.mutations;O<j.length;O++){var x=j[O];m=m.add(x.key)}}return o.pn(l,m).next(function(F){return{Ln:F,removedBatchIds:v,addedBatchIds:h}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function vj(e,t){var n=me(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var v=f.batch,h=v.keys(),m=ue.resolve();return h.forEach(function(y){m=m.next(function(){return d.getEntry(l,y)}).next(function(_){var b=f.docVersions.get(y);Pe(b!==null),_.version.compareTo(b)<0&&(v.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,v)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function Ek(e){var t=me(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function gj(e,t){var n=me(e),r=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(v,h){var m=o.get(h);if(m){l.push(n.qe.removeMatchingKeys(s,v.removedDocuments,h).next(function(){return n.qe.addMatchingKeys(s,v.addedDocuments,h)}));var y=v.resumeToken;if(y.approximateByteSize()>0){var _=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(h,_),function(b,S,I){return Pe(S.resumeToken.approximateByteSize()>0),b.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(m,_,v)&&l.push(n.qe.updateTargetData(s,_))}}});var f=Or();if(t.documentUpdates.forEach(function(v,h){t.resolvedLimboDocuments.has(v)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,v))}),l.push(yj(s,a,t.documentUpdates,r,void 0).next(function(v){f=v})),!r.isEqual(qe.min())){var d=n.qe.getLastRemoteSnapshotVersion(s).next(function(v){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(d)}return ue.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function yj(e,t,n,r,o){var s=mt();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=Or();return n.forEach(function(f,d){var v=a.get(f),h=(o==null?void 0:o.get(f))||r;d.isNoDocument()&&d.version.isEqual(qe.min())?(t.removeEntry(f,h),l=l.insert(f,d)):!v.isValidDocument()||d.version.compareTo(v.version)>0||d.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(d,h),l=l.insert(f,d)):ce("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",d.version)}),l})}function _j(e,t){var n=me(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function sh(e,t){var n=me(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,ue.resolve(o)):n.qe.allocateTargetId(r).next(function(a){return o=new Yh(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.kn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function Su(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,a;return Y(this,function(l){switch(l.label){case 0:r=me(e),o=r.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(f){return r.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!gs(a=l.sent()))throw a;return ce("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}})})}function uh(e,t,n){var r=me(e),o=qe.min(),s=mt();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var v=me(l),h=v.Fn.get(d);return h!==void 0?ue.resolve(v.kn.get(h)):v.qe.getTargetData(f,d)}(r,a,Zr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){s=f})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?o:qe.min(),n?s:mt())}).next(function(l){return{documents:l,Bn:s}})})}function Ik(e,t){var n=me(e),r=me(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function Tk(e){var t=me(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var a=me(r),l=Or(),f=$y(s),d=Bi(o),v=IDBKeyRange.lowerBound(f,!0);return d.$t({index:Ot.readTimeIndex,range:v},function(h,m){var y=hg(a.R,m);l=l.insert(y.key,y),f=m.readTime}).next(function(){return{wn:l,readTime:fk(f)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,o=n.readTime;return t.$n=o,r})}function wj(e){return Z(this,void 0,void 0,function(){var t;return Y(this,function(n){return[2,(t=me(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=Bi(o),a=qe.min();return s.$t({index:Ot.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=fk(f.readTime)),d.done()}).next(function(){return a})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bj=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return ue.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Nn(r.createTime)}),ue.resolve()},e.prototype.getNamedQuery=function(t,n){return ue.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:dk(r.bundledQuery),readTime:Nn(r.readTime)}}(n)),ue.resolve()},e}(),Gy=function(){function e(){this.Wn=new Qt(Jt.Gn),this.zn=new Qt(Jt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Jt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Jt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new Se(new rt([])),o=new Jt(r,t),s=new Jt(r,t+1),a=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new Se(new rt([])),r=new Jt(n,t),o=new Jt(n,t+1),s=mt();return this.zn.forEachInRange([r,o],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new Jt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Jt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return Se.comparator(t.key,n.key)||Ke(t.ns,n.ns)},e.Hn=function(t,n){return Ke(t.ns,n.ns)||Se.comparator(t.key,n.key)},e}(),Ej=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Qt(Jt.Gn)}return e.prototype.checkEmpty=function(t){return ue.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new qy(s,n,r,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new Jt(d.key,s)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return ue.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return ue.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return ue.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ue.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return ue.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new Jt(n,0),s=new Jt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,s],function(l){var f=r.os(l.ns);a.push(f)}),ue.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new Qt(Ke);return n.forEach(function(s){var a=new Jt(s,0),l=new Jt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),ue.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;Se.isDocumentKey(s)||(s=s.child(""));var a=new Jt(new Se(s),0),l=new Qt(Ke);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),ue.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;Pe(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return ue.forEach(n.mutations,function(s){var a=new Jt(s.key,n.batchId);return o=o.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Jt(n,0),o=this.rs.firstAfterOrEqual(r);return ue.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,ue.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),Ij=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new _n(Se.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return ue.resolve(r?r.document.clone():yn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=Or();return n.forEach(function(s){var a=r.docs.get(s);o=o.insert(s,a?a.document.clone():yn.newInvalidDocument(s))}),ue.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=Or(),s=new Se(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,v=d.document,h=d.readTime;if(!n.path.isPrefixOf(f.path))break;h.compareTo(r)<=0||qc(n,v)&&(o=o.insert(v.key,v.clone()))}return ue.resolve(o)},e.prototype.fs=function(t,n){return ue.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new Tj(this)},e.prototype.getSize=function(t){return ue.resolve(this.size)},e}(),Tj=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return Ce(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?o.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),ue.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(gk),Sj=function(){function e(t){this.persistence=t,this.ds=new Bu(function(n){return jc(n)},zh),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.ws=0,this._s=new Gy,this.targetCount=0,this.ys=oh.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),ue.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return ue.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return ue.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ue.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),ue.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new oh(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,ue.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),ue.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,ue.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),ue.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return ue.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return ue.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),ue.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(a){s.push(o.markPotentiallyOrphaned(t,a))}),ue.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),ue.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return ue.resolve(r)},e.prototype.containsKey=function(t,n){return ue.resolve(this._s.containsKey(n))},e}(),Aj=function(){function e(t,n){var r=this;this.gs={},this.Ne=new nr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Sj(this),this.Ut=new nj,this.Ue=function(o,s){return new Ij(o,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new lk(n),this.Ke=new bj(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new Ej(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;ce("MemoryPersistence","Starting transaction:",t);var s=new kj(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return o.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return ue.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),kj=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return Ce(t,e),t}(ak),Cj=function(){function e(t){this.persistence=t,this.As=new Gy,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ie()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),ue.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),ue.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),ue.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.vs,function(o){var s=Se.fromPath(o);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return ue.or([function(){return ue.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),on=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(e,t){return"firestore_clients_"+e+"_"+t}function QI(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function mv(e,t){return"firestore_targets_"+e+"_"+t}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");var YI=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new ie(s.error.code,s.error.message)),a?new e(t,n,s.state,o):(qt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),vv=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new ie(o.error.code,o.error.message)),s?new e(t,o.state,r):(qt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),JI=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Qh(),a=0;o&&a<r.activeTargetIds.length;++a)o=PA(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return o?new e(t,s):(qt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Oj=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(qt("SharedClientState","Failed to parse online state: "+t),null)},e}(),dg=function(){function e(){this.activeTargetIds=Qh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),gv=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new _n(Ke),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=XI(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new dg),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return Z(this,void 0,void 0,function(){var t,n,r,o,s,a,l,f,d,v,h,m=this;return Y(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem(XI(this.persistenceKey,o)))&&(a=JI.Vs(o,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,v=this.$s;d<v.length;d++)h=v[d],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(mv(this.persistenceKey,t));if(r){var o=vv.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(mv(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return ce("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){ce("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){ce("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(ce("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void qt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Z(n,void 0,void 0,function(){var o,s,a,l,f,d;return Y(this,function(v){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(f=this.js(r.newValue)))return[2,this.Ws(f)]}else if(r.key===this.Ms)(d=function(h){var m=nr.o;if(h!=null)try{var y=JSON.parse(h);Pe(typeof y=="number"),m=y}catch(_){qt("SharedClientState","Failed to read sequence number from WebStorage",_)}return m}(r.newValue))!==nr.o&&this.sequenceNumberHandler(d);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new YI(this.currentUser,t,n,r),s=QI(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=QI(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=mv(this.persistenceKey,t),s=new vv(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return JI.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return YI.Vs(new on(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return vv.Vs(o,n)},e.prototype.js=function(t){return Oj.Vs(t)},e.prototype.ii=function(t){return Z(this,void 0,void 0,function(){return Y(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ce("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){s.has(d)||l.push(d)}),s.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){r.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Qh();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),Sk=function(){function e(){this.li=new dg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new dg,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),Nj=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),ZI=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),Rj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},xj=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),Pj=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return Ce(t,e),t.prototype.Fi=function(n,r,o,s){return new Promise(function(a,l){var f=new lV;f.listenOnce(uV.COMPLETE,function(){try{switch(f.getLastErrorCode()){case dv.NO_ERROR:var v=f.getResponseJson();ce("Connection","XHR received:",JSON.stringify(v)),a(v);break;case dv.TIMEOUT:ce("Connection",'RPC "'+n+'" timed out'),l(new ie(q.DEADLINE_EXCEEDED,"Request time out"));break;case dv.HTTP_ERROR:var h=f.getStatus();if(ce("Connection",'RPC "'+n+'" failed with status:',h,"response text:",f.getResponseText()),h>0){var m=f.getResponseJson().error;if(m&&m.status&&m.message){var y=function(_){var b=_.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(b)>=0?b:q.UNKNOWN}(m.status);l(new ie(y,m.message))}else l(new ie(q.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new ie(q.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ce("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(s);f.send(r,"POST",d,o,15)})},t.prototype.Oi=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=oV(),a=sV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new cV({})),this.ki(l.initMessageHeaders,r),dM()||vM()||gM()||yM()||_M()||mM()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");ce("Connection","Creating WebChannel: "+f,l);var d=s.createWebChannel(f,l),v=!1,h=!1,m=new xj({Ei:function(_){h?ce("Connection","Not sending because WebChannel is closed:",_):(v||(ce("Connection","Opening WebChannel transport."),d.open(),v=!0),ce("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),y=function(_,b,S){_.listen(b,function(I){try{S(I)}catch(R){setTimeout(function(){throw R},0)}})};return y(d,lf.EventType.OPEN,function(){h||ce("Connection","WebChannel transport opened.")}),y(d,lf.EventType.CLOSE,function(){h||(h=!0,ce("Connection","WebChannel transport closed"),m.Vi())}),y(d,lf.EventType.ERROR,function(_){h||(h=!0,Yf("Connection","WebChannel transport errored:",_),m.Vi(new ie(q.UNAVAILABLE,"The operation could not be completed")))}),y(d,lf.EventType.MESSAGE,function(_){var b;if(!h){var S=_.data[0];Pe(!!S);var I=S,R=I.error||((b=I[0])===null||b===void 0?void 0:b.error);if(R){ce("Connection","WebChannel received error:",R);var M=R.status,U=function(O){var j=jt[O];if(j!==void 0)return XA(j)}(M),P=R.message;U===void 0&&(U=q.INTERNAL,P="Unknown error status: "+M+" with message "+R.message),h=!0,m.Vi(new ie(U,P)),d.close()}else ce("Connection","WebChannel received:",S),m.Si(S)}}),y(a,aV.STAT_EVENT,function(_){_.stat===vI.PROXY?ce("Connection","Detected buffering proxy"):_.stat===vI.NOPROXY&&ce("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);ce("RestConnection","Sending: ",s,r);var a={};return this.ki(a,o),this.Fi(t,s,a,r).then(function(l){return ce("RestConnection","Received: ",l),l},function(l){throw Yf("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=Rj[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(){return typeof window<"u"?window:null}function xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(e){return new jV(e,!0)}var zy=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-o);s>0&&ce("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),kk=function(){function e(t,n,r,o,s,a){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new zy(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return Z(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return Z(this,void 0,void 0,function(){return Y(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return Z(this,void 0,void 0,function(){return Y(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(qt(n.toString()),qt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===q.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new ie(q.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Z(t,void 0,void 0,function(){return Y(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return ce("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),Dj=function(e){function t(n,r,o,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,a)||this).R=s,l}return Ce(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var f=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:Ie()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],v=function(S,I){return S.I?(Pe(I===void 0||typeof I=="string"),qn.fromBase64String(I||"")):(Pe(I===void 0||I instanceof Uint8Array),qn.fromUint8Array(I||new Uint8Array))}(s,a.targetChange.resumeToken),h=(m=a.targetChange.cause)&&function(S){var I=S.code===void 0?q.UNKNOWN:XA(S.code);return new ie(I,S.message||"")}(m);l=new YA(f,d,v,h||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=fi(s,f.document.name),v=Nn(f.document.updateTime);var m=new Zn({mapValue:{fields:f.document.fields}}),y=(h=yn.newFoundDocument(d,v,m),f.targetIds||[]),_=f.removedTargetIds||[];l=new Rf(y,_,h.key,h)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=fi(s,f.document),v=f.readTime?Nn(f.readTime):qe.min(),m=yn.newNoDocument(d,v),h=f.removedTargetIds||[],l=new Rf([],h,m.key,m);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=fi(s,f.document),v=f.removedTargetIds||[],l=new Rf([],v,d,null);else{if(!("filter"in a))return Ie();a.filter;var b=a.filter;b.targetId,f=b.count||0,d=new OV(f),v=b.targetId,l=new QA(v,d)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return qe.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?qe.min():a.readTime?Nn(a.readTime):qe.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=yc(this.R),r.addTarget=function(s,a){var l,f=a.target;return(l=eh(f)?{documents:nk(s,f)}:{query:rk(s,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=JA(s,a.resumeToken):a.snapshotVersion.compareTo(qe.min())>0&&(l.readTime=vc(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ie()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=yc(this.R),r.removeTarget=n,this.cr(r)},t}(kk),Lj=function(e){function t(n,r,o,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,a)||this).R=s,l.gr=!1,l}return Ce(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Pe(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(Pe(a!==void 0),s.map(function(l){return function(f,d){var v=f.updateTime?Nn(f.updateTime):Nn(d);return v.isEqual(qe.min())&&(v=Nn(d)),new AV(v,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=Nn(n.commitTime);return this.listener.Tr(o,r)}return Pe(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=yc(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return rh(r.R,s)})};this.cr(o)},t}(kk),Mj=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return Ce(t,e),t.prototype.br=function(){if(this.Rr)throw new ie(q.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new ie(q.UNKNOWN,a.toString())})},t.prototype.$i=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new ie(q.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),Fj=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(qt(n),this.Vr=!1):ce("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),Vj=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return Z(s,void 0,void 0,function(){return Y(this,function(l){switch(l.label){case 0:return fo(this)?(ce("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return Z(this,void 0,void 0,function(){var d;return Y(this,function(v){switch(v.label){case 0:return(d=me(f)).Or.add(4),[4,qu(d)];case 1:return v.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,Gc(d)];case 2:return v.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new Fj(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(e){return Z(this,void 0,void 0,function(){var t,n;return Y(this,function(r){switch(r.label){case 0:if(!fo(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function qu(e){return Z(this,void 0,void 0,function(){var t,n;return Y(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Zh(e,t){var n=me(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Qy(n)?Xy(n):Hu(n).er()&&Wy(n,t))}function _c(e,t){var n=me(e),r=Hu(n);n.$r.delete(t),r.er()&&Ck(n,t),n.$r.size===0&&(r.er()?r.ir():fo(n)&&n.Br.set("Unknown"))}function Wy(e,t){e.qr.U(t.targetId),Hu(e).mr(t)}function Ck(e,t){e.qr.U(t),Hu(e).yr(t)}function Xy(e){e.qr=new MV({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Hu(e).start(),e.Br.Sr()}function Qy(e){return fo(e)&&!Hu(e).tr()&&e.$r.size>0}function fo(e){return me(e).Or.size===0}function Ok(e){e.qr=void 0}function jj(e){return Z(this,void 0,void 0,function(){return Y(this,function(t){return e.$r.forEach(function(n,r){Wy(e,n)}),[2]})})}function Uj(e,t){return Z(this,void 0,void 0,function(){return Y(this,function(n){return Ok(e),Qy(e)?(e.Br.Nr(t),Xy(e)):e.Br.set("Unknown"),[2]})})}function Bj(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s;return Y(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof YA&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return Z(this,void 0,void 0,function(){var d,v,h,m;return Y(this,function(y){switch(y.label){case 0:d=f.cause,v=0,h=f.targetIds,y.label=1;case 1:return v<h.length?(m=h[v],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,d)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return v++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),ce("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,ah(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Rf?e.qr.X(t):t instanceof QA?e.qr.rt(t):e.qr.et(t),n.isEqual(qe.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Ek(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(v,h){if(v.resumeToken.approximateByteSize()>0){var m=l.$r.get(h);m&&l.$r.set(h,m.withResumeToken(v.resumeToken,f))}}),d.targetMismatches.forEach(function(v){var h=l.$r.get(v);if(h){l.$r.set(v,h.withResumeToken(qn.EMPTY_BYTE_STRING,h.snapshotVersion)),Ck(l,v);var m=new Yh(h.target,v,1,h.sequenceNumber);Wy(l,m)}}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ce("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,ah(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function ah(e,t,n){return Z(this,void 0,void 0,function(){var r=this;return Y(this,function(o){switch(o.label){case 0:if(!gs(t))throw t;return e.Or.add(1),[4,qu(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return Ek(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return Z(r,void 0,void 0,function(){return Y(this,function(s){switch(s.label){case 0:return ce("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Gc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function Nk(e,t){return t().catch(function(n){return ah(e,n,t)})}function $u(e){return Z(this,void 0,void 0,function(){var t,n,r,o,s;return Y(this,function(a){switch(a.label){case 0:t=me(e),n=oo(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return fo(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,_j(t.localStore,r)];case 3:return(o=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(l,f){l.Fr.push(f);var d=oo(l);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return s=a.sent(),[4,ah(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Rk(t)&&xk(t),[2]}})})}function Rk(e){return fo(e)&&!oo(e).tr()&&e.Fr.length>0}function xk(e){oo(e).start()}function qj(e){return Z(this,void 0,void 0,function(){return Y(this,function(t){return oo(e).Ar(),[2]})})}function $j(e){return Z(this,void 0,void 0,function(){var t,n,r,o;return Y(this,function(s){for(t=oo(e),n=0,r=e.Fr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function Hj(e,t,n){return Z(this,void 0,void 0,function(){var r,o;return Y(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),o=ej.from(r,t,n),[4,Nk(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,$u(e)];case 2:return s.sent(),[2]}})})}function Kj(e,t){return Z(this,void 0,void 0,function(){return Y(this,function(n){switch(n.label){case 0:return t&&oo(e).pr?[4,function(r,o){return Z(this,void 0,void 0,function(){var s,a;return Y(this,function(l){switch(l.label){case 0:return WA(a=o.code)&&a!==q.ABORTED?(s=r.Fr.shift(),oo(r).sr(),[4,Nk(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,$u(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Rk(e)&&xk(e),[2]}})})}function pg(e,t){return Z(this,void 0,void 0,function(){var n;return Y(this,function(r){switch(r.label){case 0:return n=me(e),t?(n.Or.delete(2),[4,Gc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,qu(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Hu(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=me(n);return s.br(),new Dj(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:jj.bind(null,e),Ri:Uj.bind(null,e),_r:Bj.bind(null,e)}),e.Mr.push(function(n){return Z(t,void 0,void 0,function(){return Y(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),Qy(e)?Xy(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),Ok(e),r.label=3;case 3:return[2]}})})})),e.Ur}function oo(e){var t=this;return e.Kr||(e.Kr=function(n,r,o){var s=me(n);return s.br(),new Lj(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:qj.bind(null,e),Ri:Kj.bind(null,e),Ir:$j.bind(null,e),Tr:Hj.bind(null,e)}),e.Mr.push(function(n){return Z(t,void 0,void 0,function(){return Y(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,$u(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(ce("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var Gj=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new $n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,o,s){var a=new e(t,n,Date.now()+r,o,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Ku(e,t){if(qt("AsyncQueue",t+": "+e),gs(e))return new ie(q.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pk=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||Se.comparator(n.key,r.key)}:function(n,r){return Se.comparator(n.key,r.key)},this.keyedMap=lg(),this.sortedSet=new _n(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),eT=function(){function e(){this.Qr=new _n(Se.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):Ie():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),ch=function(){function e(t,n,r,o,s,a,l,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,Pk.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),zj=function(){this.Wr=void 0,this.listeners=[]},Wj=function(){this.queries=new Bu(function(e){return VA(e)},Bc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,a,l,f;return Y(this,function(d){switch(d.label){case 0:if(n=me(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new zj),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=Ku(l,"Initialization of query '"+ag(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&Zy(n),[2]}})})}function Jy(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,a;return Y(this,function(l){return n=me(e),r=t.query,o=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Xj(e,t){for(var n=me(e),r=!1,o=0,s=t;o<s.length;o++){var a=s[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,v=f.listeners;d<v.length;d++)v[d].Hr(a)&&(r=!0);f.Wr=a}}r&&Zy(n)}function Qj(e,t,n){var r=me(e),o=r.queries.get(t);if(o)for(var s=0,a=o.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function Zy(e){e.Gr.forEach(function(t){t.next()})}var e_=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new ch(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=ch.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dk=function(e){this.key=e},Lk=function(e){this.key=e},Mk=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=mt(),this.mutatedKeys=mt(),this.lo=jA(t),this.fo=new Pk(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new eT,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,d=Of(this.query)&&s.size===this.query.limit?s.last():null,v=nh(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var _=s.get(m),b=qc(r.query,y)?y:null,S=!!_&&r.mutatedKeys.has(_.key),I=!!b&&(b.hasLocalMutations||r.mutatedKeys.has(b.key)&&b.hasCommittedMutations),R=!1;_&&b?_.data.isEqual(b.data)?S!==I&&(o.track({type:3,doc:b}),R=!0):r.yo(_,b)||(o.track({type:2,doc:b}),R=!0,(d&&r.lo(b,d)>0||v&&r.lo(b,v)<0)&&(f=!0)):!_&&b?(o.track({type:0,doc:b}),R=!0):_&&!b&&(o.track({type:1,doc:_}),R=!0,(d||v)&&(f=!0)),R&&(b?(l=l.add(b),a=I?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),Of(this.query)||nh(this.query))for(;l.size>this.query.limit;){var h=Of(this.query)?l.last():l.first();l=l.delete(h.key),a=a.delete(h.key),o.track({type:1,doc:h})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(v,h){return function(m,y){var _=function(b){switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return _(m)-_(y)}(v.type,h.type)||o.lo(v.doc,h.doc)}),this.po(r);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new ch(this.query,t.fo,s,a,t.mutatedKeys,f===0,d,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new eT,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=mt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new Lk(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new Dk(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=mt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return ch.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),Yj=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Jj=function(e){this.key=e,this.bo=!1},Zj=function(){function e(t,n,r,o,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Bu(function(l){return VA(l)},Bc),this.Vo=new Map,this.So=new Set,this.Do=new _n(Se.comparator),this.Co=new Map,this.No=new Gy,this.xo={},this.ko=new Map,this.Fo=oh.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function eU(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,a,l;return Y(this,function(f){switch(f.label){case 0:return n=o_(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,sh(n.localStore,Zr(t))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,t_(n,t,r,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Zh(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function t_(e,t,n,r){return Z(this,void 0,void 0,function(){var o,s,a,l,f,d;return Y(this,function(v){switch(v.label){case 0:return e.Oo=function(h,m,y){return function(_,b,S,I){return Z(this,void 0,void 0,function(){var R,M,U;return Y(this,function(P){switch(P.label){case 0:return R=b.view._o(S),R.Nn?[4,uh(_.localStore,b.query,!1).then(function(O){var j=O.documents;return b.view._o(j,R)})]:[3,2];case 1:R=P.sent(),P.label=2;case 2:return M=I&&I.targetChanges.get(b.targetId),U=b.view.applyChanges(R,_.isPrimaryClient,M),[2,(mg(_,b.targetId,U.To),U.snapshot)]}})})}(e,h,m,y)},[4,uh(e.localStore,t,!0)];case 1:return o=v.sent(),s=new Mk(t,o.Bn),a=s._o(o.documents),l=jy.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),f=s.applyChanges(a,e.isPrimaryClient,l),mg(e,n,f.To),d=new Yj(t,n,s),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function tU(e,t){return Z(this,void 0,void 0,function(){var n,r,o;return Y(this,function(s){switch(s.label){case 0:return n=me(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(a){return!Bc(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Su(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),_c(n.remoteStore,r.targetId),Au(n,r.targetId)}).catch(ys)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Au(n,r.targetId),[4,Su(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function nU(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,a;return Y(this,function(l){switch(l.label){case 0:r=s_(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var v,h=me(f),m=Un.now(),y=d.reduce(function(_,b){return _.add(b.key)},mt());return h.persistence.runTransaction("Locally write mutations","readwrite",function(_){return h.Mn.pn(_,y).next(function(b){v=b;for(var S=[],I=0,R=d;I<R.length;I++){var M=R[I],U=CV(M,v.get(M.key));U!=null&&S.push(new lo(M.key,U,DA(U.value.mapValue),vn.exists(!0)))}return h._n.addMutationBatch(_,m,S,d)})}).then(function(_){return _.applyToLocalDocumentSet(v),{batchId:_.batchId,changes:v}})}(r.localStore,t)];case 2:return o=l.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(f,d,v){var h=f.xo[f.currentUser.toKey()];h||(h=new _n(Ke)),h=h.insert(d,v),f.xo[f.currentUser.toKey()]=h}(r,o.batchId,n),[4,ho(r,o.changes)];case 3:return l.sent(),[4,$u(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=Ku(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function Fk(e,t){return Z(this,void 0,void 0,function(){var n,r;return Y(this,function(o){switch(o.label){case 0:n=me(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,gj(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(Pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?Pe(l.bo):s.removedDocuments.size>0&&(Pe(l.bo),l.bo=!1))}),[4,ho(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,ys(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function tT(e,t,n){var r=me(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,a){var l=me(s);l.onlineState=a;var f=!1;l.queries.forEach(function(d,v){for(var h=0,m=v.listeners;h<m.length;h++)m[h].zr(a)&&(f=!0)}),f&&Zy(l)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function rU(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,a,l,f;return Y(this,function(d){switch(d.label){case 0:return(r=me(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(a=(a=new _n(Se.comparator)).insert(s,yn.newNoDocument(s,qe.min())),l=mt().add(s),f=new Vy(qe.min(),new Map,new Qt(Ke),a,l),[4,Fk(r,f)]):[3,2];case 1:return d.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),i_(r),[3,4];case 2:return[4,Su(r.localStore,t,!1).then(function(){return Au(r,t,n)}).catch(ys)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function iU(e,t){return Z(this,void 0,void 0,function(){var n,r,o;return Y(this,function(s){switch(s.label){case 0:n=me(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,vj(n.localStore,t)];case 2:return o=s.sent(),r_(n,r,null),n_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,ho(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,ys(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function oU(e,t,n){return Z(this,void 0,void 0,function(){var r,o;return Y(this,function(s){switch(s.label){case 0:r=me(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var f=me(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var v;return f._n.lookupMutationBatch(d,l).next(function(h){return Pe(h!==null),v=h.keys(),f._n.removeMutationBatch(d,h)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,v)})})}(r.localStore,t)];case 2:return o=s.sent(),r_(r,t,n),n_(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,ho(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,ys(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function sU(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,a;return Y(this,function(l){switch(l.label){case 0:fo((n=me(e)).remoteStore)||ce("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=me(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(v){return d._n.getHighestUnacknowledgedBatchId(v)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return s=l.sent(),a=Ku(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function n_(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function r_(e,t,n){var r=me(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function Au(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||Vk(e,a)})}function Vk(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(_c(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),i_(e))}function mg(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof Dk?(e.No.addReference(s.key,t),uU(e,s)):s instanceof Lk?(ce("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||Vk(e,s.key)):Ie()}}function uU(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(ce("SyncEngine","New document in limbo: "+n),e.So.add(r),i_(e))}function i_(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Se(rt.fromString(t)),r=e.Fo.next();e.Co.set(r,new Jj(n)),e.Do=e.Do.insert(n,r),Zh(e.remoteStore,new Yh(Zr(Uc(n.path)),r,2,nr.o))}}function ho(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,a;return Y(this,function(l){switch(l.label){case 0:return r=me(e),o=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(f,d){a.push(r.Oo(d,t,n).then(function(v){if(v){r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,v.fromCache?"not-current":"current"),o.push(v);var h=pj.Pn(d.targetId,v);s.push(h)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(o),[4,function(f,d){return Z(this,void 0,void 0,function(){var v,h,m,y,_,b,S,I,R;return Y(this,function(M){switch(M.label){case 0:v=me(f),M.label=1;case 1:return M.trys.push([1,3,,4]),[4,v.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(U){return ue.forEach(d,function(P){return ue.forEach(P.bn,function(O){return v.persistence.referenceDelegate.addReference(U,P.targetId,O)}).next(function(){return ue.forEach(P.vn,function(O){return v.persistence.referenceDelegate.removeReference(U,P.targetId,O)})})})})];case 2:return M.sent(),[3,4];case 3:if(!gs(h=M.sent()))throw h;return ce("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(m=0,y=d;m<y.length;m++)_=y[m],b=_.targetId,_.fromCache||(S=v.kn.get(b),I=S.snapshotVersion,R=S.withLastLimboFreeSnapshotVersion(I),v.kn=v.kn.insert(b,R));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function aU(e,t){return Z(this,void 0,void 0,function(){var n,r;return Y(this,function(o){switch(o.label){case 0:return(n=me(e)).currentUser.isEqual(t)?[3,3]:(ce("SyncEngine","User change. New user:",t.toKey()),[4,bk(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(l){l.forEach(function(f){f.reject(new ie(q.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,ho(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function cU(e,t){var n=me(e),r=n.Co.get(t);if(r&&r.bo)return mt().add(r.key);var o=mt(),s=n.Vo.get(t);if(!s)return o;for(var a=0,l=s;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function lU(e,t){return Z(this,void 0,void 0,function(){var n,r,o;return Y(this,function(s){switch(s.label){case 0:return[4,uh((n=me(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&mg(n,t.targetId,o.To),o)]}})})}function fU(e){return Z(this,void 0,void 0,function(){var t;return Y(this,function(n){return[2,Tk((t=me(e)).localStore).then(function(r){return ho(t,r)})]})})}function hU(e,t,n,r){return Z(this,void 0,void 0,function(){var o,s;return Y(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=me(l),v=me(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return v.jt(h,f).next(function(m){return m?d.Mn.pn(h,m):ue.resolve(null)})})}((o=me(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,$u(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(r_(o,t,r||null),n_(o,t),function(l,f){me(me(l)._n).Gt(f)}(o.localStore,t)):Ie(),a.label=4;case 4:return[4,ho(o,s)];case 5:return a.sent(),[3,7];case 6:ce("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function dU(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,a,l,f,d;return Y(this,function(v){switch(v.label){case 0:return o_(n=me(e)),s_(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,nT(n,r.toArray())]);case 1:return o=v.sent(),n.$o=!0,[4,pg(n.remoteStore,!0)];case 2:for(v.sent(),s=0,a=o;s<a.length;s++)l=a[s],Zh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(h,m){n.sharedClientState.isLocalQueryTarget(m)?f.push(m):d=d.then(function(){return Au(n,m),Su(n.localStore,m,!0)}),_c(n.remoteStore,m)}),[4,d]);case 4:return v.sent(),[4,nT(n,f)];case 5:return v.sent(),function(h){var m=me(h);m.Co.forEach(function(y,_){_c(m.remoteStore,_)}),m.No.ts(),m.Co=new Map,m.Do=new _n(Se.comparator)}(n),n.$o=!1,[4,pg(n.remoteStore,!1)];case 6:v.sent(),v.label=7;case 7:return[2]}})})}function nT(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,a,l,f,d,v,h,m,y,_,b,S;return Y(this,function(I){switch(I.label){case 0:r=me(e),o=[],s=[],a=0,l=t,I.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(v=r.Vo.get(f))&&v.length!==0?[4,sh(r.localStore,Zr(v[0]))]:[3,7]):[3,13];case 2:d=I.sent(),h=0,m=v,I.label=3;case 3:return h<m.length?(y=m[h],_=r.Po.get(y),[4,lU(r,_)]):[3,6];case 4:(b=I.sent()).snapshot&&s.push(b.snapshot),I.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Ik(r.localStore,f)];case 8:return S=I.sent(),[4,sh(r.localStore,S)];case 9:return d=I.sent(),[4,t_(r,jk(S),f,!1)];case 10:I.sent(),I.label=11;case 11:o.push(d),I.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function jk(e){return MA(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function pU(e){var t=me(e);return me(me(t.localStore).persistence).fn()}function mU(e,t,n,r){return Z(this,void 0,void 0,function(){var o,s,a;return Y(this,function(l){switch(l.label){case 0:return(o=me(e)).$o?(ce("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Tk(o.localStore)];case 3:return s=l.sent(),a=Vy.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,ho(o,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,Su(o.localStore,t,!0)];case 6:return l.sent(),Au(o,t,r),[3,8];case 7:Ie(),l.label=8;case 8:return[2]}})})}function vU(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,a,l,f,d,v,h,m;return Y(this,function(y){switch(y.label){case 0:if(!(r=o_(e)).$o)return[3,10];o=0,s=t,y.label=1;case 1:return o<s.length?(a=s[o],r.Vo.has(a)?(ce("SyncEngine","Adding an already active target "+a),[3,5]):[4,Ik(r.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,sh(r.localStore,l)];case 3:return f=y.sent(),[4,t_(r,jk(l),f.targetId,!1)];case 4:y.sent(),Zh(r.remoteStore,f),y.label=5;case 5:return o++,[3,1];case 6:d=function(_){return Y(this,function(b){switch(b.label){case 0:return r.Vo.has(_)?[4,Su(r.localStore,_,!1).then(function(){_c(r.remoteStore,_),Au(r,_)}).catch(ys)]:[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})},v=0,h=n,y.label=7;case 7:return v<h.length?(m=h[v],[5,d(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return v++,[3,7];case 10:return[2]}})})}function o_(e){var t=me(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Fk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rU.bind(null,t),t.vo._r=Xj.bind(null,t.eventManager),t.vo.Mo=Qj.bind(null,t.eventManager),t}function s_(e){var t=me(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oU.bind(null,t),t}var Uk=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return Z(this,void 0,void 0,function(){return Y(this,function(n){switch(n.label){case 0:return this.R=Jh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return wk(this.persistence,new _k,t.initialUser,this.R)},e.prototype.qo=function(t){return new Aj(Cj.bs,this.R)},e.prototype.Bo=function(t){return new Sk},e.prototype.terminate=function(){return Z(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),Bk=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return Ce(t,e),t.prototype.initialize=function(n){return Z(this,void 0,void 0,function(){var r=this;return Y(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,wj(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,s_(this.Qo.syncEngine)];case 4:return o.sent(),[4,$u(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return wk(this.persistence,new _k,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new uj(r,n.asyncQueue)},t.prototype.qo=function(n){var r=Ky(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Kr.withCacheSize(this.cacheSizeBytes):Kr.DEFAULT;return new dj(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,Ak(),xf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new Sk},t}(Uk),gU=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Qo=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return Ce(t,e),t.prototype.initialize=function(n){return Z(this,void 0,void 0,function(){var r,o=this;return Y(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof gv?(this.sharedClientState.syncEngine={ui:hU.bind(null,r),ai:mU.bind(null,r),hi:vU.bind(null,r),fn:pU.bind(null,r),ci:fU.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return Z(o,void 0,void 0,function(){return Y(this,function(l){switch(l.label){case 0:return[4,dU(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=Ak();if(!gv.yt(r))throw new ie(q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=Ky(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new gv(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(Bk),vg=function(){function e(){}return e.prototype.initialize=function(t,n){return Z(this,void 0,void 0,function(){var r=this;return Y(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return tT(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=aU.bind(null,this.syncEngine),[4,pg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new Wj},e.prototype.createDatastore=function(t){var n,r=Jh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new Pj(n));return function(s,a,l){return new Mj(s,a,l)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,a,l=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(f){return tT(l.syncEngine,f,0)},a=ZI.yt()?new ZI:new Nj,new Vj(n,r,o,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,a,l,f,d){var v=new Zj(r,o,s,a,l,f);return d&&(v.$o=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return Z(this,void 0,void 0,function(){var n;return Y(this,function(r){switch(r.label){case 0:return n=me(t),ce("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,qu(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ed=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),yU=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return Z(this,void 0,void 0,function(){var n,r=this;return Y(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ie(q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return Z(this,void 0,void 0,function(){var l,f,d,v,h,m;return Y(this,function(y){switch(y.label){case 0:return l=me(s),f=yc(l.R)+"/documents",d={documents:a.map(function(_){return gc(l.R,_)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return v=y.sent(),h=new Map,v.forEach(function(_){var b=function(S,I){return"found"in I?function(R,M){Pe(!!M.found),M.found.name,M.found.updateTime;var U=fi(R,M.found.name),P=Nn(M.found.updateTime),O=new Zn({mapValue:{fields:M.found.fields}});return yn.newFoundDocument(U,P,O)}(S,I):"missing"in I?function(R,M){Pe(!!M.missing),Pe(!!M.readTime);var U=fi(R,M.missing),P=Nn(M.readTime);return yn.newNoDocument(U,P)}(S,I):Ie()}(l.R,_);h.set(b.key.toString(),b)}),m=[],[2,(a.forEach(function(_){var b=h.get(_.toString());Pe(!!b),m.push(b)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Kc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return Z(this,void 0,void 0,function(){var t,n=this;return Y(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var a=Se.fromPath(s);n.mutations.push(new Fy(a,n.precondition(a)))}),[4,function(o,s){return Z(this,void 0,void 0,function(){var a,l,f;return Y(this,function(d){switch(d.label){case 0:return a=me(o),l=yc(a.R)+"/documents",f={writes:s.map(function(v){return rh(a.R,v)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Ie();n=qe.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new ie(q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?vn.updateTime(n):vn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(qe.min()))throw new ie(q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vn.updateTime(n)}return vn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),_U=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new zy(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Z(t,void 0,void 0,function(){var n,r,o=this;return Y(this,function(s){return n=new yU(this.datastore),(r=this.sc(n))&&r.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!vs(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!WA(n)}return!1},e}(),wU=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=on.UNAUTHENTICATED,this.clientId=CA.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return Z(o,void 0,void 0,function(){return Y(this,function(a){switch(a.label){case 0:return ce("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return Z(this,void 0,void 0,function(){return Y(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ie(q.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new $n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Z(t,void 0,void 0,function(){var r,o;return Y(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=Ku(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(e,t){return Z(this,void 0,void 0,function(){var n,r,o=this;return Y(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){return Z(o,void 0,void 0,function(){return Y(this,function(l){switch(l.label){case 0:return r.isEqual(a)?[3,2]:[4,bk(t.localStore,a)];case 1:l.sent(),r=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function $k(e,t){return Z(this,void 0,void 0,function(){var n,r;return Y(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,u_(e)];case 1:return n=o.sent(),ce("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(a,l){return Z(this,void 0,void 0,function(){var f,d;return Y(this,function(v){switch(v.label){case 0:return(f=me(a)).asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials"),d=fo(f),f.Or.add(3),[4,qu(f)];case 1:return v.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return v.sent(),f.Or.delete(3),[4,Gc(f)];case 3:return v.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function u_(e){return Z(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ce("FirestoreClient","Using default OfflineComponentProvider"),[4,qk(e,new Uk)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function td(e){return Z(this,void 0,void 0,function(){return Y(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ce("FirestoreClient","Using default OnlineComponentProvider"),[4,$k(e,new vg)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function rT(e){return u_(e).then(function(t){return t.persistence})}function Hk(e){return u_(e).then(function(t){return t.localStore})}function iT(e){return td(e).then(function(t){return t.remoteStore})}function Kk(e){return td(e).then(function(t){return t.syncEngine})}function ku(e){return Z(this,void 0,void 0,function(){var t,n;return Y(this,function(r){switch(r.label){case 0:return[4,td(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=eU.bind(null,t.syncEngine),n.onUnlisten=tU.bind(null,t.syncEngine),n)]}})})}function oT(e,t,n){var r=this;n===void 0&&(n={});var o=new $n;return e.asyncQueue.enqueueAndForget(function(){return Z(r,void 0,void 0,function(){var s;return Y(this,function(a){switch(a.label){case 0:return s=function(l,f,d,v,h){var m=new ed({next:function(_){f.enqueueAndForget(function(){return Jy(l,y)});var b=_.docs.has(d);!b&&_.fromCache?h.reject(new ie(q.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&_.fromCache&&v&&v.source==="server"?h.reject(new ie(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new e_(Uc(d.path),m,{includeMetadataChanges:!0,so:!0});return Yy(l,y)},[4,ku(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function sT(e,t,n){var r=this;n===void 0&&(n={});var o=new $n;return e.asyncQueue.enqueueAndForget(function(){return Z(r,void 0,void 0,function(){var s;return Y(this,function(a){switch(a.label){case 0:return s=function(l,f,d,v,h){var m=new ed({next:function(_){f.enqueueAndForget(function(){return Jy(l,y)}),_.fromCache&&v.source==="server"?h.reject(new ie(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new e_(d,m,{includeMetadataChanges:!0,so:!0});return Yy(l,y)},[4,ku(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var bU=function(e,t,n,r,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l},lh=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),uT=new Map,Gk=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},aT=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(on.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),EU=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),IU=function(){function e(t){var n=this;this.currentUser=on.UNAUTHENTICATED,this.oc=new $n,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(o){ce("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return r(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?r(o):(ce("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(ce("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Pe(typeof o.accessToken=="string"),new Gk(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Z(r,void 0,void 0,function(){return Y(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Pe(t===null||typeof t=="string"),new on(t)},e}(),TU=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=on.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),SU=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new TU(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(on.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(e,t,n){if(!n)throw new ie(q.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function c_(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new ie(q.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function zk(e,t,n,r){if(t===!0&&r===!0)throw new ie(q.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function cT(e){if(!Se.isDocumentKey(e))throw new ie(q.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function lT(e){if(Se.isDocumentKey(e))throw new ie(q.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function nd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Ie()}function ot(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ie(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=nd(e);throw new ie(q.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function fT(e,t){if(t<=0)throw new ie(q.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hT=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new ie(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ie(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,zk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),wc=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hT({}),this._settingsFrozen=!1,t instanceof lh?(this._databaseId=t,this._credentials=new aT):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ie(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lh(r.options.projectId)}(t),this._credentials=new IU(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new ie(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new ie(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hT(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new aT;switch(n.type){case"gapi":var r=n.client;return Pe(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new SU(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new ie(q.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=uT.get(t))&&(ce("ComponentProvider","Removing Datastore"),uT.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),St=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ji(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),ir=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Ji=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,Uc(o))||this)._path=o,s.type="collection",s}return Ce(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new St(this.firestore,null,new Se(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(ir);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=ht(e),a_("collection","path",t),e instanceof wc)return lT(n=rt.fromString.apply(rt,Et([t],r))),new Ji(e,null,n);if(!(e instanceof St||e instanceof Ji))throw new ie(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return lT(n=rt.fromString.apply(rt,Et([e.path],r)).child(rt.fromString(t))),new Ji(e.firestore,null,n)}function Pf(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=ht(e),arguments.length===1&&(t=CA.u()),a_("doc","path",t),e instanceof wc)return cT(n=rt.fromString.apply(rt,Et([t],r))),new St(e,null,new Se(n));if(!(e instanceof St||e instanceof Ji))throw new ie(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cT(n=e._path.child(rt.fromString.apply(rt,Et([t],r)))),new St(e.firestore,e instanceof Ji?e.converter:null,new Se(n))}function Xk(e,t){return e=ht(e),t=ht(t),(e instanceof St||e instanceof Ji)&&(t instanceof St||t instanceof Ji)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Qk(e,t){return e=ht(e),t=ht(t),e instanceof ir&&t instanceof ir&&e.firestore===t.firestore&&Bc(e._query,t._query)&&e.converter===t.converter}var AU=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new zy(this,"async_queue_retry"),this.Ic=function(){var r=xf();r&&ce("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=xf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=xf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new $n;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return Z(this,void 0,void 0,function(){var t,n=this;return Y(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!gs(t=r.sent()))throw t;return ce("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,qt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=Gj.createAndSchedule(this,t,n,r,function(a){return o.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&Ie()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Z(this,void 0,void 0,function(){var t;return Y(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,o=n.mc;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Cu(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var a=s[o];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var kU=-1,zt=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).type="firestore",o._queue=new AU,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Ce(t,e),t.prototype._terminate=function(){return this._firestoreClient||Yk(this),this._firestoreClient.terminate()},t}(wc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(e){return e._firestoreClient||Yk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Yk(e){var t,n=e._freezeSettings(),r=function(o,s,a,l){return new bU(o,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new wU(e._credentials,e._queue,r)}function dT(e,t,n){var r=this,o=new $n;return e.asyncQueue.enqueue(function(){return Z(r,void 0,void 0,function(){var s;return Y(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,qk(e,n)];case 1:return a.sent(),[4,$k(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===q.FAILED_PRECONDITION||l.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function pT(e){if(e._initialized||e._terminated)throw new ie(q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new ie(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),ls=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(qn.fromBase64String(t))}catch(n){throw new ie(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(qn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),_s=function(e){this._methodName=e},rd=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new ie(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ie(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Ke(this._lat,t._lat)||Ke(this._long,t._long)},e}(),CU=/^__.*__$/,OU=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new lo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Hc(t,this.data,n,this.fieldTransforms)},e}(),Jk=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new lo(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}var eC=function(){function e(t,n,r,o,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return fh(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(Zk(this.Nc)&&CU.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),NU=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Jh(t)}return e.prototype.Uc=function(t,n,r,o){return o===void 0&&(o=!1),new eC({Nc:t,methodName:n,qc:r,path:Pr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function ws(e){var t=e._freezeSettings(),n=Jh(e._databaseId);return new NU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function id(e,t,n,r,o,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);d_("Data must be an object, but it was:",a,r);var l,f,d=rC(r,a);if(s.merge)l=new pu(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){for(var v=[],h=0,m=s.mergeFields;h<m.length;h++){var y=gg(t,m[h],n);if(!a.contains(y))throw new ie(q.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");oC(v,y)||v.push(y)}l=new pu(v),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new OU(new Zn(d),l,f)}var l_=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(_s);function tC(e,t,n){return new eC({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var RU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype._toFieldTransform=function(n){return new $c(n.path,new yu)},t.prototype.isEqual=function(n){return n instanceof t},t}(_s),xU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Ce(t,e),t.prototype._toFieldTransform=function(n){var r=tC(this,n,!0),o=this.Kc.map(function(a){return bs(a,r)}),s=new as(o);return new $c(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(_s),PU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Ce(t,e),t.prototype._toFieldTransform=function(n){var r=tC(this,n,!0),o=this.Kc.map(function(a){return bs(a,r)}),s=new cs(o);return new $c(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(_s),DU=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Qc=r,o}return Ce(t,e),t.prototype._toFieldTransform=function(n){var r=new _u(n.R,qA(n.R,this.Qc));return new $c(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(_s);function f_(e,t,n,r){var o=e.Uc(1,t,n);d_("Data must be an object, but it was:",o,r);var s=[],a=Zn.empty();ms(r,function(f,d){var v=p_(t,f,n);d=ht(d);var h=o.Oc(v);if(d instanceof l_)s.push(v);else{var m=bs(d,h);m!=null&&(s.push(v),a.set(v,m))}});var l=new pu(s);return new Jk(a,l,o.fieldTransforms)}function h_(e,t,n,r,o,s){var a=e.Uc(1,t,n),l=[gg(t,r,n)],f=[o];if(s.length%2!=0)throw new ie(q.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<s.length;d+=2)l.push(gg(t,s[d])),f.push(s[d+1]);for(var v=[],h=Zn.empty(),m=l.length-1;m>=0;--m)if(!oC(v,l[m])){var y=l[m],_=f[m];_=ht(_);var b=a.Oc(y);if(_ instanceof l_)v.push(y);else{var S=bs(_,b);S!=null&&(v.push(y),h.set(y,S))}}var I=new pu(v);return new Jk(h,I,a.fieldTransforms)}function nC(e,t,n,r){return r===void 0&&(r=!1),bs(n,e.Uc(r?4:3,t))}function bs(e,t){if(iC(e=ht(e)))return d_("Unsupported field value:",t,e),rC(e,t);if(e instanceof _s)return function(n,r){if(!Zk(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,a=0,l=n;a<l.length;a++){var f=bs(l[a],r.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=ht(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return qA(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Un.fromDate(n);return{timestampValue:vc(r.R,o)}}if(n instanceof Un)return o=new Un(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:vc(r.R,o)};if(n instanceof rd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ls)return{bytesValue:JA(r.R,n._byteString)};if(n instanceof St){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:Uy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+nd(n))}(e,t)}function rC(e,t){var n={};return NA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ms(e,function(r,o){var s=bs(o,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function iC(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Un||e instanceof rd||e instanceof ls||e instanceof St||e instanceof _s)}function d_(e,t,n){if(!iC(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=nd(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function gg(e,t,n){if((t=ht(t))instanceof Xr)return t._internalPath;if(typeof t=="string")return p_(e,t);throw fh("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var LU=new RegExp("[~\\*/\\[\\]]");function p_(e,t,n){if(t.search(LU)>=0)throw fh("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Xr.bind.apply(Xr,Et([void 0],t.split("."))))()._internalPath}catch{throw fh("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function fh(e,t,n,r,o){var s=r&&!r.isEmpty(),a=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||a)&&(f+=" (found",s&&(f+=" in field "+r),a&&(f+=" in document "+o),f+=")"),new ie(q.INVALID_ARGUMENT,(l+=". ")+e+f)}function oC(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bc=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new St(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new MU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(hh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),MU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(bc);function hh(e,t){return typeof t=="string"?p_(e,t):t instanceof Xr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xo=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),di=function(e){function t(n,r,o,s,a,l){var f=this;return(f=e.call(this,n,r,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return Ce(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Ga(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(hh("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(bc),Ga=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(di),Ki=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Xo(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new Ga(r._firestore,r._userDataWriter,o.key,o,new Xo(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new Ga(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Xo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Ga(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Xo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,v=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(v=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:FU(l.type),doc:f,oldIndex:d,newIndex:v}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function FU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}function sC(e,t){return e instanceof di&&t instanceof di?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ki&&t instanceof Ki&&e._firestore===t._firestore&&Qk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(e){if(nh(e)&&e.explicitOrderBy.length===0)throw new ie(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zc=function(){};function Li(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var VU=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=o,s.type="where",s}return Ce(t,e),t.prototype._apply=function(n){var r=ws(n.firestore),o=function(s,a,l,f,d,v,h){var m;if(d.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ie(q.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+v+"' queries on FieldPath.documentId().");if(v==="in"||v==="not-in"){_T(h,v);for(var y=[],_=0,b=h;_<b.length;_++){var S=b[_];y.push(yT(f,s,S))}m={arrayValue:{values:y}}}else m=yT(f,s,h)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||_T(h,v),m=nC(l,"where",h,v==="in"||v==="not-in");var I=rr.create(d,v,m);return function(R,M){if(M.g()){var U=Ly(R);if(U!==null&&!U.isEqual(M.field))throw new ie(q.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+U.toString()+"' and '"+M.field.toString()+"'");var P=Dy(R);P!==null&&cC(R,M.field,P)}var O=function(j,x){for(var F=0,A=j.filters;F<A.length;F++){var be=A[F];if(x.indexOf(be.op)>=0)return be.op}return null}(R,function(j){switch(j){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(M.op));if(O!==null)throw O===M.op?new ie(q.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+M.op.toString()+"' filter."):new ie(q.INVALID_ARGUMENT,"Invalid query. You cannot use '"+M.op.toString()+"' filters with '"+O.toString()+"' filters.")}(s,I),I}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ir(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new _i(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(zc),jU=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).jc=n,o.zc=r,o.type="orderBy",o}return Ce(t,e),t.prototype._apply=function(n){var r=function(o,s,a){if(o.startAt!==null)throw new ie(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ie(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new ou(s,a);return function(f,d){if(Dy(f)===null){var v=Ly(f);v!==null&&cC(f,v,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new ir(n.firestore,n.converter,function(o,s){var a=o.explicitOrderBy.concat([s]);return new _i(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(zc),mT=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return Ce(t,e),t.prototype._apply=function(n){return new ir(n.firestore,n.converter,FA(n._query,this.Hc,this.Jc))},t}(zc),vT=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Ce(t,e),t.prototype._apply=function(n){var r=aC(n,this.type,this.Yc,this.Xc);return new ir(n.firestore,n.converter,function(o,s){return new _i(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(zc),gT=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Ce(t,e),t.prototype._apply=function(n){var r=aC(n,this.type,this.Yc,this.Xc);return new ir(n.firestore,n.converter,function(o,s){return new _i(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(zc);function aC(e,t,n,r){if(n[0]=ht(n[0]),n[0]instanceof bc)return function(s,a,l,f,d){if(!f)throw new ie(q.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var v=[],h=0,m=gu(s);h<m.length;h++){var y=m[h];if(y.field.isKeyField())v.push(Zf(a,f.key));else{var _=f.data.field(y.field);if(Ry(_))throw new ie(q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var b=y.field.canonicalString();throw new ie(q.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+b+"' (used as the orderBy) does not exist.")}v.push(_)}}return new mc(v,d)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=ws(e.firestore);return function(s,a,l,f,d,v){var h=s.explicitOrderBy;if(d.length>h.length)throw new ie(q.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<d.length;y++){var _=d[y];if(h[y].field.isKeyField()){if(typeof _!="string")throw new ie(q.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!My(s)&&_.indexOf("/")!==-1)throw new ie(q.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var b=s.path.child(rt.fromString(_));if(!Se.isDocumentKey(b))throw new ie(q.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+b+"' is not because it contains an odd number of segments.");var S=new Se(b);m.push(Zf(a,S))}else{var I=nC(l,f,_);m.push(I)}}return new mc(m,v)}(e._query,e.firestore._databaseId,o,t,n,r)}function yT(e,t,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new ie(q.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!My(t)&&n.indexOf("/")!==-1)throw new ie(q.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(rt.fromString(n));if(!Se.isDocumentKey(r))throw new ie(q.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Zf(e,new Se(r))}if(n instanceof St)return Zf(e,n._key);throw new ie(q.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+nd(n)+".")}function _T(e,t){if(!Array.isArray(e)||e.length===0)throw new ie(q.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new ie(q.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function cC(e,t,n){if(!n.isEqual(t))throw new ie(q.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m_=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),us(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ut(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(mu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Ie()}},e.prototype.convertObject=function(t,n){var r=this,o={};return ms(t.fields,function(s,a){o[s]=r.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new rd(Ut(t.latitude),Ut(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=xA(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dc(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=io(t);return new Un(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=rt.fromString(t);Pe(sk(r));var o=new lh(r.get(1),r.get(3)),s=new Se(r.popFirst(5));return o.isEqual(n)||qt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var UU=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ce(t,e),t.prototype.convertBytes=function(n){return new ls(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new St(this.firestore,null,r)},t}(m_),BU=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ws(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=Gi(t,this._firestore),s=od(o.converter,n,r),a=id(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,r);return this._mutations.push(a.toMutation(o._key,vn.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var a,l=Gi(t,this._firestore);return a=typeof(n=ht(n))=="string"||n instanceof Xr?h_(this._dataReader,"WriteBatch.update",l._key,n,r,o):f_(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,vn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Gi(t,this._firestore);return this._mutations=this._mutations.concat(new Kc(n._key,vn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new ie(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(e,t){if((e=ht(e)).firestore!==t)throw new ie(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var es=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ce(t,e),t.prototype.convertBytes=function(n){return new ls(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new St(this.firestore,null,r)},t}(m_);function wT(e,t,n){e=ot(e,St);var r=ot(e.firestore,zt),o=od(e.converter,t,n);return Wc(r,[id(ws(r),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,vn.none())])}function bT(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=ot(e,St);var s=ot(e.firestore,zt),a=ws(s);return Wc(s,[(typeof(t=ht(t))=="string"||t instanceof Xr?h_(a,"updateDoc",e._key,t,n,r):f_(a,"updateDoc",e._key,t)).toMutation(e._key,vn.exists(!0))])}function lC(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=ht(e);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||Cu(o[l])||(a=o[l],l++);var f,d,v,h={includeMetadataChanges:a.includeMetadataChanges};if(Cu(o[l])){var m=o[l];o[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),o[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),o[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof St)d=ot(e.firestore,zt),v=Uc(e._key.path),f={next:function(b){o[l]&&o[l](yg(d,e,b))},error:o[l+1],complete:o[l+2]};else{var y=ot(e,ir);d=ot(y.firestore,zt),v=y._query;var _=new es(d);f={next:function(b){o[l]&&o[l](new Ki(d,_,y,b))},error:o[l+1],complete:o[l+2]},uC(e._query)}return function(b,S,I,R){var M=this,U=new ed(R),P=new e_(S,U,I);return b.asyncQueue.enqueueAndForget(function(){return Z(M,void 0,void 0,function(){var O;return Y(this,function(j){switch(j.label){case 0:return O=Yy,[4,ku(b)];case 1:return[2,O.apply(void 0,[j.sent(),P])]}})})}),function(){U.Wo(),b.asyncQueue.enqueueAndForget(function(){return Z(M,void 0,void 0,function(){var O;return Y(this,function(j){switch(j.label){case 0:return O=Jy,[4,ku(b)];case 1:return[2,O.apply(void 0,[j.sent(),P])]}})})})}}(pn(d),v,h,f)}function Wc(e,t){return function(n,r){var o=this,s=new $n;return n.asyncQueue.enqueueAndForget(function(){return Z(o,void 0,void 0,function(){var a;return Y(this,function(l){switch(l.label){case 0:return a=nU,[4,Kk(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(pn(e),t)}function yg(e,t,n){var r=n.docs.get(t._key),o=new es(e);return new di(e,o,t._key,r,new Xo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qU=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return Ce(t,e),t.prototype.get=function(n){var r=this,o=Gi(n,this._firestore),s=new es(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new di(r._firestore,s,o._key,a._document,new Xo(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=ws(t)}return e.prototype.get=function(t){var n=this,r=Gi(t,this._firestore),o=new UU(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return Ie();var a=s[0];if(a.isFoundDocument())return new bc(n._firestore,o,a.key,a,r.converter);if(a.isNoDocument())return new bc(n._firestore,o,r._key,null,r.converter);throw Ie()})},e.prototype.set=function(t,n,r){var o=Gi(t,this._firestore),s=od(o.converter,n,r),a=id(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a,l=Gi(t,this._firestore);return a=typeof(n=ht(n))=="string"||n instanceof Xr?h_(this._dataReader,"Transaction.update",l._key,n,r,o):f_(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=Gi(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(){if(typeof Uint8Array>"u")throw new ie(q.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function IT(){if(typeof atob>"u")throw new ie(q.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var fC=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return IT(),new e(ls.fromBase64String(t))},e.fromUint8Array=function(t){return ET(),new e(ls.fromUint8Array(t))},e.prototype.toBase64=function(){return IT(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return ET(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),$U=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){pT(r=ot(r,zt));var s=pn(r),a=r._freezeSettings(),l=new vg;return dT(s,l,new Bk(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){pT(n=ot(n,zt));var r=pn(n),o=n._freezeSettings(),s=new vg;return dT(r,s,new gU(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new ie(q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new $n;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return Z(r,void 0,void 0,function(){var s;return Y(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return Z(this,void 0,void 0,function(){var f;return Y(this,function(d){switch(d.label){case 0:return Eu.yt()?(f=l+"main",[4,Eu.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(Ky(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return s=a.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),hC=function(){function e(t,n,r){var o=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof lh||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Yf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(o,s,a,l){var f;l===void 0&&(l={});var d=(o=ot(o,wc))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==s&&Yf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:s+":"+a,ssl:!1})),l.mockUserToken){var v,h;if(typeof l.mockUserToken=="string")v=l.mockUserToken,h=on.MOCK_USER;else{v=_1(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new ie(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new on(m)}o._credentials=new EU(new Gk(v,h))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return Z(n,void 0,void 0,function(){var r,o;return Y(this,function(s){switch(s.label){case 0:return[4,rT(t)];case 1:return r=s.sent(),[4,iT(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=me(a);return l.Or.delete(0),Gc(l)}(o))]}})})})}(pn(ot(this._delegate,zt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return Z(n,void 0,void 0,function(){var r,o;return Y(this,function(s){switch(s.label){case 0:return[4,rT(t)];case 1:return r=s.sent(),[4,iT(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return Z(this,void 0,void 0,function(){var l;return Y(this,function(f){switch(f.label){case 0:return(l=me(a)).Or.add(0),[4,qu(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(pn(ot(this._delegate,zt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&zk("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new $n;return t.asyncQueue.enqueueAndForget(function(){return Z(n,void 0,void 0,function(){var o;return Y(this,function(s){switch(s.label){case 0:return o=sU,[4,Kk(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(pn(ot(this._delegate,zt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var a=this,l=new ed(s);return o.asyncQueue.enqueueAndForget(function(){return Z(a,void 0,void 0,function(){var f;return Y(this,function(d){switch(d.label){case 0:return f=function(v,h){me(v).Gr.add(h),h.next()},[4,ku(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return Z(a,void 0,void 0,function(){var f;return Y(this,function(d){switch(d.label){case 0:return f=function(v,h){me(v).Gr.delete(h)},[4,ku(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(pn(n=ot(n,zt)),Cu(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new ie(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new dh(this,Wk(this._delegate,t))}catch(n){throw Tn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new ts(this,Pf(this._delegate,t))}catch(n){throw Tn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new ad(this,function(n,r){if(n=ot(n,wc),a_("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new ie(q.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ir(n,null,function(o){return new _i(rt.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw Tn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,a){var l=this,f=new $n;return s.asyncQueue.enqueueAndForget(function(){return Z(l,void 0,void 0,function(){var d;return Y(this,function(v){switch(v.label){case 0:return[4,function(h){return td(h).then(function(m){return m.datastore})}(s)];case 1:return d=v.sent(),new _U(s.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(pn(r),function(s){return o(new qU(r,s))})}(this._delegate,function(r){return t(new dC(n,r))})},e.prototype.batch=function(){var t=this;return pn(this._delegate),new pC(new BU(this._delegate,function(n){return Wc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new ie(q.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new ie(q.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),sd=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ce(t,e),t.prototype.convertBytes=function(n){return new fC(new ls(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return ts.eu(r,this.firestore,null)},t}(m_);function HU(e){var t;t=e,Cr.setLogLevel(t)}var dC=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new sd(t)}return e.prototype.get=function(t){var n=this,r=Qo(t);return this._delegate.get(r).then(function(o){return new Ec(n._firestore,new di(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r.converter))})},e.prototype.set=function(t,n,r){var o=Qo(t);return r?(c_("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Qo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Et([l,n,r],s)),this},e.prototype.delete=function(t){var n=Qo(t);return this._delegate.delete(n),this},e}(),pC=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=Qo(t);return r?(c_("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Qo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Et([l,n,r],s)),this},e.prototype.delete=function(t){var n=Qo(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),ud=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Ga(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ic(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new sd(t),n),o.set(n,s)),s},e}();ud.su=new WeakMap;var ts=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new sd(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new ie(q.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new St(n._delegate,r,new Se(t)))},e.eu=function(t,n,r){return new e(n,new St(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new dh(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new dh(this.firestore,Wk(this._delegate,t))}catch(n){throw Tn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=ht(t))instanceof St&&Xk(this._delegate,t)},e.prototype.set=function(t,n){n=c_("DocumentReference.set",n);try{return n?wT(this._delegate,t,n):wT(this._delegate,t)}catch(r){throw Tn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?bT(this._delegate,t):bT.apply(void 0,Et([this._delegate,t,n],r))}catch(s){throw Tn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Wc(ot((t=this._delegate).firestore,zt),[new Kc(t._key,vn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=mC(n),s=vC(n,function(a){return new Ec(t.firestore,new di(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return lC(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ot(r,St);var o=ot(r.firestore,zt),s=pn(o),a=new es(o);return function(l,f){var d=this,v=new $n;return l.asyncQueue.enqueueAndForget(function(){return Z(d,void 0,void 0,function(){var h;return Y(this,function(m){switch(m.label){case 0:return h=function(y,_,b){return Z(this,void 0,void 0,function(){var S,I;return Y(this,function(R){switch(R.label){case 0:return R.trys.push([0,2,,3]),[4,function(M,U){var P=me(M);return P.persistence.runTransaction("read document","readonly",function(O){return P.Mn.mn(O,U)})}(y,_)];case 1:return(I=R.sent()).isFoundDocument()?b.resolve(I):I.isNoDocument()?b.resolve(null):b.reject(new ie(q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=R.sent(),I=Ku(S,"Failed to get document '"+_+" from cache"),b.reject(I),[3,3];case 3:return[2]}})})},[4,Hk(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,v])]}})})}),v.promise}(s,r._key).then(function(l){return new di(o,a,r._key,l,new Xo(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ot(r,St);var o=ot(r.firestore,zt);return oT(pn(o),r._key,{source:"server"}).then(function(s){return yg(o,r,s)})}(this._delegate):function(r){r=ot(r,St);var o=ot(r.firestore,zt);return oT(pn(o),r._key).then(function(s){return yg(o,r,s)})}(this._delegate)).then(function(r){return new Ec(n.firestore,new di(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ud.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Tn(e,t,n){return e.message=e.message.replace(t,n),e}function mC(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Cu(r))return r}return{}}function vC(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=Cu(e[0])?e[0]:Cu(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var Ec=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new ts(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return sC(this._delegate,t._delegate)},e}(),Ic=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Ec),ad=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new sd(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Li(this._delegate,function(o,s,a){var l=s,f=hh("where",o);return new VU(f,l,a)}(t,n,r)))}catch(o){throw Tn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Li(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,a=hh("orderBy",r);return new jU(a,s)}(t,n)))}catch(r){throw Tn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Li(this._delegate,function(n){return fT("limit",n),new mT("limit",n,"F")}(t)))}catch(n){throw Tn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Li(this._delegate,function(n){return fT("limitToLast",n),new mT("limitToLast",n,"L")}(t)))}catch(n){throw Tn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Li(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new vT("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw Tn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Li(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new vT("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw Tn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Li(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new gT("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw Tn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Li(this._delegate,function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new gT("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw Tn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Qk(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ot(r,ir);var o=ot(r.firestore,zt),s=pn(o),a=new es(o);return function(l,f){var d=this,v=new $n;return l.asyncQueue.enqueueAndForget(function(){return Z(d,void 0,void 0,function(){var h;return Y(this,function(m){switch(m.label){case 0:return h=function(y,_,b){return Z(this,void 0,void 0,function(){var S,I,R,M,U;return Y(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,uh(y,_,!0)];case 1:return U=P.sent(),S=new Mk(_,U.Bn),I=S._o(U.documents),R=S.applyChanges(I,!1),b.resolve(R.snapshot),[3,3];case 2:return M=P.sent(),U=Ku(M,"Failed to execute query '"+_+" against cache"),b.reject(U),[3,3];case 3:return[2]}})})},[4,Hk(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,v])]}})})}),v.promise}(s,r._query).then(function(l){return new Ki(o,a,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ot(r,ir);var o=ot(r.firestore,zt),s=pn(o),a=new es(o);return sT(s,r._query,{source:"server"}).then(function(l){return new Ki(o,a,r,l)})}(this._delegate):function(r){r=ot(r,ir);var o=ot(r.firestore,zt),s=pn(o),a=new es(o);return uC(r._query),sT(s,r._query).then(function(l){return new Ki(o,a,r,l)})}(this._delegate)).then(function(r){return new _g(n.firestore,new Ki(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=mC(n),s=vC(n,function(a){return new _g(t.firestore,new Ki(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return lC(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ud.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),KU=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ic(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),_g=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new ad(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Ic(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new KU(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new Ic(r._firestore,o))})},e.prototype.isEqual=function(t){return sC(this._delegate,t._delegate)},e}(),dh=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return Ce(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new ts(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new ts(this.firestore,n===void 0?Pf(this._delegate):Pf(this._delegate,n))}catch(r){throw Tn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var a=ot(o.firestore,zt),l=Pf(o),f=od(o.converter,s);return Wc(a,[id(ws(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,vn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new ts(r.firestore,o)})},t.prototype.isEqual=function(n){return Xk(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(ud.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(ad);function Qo(e){return ot(e,St)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GU=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Xr.bind.apply(Xr,Et([void 0],t)))}return e.documentId=function(){return new e(Pr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=ht(t))instanceof Xr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),zU=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new RU("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new l_("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new xU("arrayUnion",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new PU("arrayRemove",o)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new DU("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),WU={Firestore:hC,GeoPoint:rd,Timestamp:Un,Blob:fC,Transaction:dC,WriteBatch:pC,DocumentReference:ts,DocumentSnapshot:Ec,Query:ad,QueryDocumentSnapshot:Ic,QuerySnapshot:_g,CollectionReference:dh,FieldPath:GU,FieldValue:zU,setLogLevel:HU,CACHE_SIZE_UNLIMITED:kU};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(e){(function(t,n){t.INTERNAL.registerComponent(new Oc("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},WU)))})(e,function(t,n){return new hC(t,new zt(t,n),new $U)}),e.registerVersion("@firebase/firestore","2.4.1")}XU(Re);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gC="firebasestorage.googleapis.com",yC="storageBucket",QU=2*60*1e3,YU=10*60*1e3,Ht=function(e){Ce(t,e);function t(n,r){var o=e.call(this,yv(n),"Firebase Storage: "+r+" ("+yv(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return yv(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(b1);function yv(e){return"storage/"+e}function v_(){var e="An unknown error occurred, please check the error payload for server response.";return new Ht("unknown",e)}function JU(e){return new Ht("object-not-found","Object '"+e+"' does not exist.")}function ZU(e){return new Ht("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function e2(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ht("unauthenticated",e)}function t2(){return new Ht("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function n2(e){return new Ht("unauthorized","User does not have permission to access '"+e+"'.")}function r2(){return new Ht("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function _C(){return new Ht("canceled","User canceled the upload/download.")}function i2(e){return new Ht("invalid-url","Invalid URL '"+e+"'.")}function o2(e){return new Ht("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function s2(){return new Ht("no-default-bucket","No default bucket found. Did you set the '"+yC+"' property when initializing the app?")}function wC(){return new Ht("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function u2(){return new Ht("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function a2(){return new Ht("no-download-url","The given file does not have any download URLs.")}function su(e){return new Ht("invalid-argument",e)}function bC(){return new Ht("app-deleted","The Firebase app was deleted.")}function EC(e){return new Ht("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function za(e,t){return new Ht("invalid-format","String does not match format '"+e+"': "+t)}function mf(e){throw new Ht("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},_v=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function IC(e,t){switch(e){case hr.RAW:return new _v(TC(t));case hr.BASE64:case hr.BASE64URL:return new _v(SC(e,t));case hr.DATA_URL:return new _v(f2(t),h2(t))}throw v_()}function TC(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function l2(e){var t;try{t=decodeURIComponent(e)}catch{throw za(hr.DATA_URL,"Malformed data URL.")}return TC(t)}function SC(e,t){switch(e){case hr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var o=n?"-":"_";throw za(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case hr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var o=s?"+":"/";throw za(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=c2(t)}catch{throw za(e,"Invalid character found")}for(var f=new Uint8Array(l.length),d=0;d<l.length;d++)f[d]=l.charCodeAt(d);return f}var AC=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw za(hr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=d2(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function f2(e){var t=new AC(e);return t.base64?SC(hr.BASE64,t.rest):l2(t.rest)}function h2(e){var t=new AC(e);return t.contentType}function d2(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p2={STATE_CHANGED:"state_changed"},Sn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function wv(e){switch(e){case"running":case"pausing":case"canceling":return Sn.RUNNING;case"paused":return Sn.PAUSED;case"success":return Sn.SUCCESS;case"canceled":return Sn.CANCELED;case"error":return Sn.ERROR;default:return Sn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ns;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ns||(ns={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m2=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ns.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=ns.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=ns.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,o){if(this.sent_)throw mf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw mf("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw mf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw mf("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function v2(){return new m2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g2=function(){function e(){}return e.prototype.createConnection=function(){return v2()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw o2(t)},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)";function s(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+o+a,"i"),f={bucket:1,path:3};function d(F){F.path_=decodeURIComponent(F.path)}for(var v="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+h+"/"+v+"/b/"+o+"/o"+m,"i"),_={bucket:1,path:3},b=n===gC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",I=new RegExp("^https?://"+b+"/"+o+"/"+S,"i"),R={bucket:1,path:2},M=[{regex:l,indices:f,postModify:s},{regex:y,indices:_,postModify:d},{regex:I,indices:R,postModify:d}],U=0;U<M.length;U++){var P=M[U],O=P.regex.exec(t);if(O){var j=O[P.indices.bucket],x=O[P.indices.path];x||(x=""),r=new e(j,x),P.postModify(r);break}}if(r==null)throw i2(t);return r},e}(),y2=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(e,t,n){var r=1,o=null,s=!1,a=0;function l(){return a===2}var f=!1;function d(){for(var _=[],b=0;b<arguments.length;b++)_[b]=arguments[b];f||(f=!0,t.apply(null,_))}function v(_){o=setTimeout(function(){o=null,e(h,l())},_)}function h(_){for(var b=[],S=1;S<arguments.length;S++)b[S-1]=arguments[S];if(!f){if(_){d.call.apply(d,Et([null,_],b));return}var I=l()||s;if(I){d.call.apply(d,Et([null,_],b));return}r<64&&(r*=2);var R;a===1?(a=2,R=0):R=(r+Math.random())*1e3,v(R)}}var m=!1;function y(_){m||(m=!0,!f&&(o!==null?(_||(a=2),clearTimeout(o),v(0)):_||(a=1)))}return v(0),setTimeout(function(){s=!0,y(!0)},n),y}function w2(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(e){return e!==void 0}function E2(e){return typeof e=="function"}function I2(e){return typeof e=="object"&&!Array.isArray(e)}function cd(e){return typeof e=="string"||e instanceof String}function TT(e){return g_()&&e instanceof Blob}function g_(){return typeof Blob<"u"}function wg(e,t,n,r){if(r<t)throw su("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw su("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],o=t;return r==null&&(o="https://"+t),o+"/v0"+e}function kC(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T2=function(){function e(t,n,r,o,s,a,l,f,d,v,h){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=v,this.timeout_=d,this.pool_=h,this.promise_=new Promise(function(y,_){m.resolve_=y,m.reject_=_,m.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new vf(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(f){var d=f.loaded,v=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,v)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var f=a.getErrorCode()===ns.NO_ERROR,d=a.getStatus();if(!f||t.isRetryStatusCode_(d)){var v=a.getErrorCode()===ns.ABORT;o(!1,new vf(!1,null,v));return}var h=t.successCodes_.indexOf(d)!==-1;o(!0,new vf(h,a))})}function r(o,s){var a=t.resolve_,l=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());b2(d)?a(d):a()}catch(h){l(h)}else if(f!==null){var v=v_();v.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,v)):l(v)}else if(s.canceled){var v=t.appDelete_?bC():_C();l(v)}else{var v=r2();l(v)}}this.canceled_?r(!1,new vf(!1,null,!0)):this.backoffId_=_2(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&w2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],o=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),vf=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function S2(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function A2(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function k2(e,t){t&&(e["X-Firebase-GMPID"]=t)}function C2(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function O2(e,t,n,r,o,s){var a=kC(e.urlParams),l=e.url+a,f=Object.assign({},e.headers);return k2(f,t),S2(f,n),A2(f,s),C2(f,r),new T2(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function R2(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=N2();if(n!==void 0){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(g_())return new Blob(e);throw new Ht("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function x2(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y_=function(){function e(t,n){var r=0,o="";TT(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(TT(this.data_)){var r=this.data_,o=x2(r,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(g_()){var r=t.map(function(f){return f instanceof e?f.data_:f});return new e(R2.apply(null,r))}else{var o=t.map(function(f){return cd(f)?IC(hr.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var a=new Uint8Array(s),l=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)a[l++]=f[d]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(e){var t;try{t=JSON.parse(e)}catch{return null}return I2(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function D2(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function CC(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(e,t){return t}var En=function(){function e(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||L2}return e}(),gf=null;function M2(e){return!cd(e)||e.length<2?e:CC(e)}function ld(){if(gf)return gf;var e=[];e.push(new En("bucket")),e.push(new En("generation")),e.push(new En("metageneration")),e.push(new En("name","fullPath",!0));function t(s,a){return M2(a)}var n=new En("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var o=new En("size");return o.xform=r,e.push(o),e.push(new En("timeCreated")),e.push(new En("updated")),e.push(new En("md5Hash",null,!0)),e.push(new En("cacheControl",null,!0)),e.push(new En("contentDisposition",null,!0)),e.push(new En("contentEncoding",null,!0)),e.push(new En("contentLanguage",null,!0)),e.push(new En("contentType",null,!0)),e.push(new En("metadata","customMetadata",!0)),gf=e,gf}function F2(e,t){function n(){var r=e.bucket,o=e.fullPath,s=new dr(r,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function V2(e,t,n){var r={};r.type="file";for(var o=n.length,s=0;s<o;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return F2(r,e),r}function OC(e,t,n){var r=__(t);if(r===null)return null;var o=r;return V2(e,o,n)}function j2(e,t,n){var r=__(t);if(r===null||!cd(r.downloadTokens))return null;var o=r.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,a=o.split(","),l=a.map(function(f){var d=e.bucket,v=e.fullPath,h="/b/"+s(d)+"/o/"+s(v),m=po(h,n),y=kC({alt:"media",token:f});return m+y});return l[0]}function w_(e,t){for(var n={},r=t.length,o=0;o<r;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ST="prefixes",AT="items";function U2(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[ST])for(var o=0,s=n[ST];o<s.length;o++){var a=s[o],l=a.replace(/\/$/,""),f=e._makeStorageReference(new dr(t,l));r.prefixes.push(f)}if(n[AT])for(var d=0,v=n[AT];d<v.length;d++){var h=v[d],f=e._makeStorageReference(new dr(t,h.name));r.items.push(f)}return r}function B2(e,t,n){var r=__(n);if(r===null)return null;var o=r;return U2(e,t,o)}var wi=function(){function e(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(e){if(!e)throw v_()}function fd(e,t){function n(r,o){var s=OC(e,o,t);return Qr(s!==null),s}return n}function q2(e,t){function n(r,o){var s=B2(e,t,o);return Qr(s!==null),s}return n}function $2(e,t){function n(r,o){var s=OC(e,o,t);return Qr(s!==null),j2(s,o,e.host)}return n}function Gu(e){function t(n,r){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=t2():o=e2():n.getStatus()===402?o=ZU(e.bucket):n.getStatus()===403?o=n2(e.path):o=r,o.serverResponse=r.serverResponse,o}return t}function hd(e){var t=Gu(e);function n(r,o){var s=t(r,o);return r.getStatus()===404&&(s=JU(e.path)),s.serverResponse=o.serverResponse,s}return n}function NC(e,t,n){var r=t.fullServerUrl(),o=po(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new wi(o,s,fd(e,n),a);return l.errorHandler=hd(t),l}function H2(e,t,n,r,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),o&&(s.maxResults=o);var a=t.bucketOnlyServerUrl(),l=po(a,e.host),f="GET",d=e.maxOperationRetryTime,v=new wi(l,f,q2(e,t.bucket),d);return v.urlParams=s,v.errorHandler=Gu(t),v}function K2(e,t,n){var r=t.fullServerUrl(),o=po(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new wi(o,s,$2(e,n),a);return l.errorHandler=hd(t),l}function G2(e,t,n,r){var o=t.fullServerUrl(),s=po(o,e.host),a="PATCH",l=w_(n,r),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,v=new wi(s,a,fd(e,r),d);return v.headers=f,v.body=l,v.errorHandler=hd(t),v}function z2(e,t){var n=t.fullServerUrl(),r=po(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function a(f,d){}var l=new wi(r,o,a,s);return l.successCodes=[200,204],l.errorHandler=hd(t),l}function W2(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function RC(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=W2(null,t)),r}function X2(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var M="",U=0;U<2;U++)M=M+Math.random().toString().slice(2);return M}var f=l();a["Content-Type"]="multipart/related; boundary="+f;var d=RC(t,r,o),v=w_(d,n),h="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,m=`\r
--`+f+"--",y=y_.getBlob(h,r,m);if(y===null)throw wC();var _={name:d.fullPath},b=po(s,e.host),S="POST",I=e.maxUploadRetryTime,R=new wi(b,S,fd(e,n),I);return R.urlParams=_,R.headers=a,R.body=y.uploadData(),R.errorHandler=Gu(t),R}var ph=function(){function e(t,n,r,o){this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null}return e}();function b_(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Qr(!1)}var r=t||["active"];return Qr(!!n&&r.indexOf(n)!==-1),n}function Q2(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),a=RC(t,r,o),l={name:a.fullPath},f=po(s,e.host),d="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},h=w_(a,n),m=e.maxUploadRetryTime;function y(b){b_(b);var S;try{S=b.getResponseHeader("X-Goog-Upload-URL")}catch{Qr(!1)}return Qr(cd(S)),S}var _=new wi(f,d,y,m);return _.urlParams=l,_.headers=v,_.body=h,_.errorHandler=Gu(t),_}function Y2(e,t,n,r){var o={"X-Goog-Upload-Command":"query"};function s(d){var v=b_(d,["active","final"]),h=null;try{h=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Qr(!1)}h||Qr(!1);var m=Number(h);return Qr(!isNaN(m)),new ph(m,r.size(),v==="final")}var a="POST",l=e.maxUploadRetryTime,f=new wi(n,a,s,l);return f.headers=o,f.errorHandler=Gu(t),f}var kT=256*1024;function J2(e,t,n,r,o,s,a,l){var f=new ph(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw u2();var d=f.total-f.current,v=d;o>0&&(v=Math.min(v,o));var h=f.current,m=h+v,y=v===d?"upload, finalize":"upload",_={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+f.current},b=r.slice(h,m);if(b===null)throw wC();function S(U,P){var O=b_(U,["active","final"]),j=f.current+v,x=r.size(),F;return O==="final"?F=fd(t,s)(U,P):F=null,new ph(j,x,O==="final",F)}var I="POST",R=t.maxUploadRetryTime,M=new wi(n,I,S,R);return M.headers=_,M.body=b.uploadData(),M.progressCallback=l||null,M.errorHandler=Gu(e),M}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z2=function(){function e(t,n,r){var o=E2(t)||n!=null||r!=null;if(o)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xC=function(){function e(t,n,r){var o=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=ld(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,a){o._resolve=s,o._reject=a,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var o=r[0],s=r[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var o=Q2(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,o){var s=Y2(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,o);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=kT*this._chunkMultiplier,r=new ph(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=J2(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(l,s,a);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=kT*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var o=NC(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var o=X2(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=_C(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=wv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,o){var s=this,a=new Z2(n,r,o);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(wv(this._state)){case Sn.SUCCESS:Ws(this._resolve.bind(null,this.snapshot))();break;case Sn.CANCELED:case Sn.ERROR:var n=this._reject;Ws(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=wv(this._state);switch(n){case Sn.RUNNING:case Sn.PAUSED:t.next&&Ws(t.next.bind(t,this.snapshot))();break;case Sn.SUCCESS:t.complete&&Ws(t.complete.bind(t))();break;case Sn.CANCELED:case Sn.ERROR:t.error&&Ws(t.error.bind(t,this._error))();break;default:t.error&&Ws(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dd=function(){function e(t,n){this._service=t,n instanceof dr?this._location=n:this._location=dr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new dr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return CC(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=P2(this._location.path);if(t===null)return null;var n=new dr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw EC(t)},e}();function eB(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new xC(e,new y_(t),n)}function tB(e){var t={prefixes:[],items:[]};return PC(e,t).then(function(){return t})}function PC(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,a;return Y(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,DC(e,r)];case 1:return o=l.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(a=t.items).push.apply(a,o.items),o.nextPageToken==null?[3,3]:[4,PC(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function DC(e,t){return Z(this,void 0,void 0,function(){var n,r;return Y(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&wg("options.maxResults",1,1e3,t.maxResults),n=t||{},r=H2(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,o.sent().getPromise()]}})})}function nB(e){return Z(this,void 0,void 0,function(){var t;return Y(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=NC(e.storage,e._location,ld()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function rB(e,t){return Z(this,void 0,void 0,function(){var n;return Y(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=G2(e.storage,e._location,t,ld()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function iB(e){return Z(this,void 0,void 0,function(){var t;return Y(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=K2(e.storage,e._location,ld()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw a2();return r})]}})})}function oB(e){return Z(this,void 0,void 0,function(){var t;return Y(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=z2(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function LC(e,t){var n=D2(e._location.path,t),r=new dr(e._location.bucket,n);return new dd(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(e){return/^[A-Za-z]+:\/\//.test(e)}function sB(e,t){return new dd(e,t)}function MC(e,t){if(e instanceof pd){var n=e;if(n._bucket==null)throw s2();var r=new dd(n,n._bucket);return t!=null?MC(r,t):r}else return t!==void 0?LC(e,t):e}function uB(e,t){if(t&&bg(t)){if(e instanceof pd)return sB(e,t);throw su("To use ref(service, url), the first argument must be a Storage instance.")}else return MC(e,t)}function CT(e,t){var n=t==null?void 0:t[yC];return n==null?null:dr.makeFromBucketSpec(n,e)}function aB(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var o=r.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:_1(o,e.app.options.projectId))}var pd=function(){function e(t,n,r,o,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=o,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=gC,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QU,this._maxUploadRetryTime=YU,this._requests=new Set,s!=null?this._bucket=dr.makeFromBucketSpec(s,this._host):this._bucket=CT(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=dr.makeFromBucketSpec(this._url,t):this._bucket=CT(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){wg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){wg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Z(this,void 0,void 0,function(){var t,n;return Y(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return Z(this,void 0,void 0,function(){var t,n;return Y(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new dd(this,t)},e.prototype._makeRequest=function(t,n,r){var o=this;if(this._deleted)return new y2(bC());var s=O2(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return Z(this,void 0,void 0,function(){var n,r,o;return Y(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],o=n[1],[2,this._makeRequest(t,r,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(e,t,n){return e=ht(e),eB(e,t,n)}function lB(e){return e=ht(e),nB(e)}function fB(e,t){return e=ht(e),rB(e,t)}function hB(e,t){return e=ht(e),DC(e,t)}function dB(e){return e=ht(e),tB(e)}function pB(e){return e=ht(e),iB(e)}function mB(e){return e=ht(e),oB(e)}function OT(e,t){return e=ht(e),uB(e,t)}function vB(e,t){return LC(e,t)}function gB(e,t,n,r){r===void 0&&(r={}),aB(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yf=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NT=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new yf(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(o){if(t)return t(new yf(o,r,r._ref))},n)},e.prototype.on=function(t,n,r,o){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new yf(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new yf(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,o||void 0)},e}(),RT=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Tc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Tc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=vB(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new NT(cB(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=hr.RAW),this._throwIfRoot("putString");var o=IC(n,t),s=lu({},r);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new NT(new xC(this._delegate,new y_(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return dB(this._delegate).then(function(n){return new RT(n,t.storage)})},e.prototype.list=function(t){var n=this;return hB(this._delegate,t||void 0).then(function(r){return new RT(r,n.storage)})},e.prototype.getMetadata=function(){return lB(this._delegate)},e.prototype.updateMetadata=function(t){return fB(this._delegate,t)},e.prototype.getDownloadURL=function(){return pB(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),mB(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw EC(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yB=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(bg(t))throw su("ref() expected a child path but got a URL, use refFromURL instead.");return new Tc(OT(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!bg(t))throw su("refFromURL() expected a full URL but got a child path, use ref() instead.");try{dr.makeFromUrl(t,this._delegate.host)}catch{throw su("refFromUrl() expected a valid full URL but got an invalid one.")}return new Tc(OT(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),gB(this._delegate,t,n,r)},e}(),_B="@firebase/storage",wB="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bB="storage";function EB(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new yB(r,new pd(r,o,s,new g2,n,Re.SDK_VERSION));return a}function IB(e){var t={TaskState:Sn,TaskEvent:p2,StringFormat:hr,Storage:pd,Reference:Tc};e.INTERNAL.registerComponent(new Oc(bB,EB,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(_B,wB)}IB(Re);const TB={apiKey:"AIzaSyD34N8yoMKriJHF8zLhIL67q62SYcKdQiQ",authDomain:"music-ad8bb.firebaseapp.com",projectId:"music-ad8bb",storageBucket:"music-ad8bb.appspot.com",appId:"1:246971294867:web:00f7c8c458f45083415966"};Re.initializeApp(TB);const Rr=Re.auth(),E_=Re.firestore(),FC=Re.storage(),SB=E_.collection("users"),pi=E_.collection("songs"),xT=E_.collection("comments"),zu=ty("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await Rr.createUserWithEmailAndPassword(e.email,e.password);await SB.doc(t.user.uid).set({name:e.name,age:e.age,email:e.email,country:e.country}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await Rr.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await Rr.signOut(),this.userLoggedIn=!1}}});/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Zs=typeof window<"u";function AB(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ut=Object.assign;function bv(e,t){const n={};for(const r in t){const o=t[r];n[r]=Dr(o)?o.map(e):e(o)}return n}const Wa=()=>{},Dr=Array.isArray,kB=/\/$/,CB=e=>e.replace(kB,"");function Ev(e,t,n="/"){let r,o={},s="",a="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(r=t.slice(0,f),s=t.slice(f+1,l>-1?l:t.length),o=e(s)),l>-1&&(r=r||t.slice(0,l),a=t.slice(l,t.length)),r=xB(r??t,n),{fullPath:r+(s&&"?")+s+a,path:r,query:o,hash:a}}function OB(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function PT(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function NB(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&Ou(t.matched[r],n.matched[o])&&VC(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ou(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function VC(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!RB(e[n],t[n]))return!1;return!0}function RB(e,t){return Dr(e)?DT(e,t):Dr(t)?DT(t,e):e===t}function DT(e,t){return Dr(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function xB(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var Sc;(function(e){e.pop="pop",e.push="push"})(Sc||(Sc={}));var Xa;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Xa||(Xa={}));function PB(e){if(!e)if(Zs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),CB(e)}const DB=/^[^#]+#/;function LB(e,t){return e.replace(DB,"#")+t}function MB(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const md=()=>({left:window.pageXOffset,top:window.pageYOffset});function FB(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=MB(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function LT(e,t){return(history.state?history.state.position-t:-1)+e}const Eg=new Map;function VB(e,t){Eg.set(e,t)}function jB(e){const t=Eg.get(e);return Eg.delete(e),t}let UB=()=>location.protocol+"//"+location.host;function jC(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let l=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),PT(f,"")}return PT(n,e)+r+o}function BB(e,t,n,r){let o=[],s=[],a=null;const l=({state:m})=>{const y=jC(e,location),_=n.value,b=t.value;let S=0;if(m){if(n.value=y,t.value=m,a&&a===_){a=null;return}S=b?m.position-b.position:0}else r(y);o.forEach(I=>{I(n.value,_,{delta:S,type:Sc.pop,direction:S?S>0?Xa.forward:Xa.back:Xa.unknown})})};function f(){a=n.value}function d(m){o.push(m);const y=()=>{const _=o.indexOf(m);_>-1&&o.splice(_,1)};return s.push(y),y}function v(){const{history:m}=window;m.state&&m.replaceState(ut({},m.state,{scroll:md()}),"")}function h(){for(const m of s)m();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",v),{pauseListeners:f,listen:d,destroy:h}}function MT(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?md():null}}function qB(e){const{history:t,location:n}=window,r={value:jC(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,d,v){const h=e.indexOf("#"),m=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+f:UB()+e+f;try{t[v?"replaceState":"pushState"](d,"",m),o.value=d}catch(y){console.error(y),n[v?"replace":"assign"](m)}}function a(f,d){const v=ut({},t.state,MT(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});s(f,v,!0),r.value=f}function l(f,d){const v=ut({},o.value,t.state,{forward:f,scroll:md()});s(v.current,v,!0);const h=ut({},MT(r.value,f,null),{position:v.position+1},d);s(f,h,!1),r.value=f}return{location:r,state:o,push:l,replace:a}}function $B(e){e=PB(e);const t=qB(e),n=BB(e,t.state,t.location,t.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const o=ut({location:"",base:e,go:r,createHref:LB.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function HB(e){return typeof e=="string"||e&&typeof e=="object"}function UC(e){return typeof e=="string"||typeof e=="symbol"}const Mi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},BC=Symbol("");var FT;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(FT||(FT={}));function Nu(e,t){return ut(new Error,{type:e,[BC]:!0},t)}function si(e,t){return e instanceof Error&&BC in e&&(t==null||!!(e.type&t))}const VT="[^/]+?",KB={sensitive:!1,strict:!1,start:!0,end:!0},GB=/[.+*?^${}()[\]/\\]/g;function zB(e,t){const n=ut({},KB,t),r=[];let o=n.start?"^":"";const s=[];for(const d of e){const v=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let h=0;h<d.length;h++){const m=d[h];let y=40+(n.sensitive?.25:0);if(m.type===0)h||(o+="/"),o+=m.value.replace(GB,"\\$&"),y+=40;else if(m.type===1){const{value:_,repeatable:b,optional:S,regexp:I}=m;s.push({name:_,repeatable:b,optional:S});const R=I||VT;if(R!==VT){y+=10;try{new RegExp(`(${R})`)}catch(U){throw new Error(`Invalid custom RegExp for param "${_}" (${R}): `+U.message)}}let M=b?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;h||(M=S&&d.length<2?`(?:/${M})`:"/"+M),S&&(M+="?"),o+=M,y+=20,S&&(y+=-8),b&&(y+=-20),R===".*"&&(y+=-50)}v.push(y)}r.push(v)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const v=d.match(a),h={};if(!v)return null;for(let m=1;m<v.length;m++){const y=v[m]||"",_=s[m-1];h[_.name]=y&&_.repeatable?y.split("/"):y}return h}function f(d){let v="",h=!1;for(const m of e){(!h||!v.endsWith("/"))&&(v+="/"),h=!1;for(const y of m)if(y.type===0)v+=y.value;else if(y.type===1){const{value:_,repeatable:b,optional:S}=y,I=_ in d?d[_]:"";if(Dr(I)&&!b)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const R=Dr(I)?I.join("/"):I;if(!R)if(S)m.length<2&&(v.endsWith("/")?v=v.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);v+=R}}return v||"/"}return{re:a,score:r,keys:s,parse:l,stringify:f}}function WB(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function XB(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=WB(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(jT(r))return 1;if(jT(o))return-1}return o.length-r.length}function jT(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const QB={type:0,value:""},YB=/[a-zA-Z0-9_]/;function JB(e){if(!e)return[[]];if(e==="/")return[[QB]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${d}": ${y}`)}let n=0,r=n;const o=[];let s;function a(){s&&o.push(s),s=[]}let l=0,f,d="",v="";function h(){d&&(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:v,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function m(){d+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(d&&h(),a()):f===":"?(h(),n=1):m();break;case 4:m(),n=r;break;case 1:f==="("?n=2:YB.test(f)?m():(h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+f:n=3:v+=f;break;case 3:h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,v="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),h(),a(),o}function ZB(e,t,n){const r=zB(JB(e.path),n),o=ut(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function eq(e,t){const n=[],r=new Map;t=qT({strict:!1,end:!0,sensitive:!1},t);function o(v){return r.get(v)}function s(v,h,m){const y=!m,_=tq(v);_.aliasOf=m&&m.record;const b=qT(t,v),S=[_];if("alias"in v){const M=typeof v.alias=="string"?[v.alias]:v.alias;for(const U of M)S.push(ut({},_,{components:m?m.record.components:_.components,path:U,aliasOf:m?m.record:_}))}let I,R;for(const M of S){const{path:U}=M;if(h&&U[0]!=="/"){const P=h.record.path,O=P[P.length-1]==="/"?"":"/";M.path=h.record.path+(U&&O+U)}if(I=ZB(M,h,b),m?m.alias.push(I):(R=R||I,R!==I&&R.alias.push(I),y&&v.name&&!BT(I)&&a(v.name)),_.children){const P=_.children;for(let O=0;O<P.length;O++)s(P[O],I,m&&m.children[O])}m=m||I,(I.record.components&&Object.keys(I.record.components).length||I.record.name||I.record.redirect)&&f(I)}return R?()=>{a(R)}:Wa}function a(v){if(UC(v)){const h=r.get(v);h&&(r.delete(v),n.splice(n.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=n.indexOf(v);h>-1&&(n.splice(h,1),v.record.name&&r.delete(v.record.name),v.children.forEach(a),v.alias.forEach(a))}}function l(){return n}function f(v){let h=0;for(;h<n.length&&XB(v,n[h])>=0&&(v.record.path!==n[h].record.path||!qC(v,n[h]));)h++;n.splice(h,0,v),v.record.name&&!BT(v)&&r.set(v.record.name,v)}function d(v,h){let m,y={},_,b;if("name"in v&&v.name){if(m=r.get(v.name),!m)throw Nu(1,{location:v});b=m.record.name,y=ut(UT(h.params,m.keys.filter(R=>!R.optional).map(R=>R.name)),v.params&&UT(v.params,m.keys.map(R=>R.name))),_=m.stringify(y)}else if("path"in v)_=v.path,m=n.find(R=>R.re.test(_)),m&&(y=m.parse(_),b=m.record.name);else{if(m=h.name?r.get(h.name):n.find(R=>R.re.test(h.path)),!m)throw Nu(1,{location:v,currentLocation:h});b=m.record.name,y=ut({},h.params,v.params),_=m.stringify(y)}const S=[];let I=m;for(;I;)S.unshift(I.record),I=I.parent;return{name:b,path:_,params:y,matched:S,meta:rq(S)}}return e.forEach(v=>s(v)),{addRoute:s,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function UT(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function tq(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:nq(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function nq(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function BT(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function rq(e){return e.reduce((t,n)=>ut(t,n.meta),{})}function qT(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function qC(e,t){return t.children.some(n=>n===e||qC(e,n))}const $C=/#/g,iq=/&/g,oq=/\//g,sq=/=/g,uq=/\?/g,HC=/\+/g,aq=/%5B/g,cq=/%5D/g,KC=/%5E/g,lq=/%60/g,GC=/%7B/g,fq=/%7C/g,zC=/%7D/g,hq=/%20/g;function I_(e){return encodeURI(""+e).replace(fq,"|").replace(aq,"[").replace(cq,"]")}function dq(e){return I_(e).replace(GC,"{").replace(zC,"}").replace(KC,"^")}function Ig(e){return I_(e).replace(HC,"%2B").replace(hq,"+").replace($C,"%23").replace(iq,"%26").replace(lq,"`").replace(GC,"{").replace(zC,"}").replace(KC,"^")}function pq(e){return Ig(e).replace(sq,"%3D")}function mq(e){return I_(e).replace($C,"%23").replace(uq,"%3F")}function vq(e){return e==null?"":mq(e).replace(oq,"%2F")}function mh(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function gq(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(HC," "),a=s.indexOf("="),l=mh(a<0?s:s.slice(0,a)),f=a<0?null:mh(s.slice(a+1));if(l in t){let d=t[l];Dr(d)||(d=t[l]=[d]),d.push(f)}else t[l]=f}return t}function $T(e){let t="";for(let n in e){const r=e[n];if(n=pq(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Dr(r)?r.map(s=>s&&Ig(s)):[r&&Ig(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function yq(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Dr(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const _q=Symbol(""),HT=Symbol(""),T_=Symbol(""),WC=Symbol(""),Tg=Symbol("");function Da(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function qi(e,t,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=h=>{h===!1?l(Nu(4,{from:n,to:t})):h instanceof Error?l(h):HB(h)?l(Nu(2,{from:t,to:h})):(s&&r.enterCallbacks[o]===s&&typeof h=="function"&&s.push(h),a())},d=e.call(r&&r.instances[o],t,n,f);let v=Promise.resolve(d);e.length<3&&(v=v.then(f)),v.catch(h=>l(h))})}function Iv(e,t,n,r){const o=[];for(const s of e)for(const a in s.components){let l=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(wq(l)){const d=(l.__vccOpts||l)[t];d&&o.push(qi(d,n,r,s,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const v=AB(d)?d.default:d;s.components[a]=v;const m=(v.__vccOpts||v)[t];return m&&qi(m,n,r,s,a)()}))}}return o}function wq(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function KT(e){const t=jn(T_),n=jn(WC),r=xe(()=>t.resolve(G(e.to))),o=xe(()=>{const{matched:f}=r.value,{length:d}=f,v=f[d-1],h=n.matched;if(!v||!h.length)return-1;const m=h.findIndex(Ou.bind(null,v));if(m>-1)return m;const y=GT(f[d-2]);return d>1&&GT(v)===y&&h[h.length-1].path!==y?h.findIndex(Ou.bind(null,f[d-2])):m}),s=xe(()=>o.value>-1&&Iq(n.params,r.value.params)),a=xe(()=>o.value>-1&&o.value===n.matched.length-1&&VC(n.params,r.value.params));function l(f={}){return Eq(f)?t[G(e.replace)?"replace":"push"](G(e.to)).catch(Wa):Promise.resolve()}return{route:r,href:xe(()=>r.value.href),isActive:s,isExactActive:a,navigate:l}}const bq=ei({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:KT,setup(e,{slots:t}){const n=mr(KT(e)),{options:r}=jn(T_),o=xe(()=>({[zT(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[zT(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:xr("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),XC=bq;function Eq(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Iq(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Dr(o)||o.length!==r.length||r.some((s,a)=>s!==o[a]))return!1}return!0}function GT(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const zT=(e,t,n)=>e??t??n,Tq=ei({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=jn(Tg),o=xe(()=>e.route||r.value),s=jn(HT,0),a=xe(()=>{let d=G(s);const{matched:v}=o.value;let h;for(;(h=v[d])&&!h.components;)d++;return d}),l=xe(()=>o.value.matched[a.value]);Qi(HT,xe(()=>a.value+1)),Qi(_q,l),Qi(Tg,o);const f=_t();return it(()=>[f.value,l.value,e.name],([d,v,h],[m,y,_])=>{v&&(v.instances[h]=d,y&&y!==v&&d&&d===m&&(v.leaveGuards.size||(v.leaveGuards=y.leaveGuards),v.updateGuards.size||(v.updateGuards=y.updateGuards))),d&&v&&(!y||!Ou(v,y)||!m)&&(v.enterCallbacks[h]||[]).forEach(b=>b(d))},{flush:"post"}),()=>{const d=o.value,v=e.name,h=l.value,m=h&&h.components[v];if(!m)return WT(n.default,{Component:m,route:d});const y=h.props[v],_=y?y===!0?d.params:typeof y=="function"?y(d):y:null,S=xr(m,ut({},_,t,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(h.instances[v]=null)},ref:f}));return WT(n.default,{Component:S,route:d})||S}}});function WT(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Sq=Tq;function Aq(e){const t=eq(e.routes,e),n=e.parseQuery||gq,r=e.stringifyQuery||$T,o=e.history,s=Da(),a=Da(),l=Da(),f=hD(Mi);let d=Mi;Zs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=bv.bind(null,J=>""+J),h=bv.bind(null,vq),m=bv.bind(null,mh);function y(J,L){let H,ee;return UC(J)?(H=t.getRecordMatcher(J),ee=L):ee=J,t.addRoute(ee,H)}function _(J){const L=t.getRecordMatcher(J);L&&t.removeRoute(L)}function b(){return t.getRoutes().map(J=>J.record)}function S(J){return!!t.getRecordMatcher(J)}function I(J,L){if(L=ut({},L||f.value),typeof J=="string"){const k=Ev(n,J,L.path),D=t.resolve({path:k.path},L),B=o.createHref(k.fullPath);return ut(k,D,{params:m(D.params),hash:mh(k.hash),redirectedFrom:void 0,href:B})}let H;if("path"in J)H=ut({},J,{path:Ev(n,J.path,L.path).path});else{const k=ut({},J.params);for(const D in k)k[D]==null&&delete k[D];H=ut({},J,{params:h(J.params)}),L.params=h(L.params)}const ee=t.resolve(H,L),De=J.hash||"";ee.params=v(m(ee.params));const je=OB(r,ut({},J,{hash:dq(De),path:ee.path})),Te=o.createHref(je);return ut({fullPath:je,hash:De,query:r===$T?yq(J.query):J.query||{}},ee,{redirectedFrom:void 0,href:Te})}function R(J){return typeof J=="string"?Ev(n,J,f.value.path):ut({},J)}function M(J,L){if(d!==J)return Nu(8,{from:L,to:J})}function U(J){return j(J)}function P(J){return U(ut(R(J),{replace:!0}))}function O(J){const L=J.matched[J.matched.length-1];if(L&&L.redirect){const{redirect:H}=L;let ee=typeof H=="function"?H(J):H;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=R(ee):{path:ee},ee.params={}),ut({query:J.query,hash:J.hash,params:"path"in ee?{}:J.params},ee)}}function j(J,L){const H=d=I(J),ee=f.value,De=J.state,je=J.force,Te=J.replace===!0,k=O(H);if(k)return j(ut(R(k),{state:typeof k=="object"?ut({},De,k.state):De,force:je,replace:Te}),L||H);const D=H;D.redirectedFrom=L;let B;return!je&&NB(r,ee,H)&&(B=Nu(16,{to:D,from:ee}),Ye(ee,ee,!0,!1)),(B?Promise.resolve(B):F(D,ee)).catch(W=>si(W)?si(W,2)?W:et(W):de(W,D,ee)).then(W=>{if(W){if(si(W,2))return j(ut({replace:Te},R(W.to),{state:typeof W.to=="object"?ut({},De,W.to.state):De,force:je}),L||D)}else W=be(D,ee,!0,Te,De);return A(D,ee,W),W})}function x(J,L){const H=M(J,L);return H?Promise.reject(H):Promise.resolve()}function F(J,L){let H;const[ee,De,je]=kq(J,L);H=Iv(ee.reverse(),"beforeRouteLeave",J,L);for(const k of ee)k.leaveGuards.forEach(D=>{H.push(qi(D,J,L))});const Te=x.bind(null,J,L);return H.push(Te),Xs(H).then(()=>{H=[];for(const k of s.list())H.push(qi(k,J,L));return H.push(Te),Xs(H)}).then(()=>{H=Iv(De,"beforeRouteUpdate",J,L);for(const k of De)k.updateGuards.forEach(D=>{H.push(qi(D,J,L))});return H.push(Te),Xs(H)}).then(()=>{H=[];for(const k of J.matched)if(k.beforeEnter&&!L.matched.includes(k))if(Dr(k.beforeEnter))for(const D of k.beforeEnter)H.push(qi(D,J,L));else H.push(qi(k.beforeEnter,J,L));return H.push(Te),Xs(H)}).then(()=>(J.matched.forEach(k=>k.enterCallbacks={}),H=Iv(je,"beforeRouteEnter",J,L),H.push(Te),Xs(H))).then(()=>{H=[];for(const k of a.list())H.push(qi(k,J,L));return H.push(Te),Xs(H)}).catch(k=>si(k,8)?k:Promise.reject(k))}function A(J,L,H){for(const ee of l.list())ee(J,L,H)}function be(J,L,H,ee,De){const je=M(J,L);if(je)return je;const Te=L===Mi,k=Zs?history.state:{};H&&(ee||Te?o.replace(J.fullPath,ut({scroll:Te&&k&&k.scroll},De)):o.push(J.fullPath,De)),f.value=J,Ye(J,L,H,Te),et()}let oe;function we(){oe||(oe=o.listen((J,L,H)=>{if(!vt.listening)return;const ee=I(J),De=O(ee);if(De){j(ut(De,{replace:!0}),ee).catch(Wa);return}d=ee;const je=f.value;Zs&&VB(LT(je.fullPath,H.delta),md()),F(ee,je).catch(Te=>si(Te,12)?Te:si(Te,2)?(j(Te.to,ee).then(k=>{si(k,20)&&!H.delta&&H.type===Sc.pop&&o.go(-1,!1)}).catch(Wa),Promise.reject()):(H.delta&&o.go(-H.delta,!1),de(Te,ee,je))).then(Te=>{Te=Te||be(ee,je,!1),Te&&(H.delta&&!si(Te,8)?o.go(-H.delta,!1):H.type===Sc.pop&&si(Te,20)&&o.go(-1,!1)),A(ee,je,Te)}).catch(Wa)}))}let Ee=Da(),Ae=Da(),he;function de(J,L,H){et(J);const ee=Ae.list();return ee.length?ee.forEach(De=>De(J,L,H)):console.error(J),Promise.reject(J)}function pe(){return he&&f.value!==Mi?Promise.resolve():new Promise((J,L)=>{Ee.add([J,L])})}function et(J){return he||(he=!J,we(),Ee.list().forEach(([L,H])=>J?H(J):L()),Ee.reset()),J}function Ye(J,L,H,ee){const{scrollBehavior:De}=e;if(!Zs||!De)return Promise.resolve();const je=!H&&jB(LT(J.fullPath,0))||(ee||!H)&&history.state&&history.state.scroll||null;return er().then(()=>De(J,L,je)).then(Te=>Te&&FB(Te)).catch(Te=>de(Te,J,L))}const tt=J=>o.go(J);let nt;const Nt=new Set,vt={currentRoute:f,listening:!0,addRoute:y,removeRoute:_,hasRoute:S,getRoutes:b,resolve:I,options:e,push:U,replace:P,go:tt,back:()=>tt(-1),forward:()=>tt(1),beforeEach:s.add,beforeResolve:a.add,afterEach:l.add,onError:Ae.add,isReady:pe,install(J){const L=this;J.component("RouterLink",XC),J.component("RouterView",Sq),J.config.globalProperties.$router=L,Object.defineProperty(J.config.globalProperties,"$route",{enumerable:!0,get:()=>G(f)}),Zs&&!nt&&f.value===Mi&&(nt=!0,U(o.location).catch(De=>{}));const H={};for(const De in Mi)H[De]=xe(()=>f.value[De]);J.provide(T_,L),J.provide(WC,mr(H)),J.provide(Tg,f);const ee=J.unmount;Nt.add(J),J.unmount=function(){Nt.delete(J),Nt.size<1&&(d=Mi,oe&&oe(),oe=null,f.value=Mi,nt=!1,he=!1),ee()}}};return vt}function Xs(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function kq(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const l=t.matched[a];l&&(e.matched.find(d=>Ou(d,l))?r.push(l):n.push(l));const f=e.matched[a];f&&(t.matched.find(d=>Ou(d,f))||o.push(f))}return[n,r,o]}const sr=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},Cq={components:{RouterLink:XC},computed:{...sM(Hv,zu)},methods:{toggleAuthModal(){this.modalStore.isOpen=!this.modalStore.isOpen,console.log(this.modalStore.isOpen)},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},Oq={id:"header",class:"bg-gray-700"},Nq={class:"container mx-auto flex justify-start items-center py-5 px-4"},Rq={class:"flex flex-grow items-center"},xq={class:"flex flex-row mt-1"},Pq={key:0};function Dq(e,t,n,r,o,s){const a=At("router-link");return We(),dt("header",Oq,[K("nav",Nq,[Oe(a,{to:{name:"home"},"exact-active-class":"no-active",class:"text-white font-bold uppercase text-2xl mr-4",href:"#"},{default:Vn(()=>[li("Muzic")]),_:1}),K("div",Rq,[K("ul",xq,[K("li",null,[Oe(a,{to:{name:"about"},class:"px-2 text-white"},{default:Vn(()=>[li("About")]),_:1})]),e.userStore.userLoggedIn?(We(),dt(hn,{key:1},[K("li",null,[Oe(a,{class:"px-2 text-white",href:"#",to:{name:"manage"}},{default:Vn(()=>[li("Manage")]),_:1})]),K("li",null,[K("a",{class:"px-2 text-white",href:"#",onClick:t[1]||(t[1]=Mn((...l)=>s.signOut&&s.signOut(...l),["prevent"]))},"Logout")])],64)):(We(),dt("li",Pq,[K("a",{class:"px-2 text-white",href:"#",onClick:t[0]||(t[0]=Mn((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},"Login / Register")]))])])])])}const Lq=sr(Cq,[["render",Dq]]);var La=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sg={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var h=this||n;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var m=this||n;if(h=parseFloat(h),m.ctx||v(),typeof h<"u"&&h>=0&&h<=1){if(m._volume=h,m._muted)return m;m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),b=0;b<_.length;b++){var S=m._howls[y]._soundById(_[b]);S&&S._node&&(S._node.volume=S._volume*h)}return m}return m._volume},mute:function(h){var m=this||n;m.ctx||v(),m._muted=h,m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h?0:m._volume,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),b=0;b<_.length;b++){var S=m._howls[y]._soundById(_[b]);S&&S._node&&(S._node.muted=h?!0:S._muted)}return m},stop:function(){for(var h=this||n,m=0;m<h._howls.length;m++)h._howls[m].stop();return h},unload:function(){for(var h=this||n,m=h._howls.length-1;m>=0;m--)h._howls[m].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,v()),h},codecs:function(h){return(this||n)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||n;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var m=new Audio;typeof m.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var m=new Audio;m.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||n,m=null;try{m=typeof Audio<"u"?new Audio:null}catch{return h}if(!m||typeof m.canPlayType!="function")return h;var y=m.canPlayType("audio/mpeg;").replace(/^no$/,""),_=h._navigator?h._navigator.userAgent:"",b=_.match(/OPR\/([0-6].)/g),S=b&&parseInt(b[0].split("/")[1],10)<33,I=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,R=_.match(/Version\/(.*?) /),M=I&&R&&parseInt(R[1],10)<15;return h._codecs={mp3:!!(!S&&(y||m.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!y,opus:!!m.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(m.canPlayType('audio/wav; codecs="1"')||m.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!m.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!m.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(m.canPlayType("audio/x-m4a;")||m.canPlayType("audio/m4a;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(m.canPlayType("audio/x-m4b;")||m.canPlayType("audio/m4b;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(m.canPlayType("audio/x-mp4;")||m.canPlayType("audio/mp4;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!M&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!M&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!m.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(m.canPlayType("audio/x-flac;")||m.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||n;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var m=function(y){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,h._releaseHtml5Audio(_)}catch{h.noAudio=!0;break}for(var b=0;b<h._howls.length;b++)if(!h._howls[b]._webAudio)for(var S=h._howls[b]._getSoundIds(),I=0;I<S.length;I++){var R=h._howls[b]._soundById(S[I]);R&&R._node&&!R._node._unlocked&&(R._node._unlocked=!0,R._node.load())}h._autoResume();var M=h.ctx.createBufferSource();M.buffer=h._scratchBuffer,M.connect(h.ctx.destination),typeof M.start>"u"?M.noteOn(0):M.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),M.onended=function(){M.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",m,!0),document.removeEventListener("touchend",m,!0),document.removeEventListener("click",m,!0),document.removeEventListener("keydown",m,!0);for(var U=0;U<h._howls.length;U++)h._howls[U]._emit("unlock")}};return document.addEventListener("touchstart",m,!0),document.addEventListener("touchend",m,!0),document.addEventListener("click",m,!0),document.addEventListener("keydown",m,!0),h}},_obtainHtml5Audio:function(){var h=this||n;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var m=new Audio().play();return m&&typeof Promise<"u"&&(m instanceof Promise||typeof m.then=="function")&&m.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var m=this||n;return h._unlocked&&m._html5AudioPool.push(h),m},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!n.usingWebAudio)){for(var m=0;m<h._howls.length;m++)if(h._howls[m]._webAudio){for(var y=0;y<h._howls[m]._sounds.length;y++)if(!h._howls[m]._sounds[y]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var _=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(_,_)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!n.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var m=0;m<h._howls.length;m++)h._howls[m]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var n=new t,r=function(h){var m=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}m.init(h)};r.prototype={init:function(h){var m=this;return n.ctx||v(),m._autoplay=h.autoplay||!1,m._format=typeof h.format!="string"?h.format:[h.format],m._html5=h.html5||!1,m._muted=h.mute||!1,m._loop=h.loop||!1,m._pool=h.pool||5,m._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,m._rate=h.rate||1,m._sprite=h.sprite||{},m._src=typeof h.src!="string"?h.src:[h.src],m._volume=h.volume!==void 0?h.volume:1,m._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},m._duration=0,m._state="unloaded",m._sounds=[],m._endTimers={},m._queue=[],m._playLock=!1,m._onend=h.onend?[{fn:h.onend}]:[],m._onfade=h.onfade?[{fn:h.onfade}]:[],m._onload=h.onload?[{fn:h.onload}]:[],m._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],m._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],m._onpause=h.onpause?[{fn:h.onpause}]:[],m._onplay=h.onplay?[{fn:h.onplay}]:[],m._onstop=h.onstop?[{fn:h.onstop}]:[],m._onmute=h.onmute?[{fn:h.onmute}]:[],m._onvolume=h.onvolume?[{fn:h.onvolume}]:[],m._onrate=h.onrate?[{fn:h.onrate}]:[],m._onseek=h.onseek?[{fn:h.onseek}]:[],m._onunlock=h.onunlock?[{fn:h.onunlock}]:[],m._onresume=[],m._webAudio=n.usingWebAudio&&!m._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(m),m._autoplay&&m._queue.push({event:"play",action:function(){m.play()}}),m._preload&&m._preload!=="none"&&m.load(),m},load:function(){var h=this,m=null;if(n.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var y=0;y<h._src.length;y++){var _,b;if(h._format&&h._format[y])_=h._format[y];else{if(b=h._src[y],typeof b!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(b),_||(_=/\.([^.]+)$/.exec(b.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&n.codecs(_)){m=h._src[y];break}}if(!m){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=m,h._state="loading",window.location.protocol==="https:"&&m.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new o(h),h._webAudio&&a(h),h},play:function(h,m){var y=this,_=null;if(typeof h=="number")_=h,h=null;else{if(typeof h=="string"&&y._state==="loaded"&&!y._sprite[h])return null;if(typeof h>"u"&&(h="__default",!y._playLock)){for(var b=0,S=0;S<y._sounds.length;S++)y._sounds[S]._paused&&!y._sounds[S]._ended&&(b++,_=y._sounds[S]._id);b===1?h=null:_=null}}var I=_?y._soundById(_):y._inactiveSound();if(!I)return null;if(_&&!h&&(h=I._sprite||"__default"),y._state!=="loaded"){I._sprite=h,I._ended=!1;var R=I._id;return y._queue.push({event:"play",action:function(){y.play(R)}}),R}if(_&&!I._paused)return m||y._loadQueue("play"),I._id;y._webAudio&&n._autoResume();var M=Math.max(0,I._seek>0?I._seek:y._sprite[h][0]/1e3),U=Math.max(0,(y._sprite[h][0]+y._sprite[h][1])/1e3-M),P=U*1e3/Math.abs(I._rate),O=y._sprite[h][0]/1e3,j=(y._sprite[h][0]+y._sprite[h][1])/1e3;I._sprite=h,I._ended=!1;var x=function(){I._paused=!1,I._seek=M,I._start=O,I._stop=j,I._loop=!!(I._loop||y._sprite[h][2])};if(M>=j){y._ended(I);return}var F=I._node;if(y._webAudio){var A=function(){y._playLock=!1,x(),y._refreshBuffer(I);var Ee=I._muted||y._muted?0:I._volume;F.gain.setValueAtTime(Ee,n.ctx.currentTime),I._playStart=n.ctx.currentTime,typeof F.bufferSource.start>"u"?I._loop?F.bufferSource.noteGrainOn(0,M,86400):F.bufferSource.noteGrainOn(0,M,U):I._loop?F.bufferSource.start(0,M,86400):F.bufferSource.start(0,M,U),P!==1/0&&(y._endTimers[I._id]=setTimeout(y._ended.bind(y,I),P)),m||setTimeout(function(){y._emit("play",I._id),y._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?A():(y._playLock=!0,y.once("resume",A),y._clearTimer(I._id))}else{var be=function(){F.currentTime=M,F.muted=I._muted||y._muted||n._muted||F.muted,F.volume=I._volume*n.volume(),F.playbackRate=I._rate;try{var Ee=F.play();if(Ee&&typeof Promise<"u"&&(Ee instanceof Promise||typeof Ee.then=="function")?(y._playLock=!0,x(),Ee.then(function(){y._playLock=!1,F._unlocked=!0,m?y._loadQueue():y._emit("play",I._id)}).catch(function(){y._playLock=!1,y._emit("playerror",I._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),I._ended=!0,I._paused=!0})):m||(y._playLock=!1,x(),y._emit("play",I._id)),F.playbackRate=I._rate,F.paused){y._emit("playerror",I._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||I._loop?y._endTimers[I._id]=setTimeout(y._ended.bind(y,I),P):(y._endTimers[I._id]=function(){y._ended(I),F.removeEventListener("ended",y._endTimers[I._id],!1)},F.addEventListener("ended",y._endTimers[I._id],!1))}catch(Ae){y._emit("playerror",I._id,Ae)}};F.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(F.src=y._src,F.load());var oe=window&&window.ejecta||!F.readyState&&n._navigator.isCocoonJS;if(F.readyState>=3||oe)be();else{y._playLock=!0,y._state="loading";var we=function(){y._state="loaded",be(),F.removeEventListener(n._canPlayEvent,we,!1)};F.addEventListener(n._canPlayEvent,we,!1),y._clearTimer(I._id)}}return I._id},pause:function(h){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"pause",action:function(){m.pause(h)}}),m;for(var y=m._getSoundIds(h),_=0;_<y.length;_++){m._clearTimer(y[_]);var b=m._soundById(y[_]);if(b&&!b._paused&&(b._seek=m.seek(y[_]),b._rateSeek=0,b._paused=!0,m._stopFade(y[_]),b._node))if(m._webAudio){if(!b._node.bufferSource)continue;typeof b._node.bufferSource.stop>"u"?b._node.bufferSource.noteOff(0):b._node.bufferSource.stop(0),m._cleanBuffer(b._node)}else(!isNaN(b._node.duration)||b._node.duration===1/0)&&b._node.pause();arguments[1]||m._emit("pause",b?b._id:null)}return m},stop:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"stop",action:function(){y.stop(h)}}),y;for(var _=y._getSoundIds(h),b=0;b<_.length;b++){y._clearTimer(_[b]);var S=y._soundById(_[b]);S&&(S._seek=S._start||0,S._rateSeek=0,S._paused=!0,S._ended=!0,y._stopFade(_[b]),S._node&&(y._webAudio?S._node.bufferSource&&(typeof S._node.bufferSource.stop>"u"?S._node.bufferSource.noteOff(0):S._node.bufferSource.stop(0),y._cleanBuffer(S._node)):(!isNaN(S._node.duration)||S._node.duration===1/0)&&(S._node.currentTime=S._start||0,S._node.pause(),S._node.duration===1/0&&y._clearSound(S._node))),m||y._emit("stop",S._id))}return y},mute:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"mute",action:function(){y.mute(h,m)}}),y;if(typeof m>"u")if(typeof h=="boolean")y._muted=h;else return y._muted;for(var _=y._getSoundIds(m),b=0;b<_.length;b++){var S=y._soundById(_[b]);S&&(S._muted=h,S._interval&&y._stopFade(S._id),y._webAudio&&S._node?S._node.gain.setValueAtTime(h?0:S._volume,n.ctx.currentTime):S._node&&(S._node.muted=n._muted?!0:h),y._emit("mute",S._id))}return y},volume:function(){var h=this,m=arguments,y,_;if(m.length===0)return h._volume;if(m.length===1||m.length===2&&typeof m[1]>"u"){var b=h._getSoundIds(),S=b.indexOf(m[0]);S>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length>=2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var I;if(typeof y<"u"&&y>=0&&y<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,m)}}),h;typeof _>"u"&&(h._volume=y),_=h._getSoundIds(_);for(var R=0;R<_.length;R++)I=h._soundById(_[R]),I&&(I._volume=y,m[2]||h._stopFade(_[R]),h._webAudio&&I._node&&!I._muted?I._node.gain.setValueAtTime(y,n.ctx.currentTime):I._node&&!I._muted&&(I._node.volume=y*n.volume()),h._emit("volume",I._id))}else return I=_?h._soundById(_):h._sounds[0],I?I._volume:0;return h},fade:function(h,m,y,_){var b=this;if(b._state!=="loaded"||b._playLock)return b._queue.push({event:"fade",action:function(){b.fade(h,m,y,_)}}),b;h=Math.min(Math.max(0,parseFloat(h)),1),m=Math.min(Math.max(0,parseFloat(m)),1),y=parseFloat(y),b.volume(h,_);for(var S=b._getSoundIds(_),I=0;I<S.length;I++){var R=b._soundById(S[I]);if(R){if(_||b._stopFade(S[I]),b._webAudio&&!R._muted){var M=n.ctx.currentTime,U=M+y/1e3;R._volume=h,R._node.gain.setValueAtTime(h,M),R._node.gain.linearRampToValueAtTime(m,U)}b._startFadeInterval(R,h,m,y,S[I],typeof _>"u")}}return b},_startFadeInterval:function(h,m,y,_,b,S){var I=this,R=m,M=y-m,U=Math.abs(M/.01),P=Math.max(4,U>0?_/U:_),O=Date.now();h._fadeTo=y,h._interval=setInterval(function(){var j=(Date.now()-O)/_;O=Date.now(),R+=M*j,R=Math.round(R*100)/100,M<0?R=Math.max(y,R):R=Math.min(y,R),I._webAudio?h._volume=R:I.volume(R,h._id,!0),S&&(I._volume=R),(y<m&&R<=y||y>m&&R>=y)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,I.volume(y,h._id),I._emit("fade",h._id))},P)},_stopFade:function(h){var m=this,y=m._soundById(h);return y&&y._interval&&(m._webAudio&&y._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(y._interval),y._interval=null,m.volume(y._fadeTo,h),y._fadeTo=null,m._emit("fade",h)),m},loop:function(){var h=this,m=arguments,y,_,b;if(m.length===0)return h._loop;if(m.length===1)if(typeof m[0]=="boolean")y=m[0],h._loop=y;else return b=h._soundById(parseInt(m[0],10)),b?b._loop:!1;else m.length===2&&(y=m[0],_=parseInt(m[1],10));for(var S=h._getSoundIds(_),I=0;I<S.length;I++)b=h._soundById(S[I]),b&&(b._loop=y,h._webAudio&&b._node&&b._node.bufferSource&&(b._node.bufferSource.loop=y,y&&(b._node.bufferSource.loopStart=b._start||0,b._node.bufferSource.loopEnd=b._stop,h.playing(S[I])&&(h.pause(S[I],!0),h.play(S[I],!0)))));return h},rate:function(){var h=this,m=arguments,y,_;if(m.length===0)_=h._sounds[0]._id;else if(m.length===1){var b=h._getSoundIds(),S=b.indexOf(m[0]);S>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var I;if(typeof y=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,m)}}),h;typeof _>"u"&&(h._rate=y),_=h._getSoundIds(_);for(var R=0;R<_.length;R++)if(I=h._soundById(_[R]),I){h.playing(_[R])&&(I._rateSeek=h.seek(_[R]),I._playStart=h._webAudio?n.ctx.currentTime:I._playStart),I._rate=y,h._webAudio&&I._node&&I._node.bufferSource?I._node.bufferSource.playbackRate.setValueAtTime(y,n.ctx.currentTime):I._node&&(I._node.playbackRate=y);var M=h.seek(_[R]),U=(h._sprite[I._sprite][0]+h._sprite[I._sprite][1])/1e3-M,P=U*1e3/Math.abs(I._rate);(h._endTimers[_[R]]||!I._paused)&&(h._clearTimer(_[R]),h._endTimers[_[R]]=setTimeout(h._ended.bind(h,I),P)),h._emit("rate",I._id)}}else return I=h._soundById(_),I?I._rate:h._rate;return h},seek:function(){var h=this,m=arguments,y,_;if(m.length===0)h._sounds.length&&(_=h._sounds[0]._id);else if(m.length===1){var b=h._getSoundIds(),S=b.indexOf(m[0]);S>=0?_=parseInt(m[0],10):h._sounds.length&&(_=h._sounds[0]._id,y=parseFloat(m[0]))}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));if(typeof _>"u")return 0;if(typeof y=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,m)}}),h;var I=h._soundById(_);if(I)if(typeof y=="number"&&y>=0){var R=h.playing(_);R&&h.pause(_,!0),I._seek=y,I._ended=!1,h._clearTimer(_),!h._webAudio&&I._node&&!isNaN(I._node.duration)&&(I._node.currentTime=y);var M=function(){R&&h.play(_,!0),h._emit("seek",_)};if(R&&!h._webAudio){var U=function(){h._playLock?setTimeout(U,0):M()};setTimeout(U,0)}else M()}else if(h._webAudio){var P=h.playing(_)?n.ctx.currentTime-I._playStart:0,O=I._rateSeek?I._rateSeek-I._seek:0;return I._seek+(O+P*Math.abs(I._rate))}else return I._node.currentTime;return h},playing:function(h){var m=this;if(typeof h=="number"){var y=m._soundById(h);return y?!y._paused:!1}for(var _=0;_<m._sounds.length;_++)if(!m._sounds[_]._paused)return!0;return!1},duration:function(h){var m=this,y=m._duration,_=m._soundById(h);return _&&(y=m._sprite[_._sprite][1]/1e3),y},state:function(){return this._state},unload:function(){for(var h=this,m=h._sounds,y=0;y<m.length;y++)m[y]._paused||h.stop(m[y]._id),h._webAudio||(h._clearSound(m[y]._node),m[y]._node.removeEventListener("error",m[y]._errorFn,!1),m[y]._node.removeEventListener(n._canPlayEvent,m[y]._loadFn,!1),m[y]._node.removeEventListener("ended",m[y]._endFn,!1),n._releaseHtml5Audio(m[y]._node)),delete m[y]._node,h._clearTimer(m[y]._id);var _=n._howls.indexOf(h);_>=0&&n._howls.splice(_,1);var b=!0;for(y=0;y<n._howls.length;y++)if(n._howls[y]._src===h._src||h._src.indexOf(n._howls[y]._src)>=0){b=!1;break}return s&&b&&delete s[h._src],n.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,m,y,_){var b=this,S=b["_on"+h];return typeof m=="function"&&S.push(_?{id:y,fn:m,once:_}:{id:y,fn:m}),b},off:function(h,m,y){var _=this,b=_["_on"+h],S=0;if(typeof m=="number"&&(y=m,m=null),m||y)for(S=0;S<b.length;S++){var I=y===b[S].id;if(m===b[S].fn&&I||!m&&I){b.splice(S,1);break}}else if(h)_["_on"+h]=[];else{var R=Object.keys(_);for(S=0;S<R.length;S++)R[S].indexOf("_on")===0&&Array.isArray(_[R[S]])&&(_[R[S]]=[])}return _},once:function(h,m,y){var _=this;return _.on(h,m,y,1),_},_emit:function(h,m,y){for(var _=this,b=_["_on"+h],S=b.length-1;S>=0;S--)(!b[S].id||b[S].id===m||h==="load")&&(setTimeout(function(I){I.call(this,m,y)}.bind(_,b[S].fn),0),b[S].once&&_.off(h,b[S].fn,b[S].id));return _._loadQueue(h),_},_loadQueue:function(h){var m=this;if(m._queue.length>0){var y=m._queue[0];y.event===h&&(m._queue.shift(),m._loadQueue()),h||y.action()}return m},_ended:function(h){var m=this,y=h._sprite;if(!m._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(m._ended.bind(m,h),100),m;var _=!!(h._loop||m._sprite[y][2]);if(m._emit("end",h._id),!m._webAudio&&_&&m.stop(h._id,!0).play(h._id),m._webAudio&&_){m._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=n.ctx.currentTime;var b=(h._stop-h._start)*1e3/Math.abs(h._rate);m._endTimers[h._id]=setTimeout(m._ended.bind(m,h),b)}return m._webAudio&&!_&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,m._clearTimer(h._id),m._cleanBuffer(h._node),n._autoSuspend()),!m._webAudio&&!_&&m.stop(h._id,!0),m},_clearTimer:function(h){var m=this;if(m._endTimers[h]){if(typeof m._endTimers[h]!="function")clearTimeout(m._endTimers[h]);else{var y=m._soundById(h);y&&y._node&&y._node.removeEventListener("ended",m._endTimers[h],!1)}delete m._endTimers[h]}return m},_soundById:function(h){for(var m=this,y=0;y<m._sounds.length;y++)if(h===m._sounds[y]._id)return m._sounds[y];return null},_inactiveSound:function(){var h=this;h._drain();for(var m=0;m<h._sounds.length;m++)if(h._sounds[m]._ended)return h._sounds[m].reset();return new o(h)},_drain:function(){var h=this,m=h._pool,y=0,_=0;if(!(h._sounds.length<m)){for(_=0;_<h._sounds.length;_++)h._sounds[_]._ended&&y++;for(_=h._sounds.length-1;_>=0;_--){if(y<=m)return;h._sounds[_]._ended&&(h._webAudio&&h._sounds[_]._node&&h._sounds[_]._node.disconnect(0),h._sounds.splice(_,1),y--)}}},_getSoundIds:function(h){var m=this;if(typeof h>"u"){for(var y=[],_=0;_<m._sounds.length;_++)y.push(m._sounds[_]._id);return y}else return[h]},_refreshBuffer:function(h){var m=this;return h._node.bufferSource=n.ctx.createBufferSource(),h._node.bufferSource.buffer=s[m._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,n.ctx.currentTime),m},_cleanBuffer:function(h){var m=this,y=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),y))try{h.bufferSource.buffer=n._scratchBuffer}catch{}return h.bufferSource=null,m},_clearSound:function(h){var m=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);m||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(h){this._parent=h,this.init()};o.prototype={init:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,m._sounds.push(h),h.create(),h},create:function(){var h=this,m=h._parent,y=n._muted||h._muted||h._parent._muted?0:h._volume;return m._webAudio?(h._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),h._node.gain.setValueAtTime(y,n.ctx.currentTime),h._node.paused=!0,h._node.connect(n.masterGain)):n.noAudio||(h._node=n._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(n._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=m._src,h._node.preload=m._preload===!0?"auto":m._preload,h._node.volume=y*n.volume(),h._node.load()),h},reset:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,m=h._parent;m._duration=Math.ceil(h._node.duration*10)/10,Object.keys(m._sprite).length===0&&(m._sprite={__default:[0,m._duration*1e3]}),m._state!=="loaded"&&(m._state="loaded",m._emit("load"),m._loadQueue()),h._node.removeEventListener(n._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,m=h._parent;m._duration===1/0&&(m._duration=Math.ceil(h._node.duration*10)/10,m._sprite.__default[1]===1/0&&(m._sprite.__default[1]=m._duration*1e3),m._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},a=function(h){var m=h._src;if(s[m]){h._duration=s[m].duration,d(h);return}if(/^data:[^;]+;base64,/.test(m)){for(var y=atob(m.split(",")[1]),_=new Uint8Array(y.length),b=0;b<y.length;++b)_[b]=y.charCodeAt(b);f(_.buffer,h)}else{var S=new XMLHttpRequest;S.open(h._xhr.method,m,!0),S.withCredentials=h._xhr.withCredentials,S.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(I){S.setRequestHeader(I,h._xhr.headers[I])}),S.onload=function(){var I=(S.status+"")[0];if(I!=="0"&&I!=="2"&&I!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+S.status+".");return}f(S.response,h)},S.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[m],h.load())},l(S)}},l=function(h){try{h.send()}catch{h.onerror()}},f=function(h,m){var y=function(){m._emit("loaderror",null,"Decoding audio data failed.")},_=function(b){b&&m._sounds.length>0?(s[m._src]=b,d(m,b)):y()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(h).then(_).catch(y):n.ctx.decodeAudioData(h,_,y)},d=function(h,m){m&&!h._duration&&(h._duration=m.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},v=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),m=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),y=m?parseInt(m[1],10):null;if(h&&y&&y<9){var _=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!_&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof La<"u"?(La.HowlerGlobal=t,La.Howler=n,La.Howl=r,La.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,o=typeof o!="number"?s._pos[2]:o,typeof n=="number")s._pos=[n,r,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,o,s,a,l){var f=this;if(!f.ctx||!f.ctx.listener)return f;var d=f._orientation;if(r=typeof r!="number"?d[1]:r,o=typeof o!="number"?d[2]:o,s=typeof s!="number"?d[3]:s,a=typeof a!="number"?d[4]:a,l=typeof l!="number"?d[5]:l,typeof n=="number")f._orientation=[n,r,o,s,a,l],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,r,o,s,a,l);else return d;return f},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var a=o._getSoundIds(r),l=0;l<a.length;l++){var f=o._soundById(a[l]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,s),s==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(n,r,o,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"pos",action:function(){a.pos(n,r,o,s)}}),a;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof n=="number")a._pos=[n,r,o];else return a._pos;for(var l=a._getSoundIds(s),f=0;f<l.length;f++){var d=a._soundById(l[f]);if(d)if(typeof n=="number")d._pos=[n,r,o],d._node&&((!d._panner||d._panner.pan)&&t(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setPosition(n,r,o)),a._emit("pos",d._id);else return d._pos}return a},Howl.prototype.orientation=function(n,r,o,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"orientation",action:function(){a.orientation(n,r,o,s)}}),a;if(r=typeof r!="number"?a._orientation[1]:r,o=typeof o!="number"?a._orientation[2]:o,typeof s>"u")if(typeof n=="number")a._orientation=[n,r,o];else return a._orientation;for(var l=a._getSoundIds(s),f=0;f<l.length;f++){var d=a._soundById(l[f]);if(d)if(typeof n=="number")d._orientation=[n,r,o],d._node&&(d._panner||(d._pos||(d._pos=a._pos||[0,0,-.5]),t(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setOrientation(n,r,o)),a._emit("orientation",d._id);else return d._orientation}return a},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,s,a;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return a=n._soundById(parseInt(r[0],10)),a?a._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],s=parseInt(r[1],10));for(var l=n._getSoundIds(s),f=0;f<l.length;f++)if(a=n._soundById(l[f]),a){var d=a._pannerAttr;d={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:d.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:d.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:d.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:d.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:d.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:d.panningModel};var v=a._panner;v?(v.coneInnerAngle=d.coneInnerAngle,v.coneOuterAngle=d.coneOuterAngle,v.coneOuterGain=d.coneOuterGain,v.distanceModel=d.distanceModel,v.maxDistance=d.maxDistance,v.refDistance=d.refDistance,v.rolloffFactor=d.rolloffFactor,v.panningModel=d.panningModel):(a._pos||(a._pos=n._pos||[0,0,-.5]),t(a,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Sg);const XT={formatTime(e){const t=Math.floor(e/60)||0,n=Math.round(e-t*60||0);return`${t}:${n<10?"0":""}${n}`}},Ag=ty("player",{state:()=>({current_song:{},sound:{},seek:"00:00",duration:"00:00",progressPercent:"0%"}),actions:{async newSong(e){this.sound instanceof Sg.Howl&&this.sound.unload(),this.current_song=e,this.sound=new Sg.Howl({src:[e.url],html5:!0}),this.sound.play(),this.sound.on("play",()=>{requestAnimationFrame(this.progress)})},progress(){const e=this.sound.seek(),t=this.sound.duration();this.seek=XT.formatTime(e),this.duration=XT.formatTime(t),this.progressPercent=`${e/t*100}%`,this.sound.playing()&&requestAnimationFrame(this.progress)},async toggleAudio(){this.sound.playing&&(this.sound.playing()?this.sound.pause():this.sound.play())},updateSeek(e){if(!this.sound.playing)return;console.log(e);const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),o=(e.x-t)/n,s=this.sound.duration()*o;this.sound.seek(s),this.sound.once("seek",()=>{requestAnimationFrame(this.progress)})}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1}}),Mq={name:"Player",computed:{...ny(Ag,["current_song","playing","seek","duration","progressPercent"])},methods:{...Ph(Ag,["toggleAudio","updateSeek"])}},Fq={class:"fixed bottom-0 left-0 bg-white px-4 py-2 w-full"},Vq={key:0,class:"text-center"},jq={class:"song-title font-bold"},Uq={class:"song-artist"},Bq={class:"flex flex-nowrap gap-4 items-center"},qq={class:"player-currenttime w-10"},$q=K("i",{class:"fas fa-circle"},null,-1),Hq=[$q],Kq={class:"player-duration"};function Gq(e,t,n,r,o,s){return We(),dt("div",Fq,[e.current_song.modified_name?(We(),dt("div",Vq,[K("span",jq,Bt(e.current_song.modified_name),1),li(" via "),K("span",Uq,Bt(e.current_song.display_name),1)])):Cc("",!0),K("div",Bq,[K("button",{type:"button",onClick:t[0]||(t[0]=Mn((...a)=>e.toggleAudio&&e.toggleAudio(...a),["prevent"]))},[K("i",{class:Cn(["fa text-gray-500 text-xl",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),K("div",qq,Bt(e.seek),1),K("div",{class:"w-full h-2 rounded bg-gray-200 relative cursor-pointer",onClick:t[1]||(t[1]=Mn((...a)=>e.updateSeek&&e.updateSeek(...a),["prevent"]))},[K("span",{class:"absolute -top-2.5 -ml-2.5 text-gray-800 text-lg",style:uu({left:e.progressPercent})},Hq,4),K("span",{class:"block h-2 rounded bg-gradient-to-r from-green-500 to-green-400",style:uu({width:e.progressPercent})},null,4)]),K("div",Kq,Bt(e.duration),1)])])}const zq=sr(Mq,[["render",Gq]]);/**
  * vee-validate v4.8.3
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function gi(e){return typeof e=="function"}function Qa(e){return e==null}const fs=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function QC(e){return Number(e)>=0}function Wq(e){const t=parseFloat(e);return isNaN(t)?e:t}const YC={};function Er(e,t){Qq(e,t),YC[e]=t}function Xq(e){return YC[e]}function Qq(e,t){if(!gi(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}const Xc=Symbol("vee-validate-form"),Yq=Symbol("vee-validate-field-instance"),vh=Symbol("Default empty value"),Jq=typeof window<"u";function kg(e){return gi(e)&&!!e.__locatorRef}function Zi(e){return!!e&&gi(e.parse)&&e.__type==="VVTypedSchema"}function Ya(e){return!!e&&gi(e.validate)}function Ru(e){return e==="checkbox"||e==="radio"}function Zq(e){return fs(e)||Array.isArray(e)}function JC(e){return Array.isArray(e)?e.length===0:fs(e)&&Object.keys(e).length===0}function vd(e){return/^\[.+\]$/i.test(e)}function e$(e){return ZC(e)&&e.multiple}function ZC(e){return e.tagName==="SELECT"}function t$(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function n$(e,t){return!t$(e,t)&&t.type!=="file"&&!Ru(t.type)}function eO(e){return S_(e)&&e.target&&"submit"in e.target}function S_(e){return e?!!(typeof Event<"u"&&gi(Event)&&e instanceof Event||e&&e.srcElement):!1}function QT(e,t){return t in e&&e[t]!==vh}function Wt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Wt(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!Wt(r[1],t.get(r[0])))return!1;return!0}if(YT(e)&&YT(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){var s=o[r];if(!Wt(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function YT(e){return Jq?e instanceof File:!1}function JT(e,t,n){typeof n.value=="object"&&(n.value=lt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function lt(e){if(typeof e!="object")return e;var t=0,n,r,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(lt(a))})):s==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(lt(l),lt(a))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(lt(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)JT(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||JT(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function A_(e){return vd(e)?e.replace(/\[|\]/gi,""):e}function Dt(e,t,n){return e?vd(t)?e[A_(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>Zq(o)&&s in o?o[s]:n,e):n}function Vi(e,t,n){if(vd(t)){e[A_(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<r.length;s++){if(s===r.length-1){o[r[s]]=n;return}(!(r[s]in o)||Qa(o[r[s]]))&&(o[r[s]]=QC(r[s+1])?[]:{}),o=o[r[s]]}}function Tv(e,t){if(Array.isArray(e)&&QC(t)){e.splice(Number(t),1);return}fs(e)&&delete e[t]}function _f(e,t){if(vd(t)){delete e[A_(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){Tv(r,n[s]);break}if(!(n[s]in r)||Qa(r[n[s]]))break;r=r[n[s]]}const o=n.map((s,a)=>Dt(e,n.slice(0,a).join(".")));for(let s=o.length-1;s>=0;s--)if(JC(o[s])){if(s===0){Tv(e,n[0]);continue}Tv(o[s-1],n[s-1])}}function nn(e){return Object.keys(e)}function k_(e,t=void 0){const n=uo();return(n==null?void 0:n.provides[e])||jn(e,t)}function Cg(e,t,n){if(Array.isArray(e)){const r=[...e],o=r.findIndex(s=>Wt(s,t));return o>=0?r.splice(o,1):r.push(t),r}return Wt(e,t)?n:t}function ZT(e,t=0){let n=null,r=[];return function(...o){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const s=e(...o);r.forEach(a=>a(s)),r=[]},t),new Promise(s=>r.push(s))}}function r$(e,t){return fs(t)&&t.number?Wq(e):e}function Og(e,t){let n;return async function(...o){const s=e(...o);n=s;const a=await s;return s!==n||(n=void 0,t(a,o)),a}}function i$({get:e,set:t}){const n=_t(lt(e()));return it(e,r=>{Wt(r,n.value)||(n.value=lt(r))},{deep:!0}),it(n,r=>{Wt(r,e())||t(lt(r))},{deep:!0}),n}const gd=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,o;return(o=(r=t.slots).default)===null||o===void 0?void 0:o.call(r,n())}}:t.slots.default;function Sv(e){if(tO(e))return e._value}function tO(e){return"_value"in e}function C_(e){if(!S_(e))return e;const t=e.target;if(Ru(t.type)&&tO(t))return Sv(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(e$(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Sv);if(ZC(t)){const n=Array.from(t.options).find(r=>r.selected);return n?Sv(n):t.value}return t.value}function nO(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?fs(e)&&e._$$isNormalized?e:fs(e)?Object.keys(e).reduce((n,r)=>{const o=o$(e[r]);return e[r]!==!1&&(n[r]=eS(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const o=s$(r);return o.name&&(n[o.name]=eS(o.params)),n},t):t}function o$(e){return e===!0?[]:Array.isArray(e)||fs(e)?e:[e]}function eS(e){const t=n=>typeof n=="string"&&n[0]==="@"?u$(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const s$=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function u$(e){const t=n=>Dt(n,e)||n[e];return t.__locatorRef=e,t}function a$(e){return Array.isArray(e)?e.filter(kg):nn(e).filter(t=>kg(e[t])).map(t=>e[t])}const c$={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Ng=Object.assign({},c$);const O_=()=>Ng,l$=e=>{Ng=Object.assign(Object.assign({},Ng),e)},f$=l$;async function rO(e,t,n={}){const r=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},a=(await h$(o,e)).errors;return{errors:a,valid:!a.length}}async function h$(e,t){if(Zi(e.rules)||Ya(e.rules))return p$(t,e.rules);if(gi(e.rules)||Array.isArray(e.rules)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let v=0;v<f;v++){const h=l[v],m=await h(t,a);if(typeof m!="string"&&m)continue;const _=typeof m=="string"?m:oO(a);if(d.push(_),e.bails)return{errors:d}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:nO(e.rules)}),r=[],o=Object.keys(n.rules),s=o.length;for(let a=0;a<s;a++){const l=o[a],f=await m$(n,t,{name:l,params:n.rules[l]});if(f.error&&(r.push(f.error),e.bails))return{errors:r}}return{errors:r}}function d$(e){return!!e&&e.name==="ValidationError"}function iO(e){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!d$(o))throw o;if(!(!((r=o.inner)===null||r===void 0)&&r.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(s)}}}}}async function p$(e,t){const r=await(Zi(t)?t:iO(t)).parse(e),o=[];for(const s of r.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function m$(e,t,n){const r=Xq(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const o=v$(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await r(t,o,s);return typeof a=="string"?{error:a}:{error:a?void 0:oO(s)}}function oO(e){const t=O_().generateMessage;return t?t(e):"Field is invalid"}function v$(e,t){const n=r=>kg(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,o)=>(r[o]=n(e[o]),r),{})}async function g$(e,t){const r=await(Zi(e)?e:iO(e)).parse(t),o={},s={};for(const a of r.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,v)=>`[${v}]`);o[f]={valid:!l.length,errors:l},l.length&&(s[f]=l[0])}return{valid:!r.errors.length,results:o,errors:s,values:r.value}}async function y$(e,t,n){const o=nn(e).map(async d=>{var v,h,m;const y=(v=n==null?void 0:n.names)===null||v===void 0?void 0:v[d],_=await rO(Dt(t,d),e[d],{name:(y==null?void 0:y.name)||d,label:y==null?void 0:y.label,values:t,bails:(m=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[d])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},_),{path:d})});let s=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,f[d.path]=d.errors[0]);return{valid:s,results:l,errors:f}}let tS=0;function _$(e,t){const{value:n,initialValue:r,setInitialValue:o}=sO(e,t.modelValue,t.form),{errorMessage:s,errors:a,setErrors:l}=b$(e,t.form),f=w$(n,r,a),d=tS>=Number.MAX_SAFE_INTEGER?0:++tS;function v(h){var m;"value"in h&&(n.value=h.value),"errors"in h&&l(h.errors),"touched"in h&&(f.touched=(m=h.touched)!==null&&m!==void 0?m:f.touched),"initialValue"in h&&o(h.initialValue)}return{id:d,path:e,value:n,initialValue:r,meta:f,errors:a,errorMessage:s,setState:v}}function sO(e,t,n){const r=_t(G(t));function o(){return n?Dt(n.meta.value.initialValues,G(e),G(r)):G(r)}function s(d){if(!n){r.value=d;return}n.stageInitialValue(G(e),d,!0)}const a=xe(o);if(!n)return{value:_t(o()),initialValue:a,setInitialValue:s};const l=t?G(t):Dt(n.values,G(e),G(a));return n.stageInitialValue(G(e),l,!0),{value:xe({get(){return Dt(n.values,G(e))},set(d){n.setFieldValue(G(e),d)}}),initialValue:a,setInitialValue:s}}function w$(e,t,n){const r=mr({touched:!1,pending:!1,valid:!0,validated:!!G(n).length,initialValue:xe(()=>G(t)),dirty:xe(()=>!Wt(G(e),G(t)))});return it(n,o=>{r.valid=!o.length},{immediate:!0,flush:"sync"}),r}function b$(e,t){function n(o){return o?Array.isArray(o)?o:[o]:[]}if(!t){const o=_t([]);return{errors:o,errorMessage:xe(()=>o.value[0]),setErrors:s=>{o.value=n(s)}}}const r=xe(()=>t.errorBag.value[G(e)]||[]);return{errors:r,errorMessage:xe(()=>r.value[0]),setErrors:o=>{t.setFieldErrorBag(G(e),n(o))}}}function E$(e,t,n){return Ru(n==null?void 0:n.type)?S$(e,t,n):uO(e,t,n)}function uO(e,t,n){const{initialValue:r,validateOnMount:o,bails:s,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:v,controlled:h,keepValueOnUnmount:m,modelPropName:y,syncVModel:_,form:b}=I$(G(e),n),S=h?k_(Xc):void 0,I=b||S;let R=!1;const{id:M,value:U,initialValue:P,meta:O,setState:j,errors:x,errorMessage:F}=_$(e,{modelValue:r,form:I});_&&A$({value:U,prop:y,handleChange:he});const A=()=>{O.touched=!0},be=xe(()=>{let L=G(t);const H=G(I==null?void 0:I.schema);return H&&!Ya(H)&&!Zi(H)&&(L=T$(H,G(e))||L),Ya(L)||Zi(L)||gi(L)||Array.isArray(L)?L:nO(L)});async function oe(L){var H,ee;return I!=null&&I.validateSchema?(H=(await I.validateSchema(L)).results[G(e)])!==null&&H!==void 0?H:{valid:!0,errors:[]}:rO(U.value,be.value,{name:G(e),label:G(f),values:(ee=I==null?void 0:I.values)!==null&&ee!==void 0?ee:{},bails:s})}const we=Og(async()=>(O.pending=!0,O.validated=!0,oe("validated-only")),L=>(R&&(L.valid=!0,L.errors=[]),j({errors:L.errors}),O.pending=!1,L)),Ee=Og(async()=>oe("silent"),L=>(R&&(L.valid=!0),O.valid=L.valid,L));function Ae(L){return(L==null?void 0:L.mode)==="silent"?Ee():we()}function he(L,H=!0){const ee=C_(L);U.value=ee,!d&&H&&we()}Mu(()=>{if(o)return we();(!I||!I.validateSchema)&&Ee()});function de(L){O.touched=L}let pe,et=lt(U.value);function Ye(){pe=it(U,(L,H)=>{if(Wt(L,H)&&Wt(L,et))return;(d?we:Ee)(),et=lt(L)},{deep:!0})}Ye();function tt(L){var H;pe==null||pe();const ee=L&&"value"in L?L.value:P.value;j({value:lt(ee),initialValue:lt(ee),touched:(H=L==null?void 0:L.touched)!==null&&H!==void 0?H:!1,errors:(L==null?void 0:L.errors)||[]}),O.pending=!1,O.validated=!1,Ee(),er(()=>{Ye()})}function nt(L){U.value=L}function Nt(L){j({errors:Array.isArray(L)?L:[L]})}const vt={id:M,name:e,label:f,value:U,meta:O,errors:x,errorMessage:F,type:a,checkedValue:l,uncheckedValue:v,bails:s,keepValueOnUnmount:m,resetField:tt,handleReset:()=>tt(),validate:Ae,handleChange:he,handleBlur:A,setState:j,setTouched:de,setErrors:Nt,setValue:nt};if(Qi(Yq,vt),at(t)&&typeof G(t)!="function"&&it(t,(L,H)=>{Wt(L,H)||(O.validated?we():Ee())},{deep:!0}),!I)return vt;I.register(vt),Fu(()=>{R=!0,I.unregister(vt)});const J=xe(()=>{const L=be.value;return!L||gi(L)||Ya(L)||Zi(L)||Array.isArray(L)?{}:Object.keys(L).reduce((H,ee)=>{const De=a$(L[ee]).map(je=>je.__locatorRef).reduce((je,Te)=>{const k=Dt(I.values,Te)||I.values[Te];return k!==void 0&&(je[Te]=k),je},{});return Object.assign(H,De),H},{})});return it(J,(L,H)=>{if(!Object.keys(L).length)return;!Wt(L,H)&&(O.validated?we():Ee())}),vt}function I$(e,t){var n;const r=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),s=((n=t==null?void 0:t.syncVModel)!==null&&n!==void 0?n:!0)&&!("initialValue"in(t||{}))?Rg(uo(),(t==null?void 0:t.modelPropName)||"modelValue"):t==null?void 0:t.initialValue;if(!t)return Object.assign(Object.assign({},r()),{initialValue:s});const a="valueProp"in t?t.valueProp:t.checkedValue,l="standalone"in t?!t.standalone:t.controlled;return Object.assign(Object.assign(Object.assign({},r()),t||{}),{initialValue:s,controlled:l??!0,checkedValue:a})}function T$(e,t){if(e)return e[t]}function S$(e,t,n){const r=n!=null&&n.standalone?void 0:k_(Xc),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=xe(()=>{const h=G(l.value),m=G(o);return Array.isArray(h)?h.findIndex(y=>Wt(y,m))>=0:Wt(m,h)});function v(h,m=!0){var y;if(d.value===((y=h==null?void 0:h.target)===null||y===void 0?void 0:y.checked)){m&&l.validate();return}let _=C_(h);r||(_=Cg(G(l.value),G(o),G(s))),f(_,m)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:s,handleChange:v})}return a(uO(e,t,n))}function A$({prop:e,value:t,handleChange:n}){const r=uo();if(!r)return;const o=e||"modelValue",s=`update:${o}`;o in r.props&&(it(t,a=>{Wt(a,Rg(r,o))||r.emit(s,a)}),it(()=>Rg(r,o),a=>{if(a===vh&&t.value===void 0)return;const l=a===vh?void 0:a;Wt(l,r$(t.value,r.props.modelModifiers))||n(l)}))}function Rg(e,t){if(e)return e.props[t]}const k$=ei({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>O_().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:vh},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Gt(e,"rules"),r=Gt(e,"name"),o=Gt(e,"label"),s=Gt(e,"uncheckedValue"),a=Gt(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:v,handleChange:h,handleBlur:m,setTouched:y,resetField:_,handleReset:b,meta:S,checked:I,setErrors:R}=E$(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:O$(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:a}),M=function(F,A=!0){h(F,A),t.emit("update:modelValue",f.value)},U=x=>{Ru(t.attrs.type)||(f.value=C_(x))},P=function(F){U(F),t.emit("update:modelValue",f.value)},O=xe(()=>{const{validateOnInput:x,validateOnChange:F,validateOnBlur:A,validateOnModelUpdate:be}=C$(e),oe=[m,t.attrs.onBlur,A?v:void 0].filter(Boolean),we=[de=>M(de,x),t.attrs.onInput].filter(Boolean),Ee=[de=>M(de,F),t.attrs.onChange].filter(Boolean),Ae={name:e.name,onBlur:oe,onInput:we,onChange:Ee};Ae["onUpdate:modelValue"]=de=>M(de,be),Ru(t.attrs.type)&&I&&(Ae.checked=I.value);const he=nS(e,t);return n$(he,t.attrs)&&(Ae.value=f.value),Ae});function j(){return{field:O.value,value:f.value,meta:S,errors:l.value,errorMessage:d.value,validate:v,resetField:_,handleChange:M,handleInput:P,handleReset:b,handleBlur:m,setTouched:y,setErrors:R}}return t.expose({setErrors:R,setTouched:y,reset:_,validate:v,handleChange:h}),()=>{const x=ds(nS(e,t)),F=gd(x,t,j);return x?xr(x,Object.assign(Object.assign({},t.attrs),O.value),F):F}}});function nS(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function C$(e){var t,n,r,o;const{validateOnInput:s,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=O_();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function O$(e,t){return Ru(t.attrs.type)?QT(e,"modelValue")?e.modelValue:void 0:QT(e,"modelValue")?e.modelValue:t.attrs.value}const N$=k$;let R$=0;function aO(e){const t=G(e==null?void 0:e.initialValues)||{};return e!=null&&e.validationSchema&&Zi(e.validationSchema)&&gi(e.validationSchema.cast)?lt(e.validationSchema.cast(t)||{}):lt(t)}function x$(e){var t;const n=R$++,r=new Set;let o=!1;const s=_t({}),a=_t(!1),l=_t(0),f=[],d=mr(aO(e)),{errorBag:v,setErrorBag:h,setFieldErrorBag:m}=L$(e==null?void 0:e.initialErrors),y=xe(()=>nn(v.value).reduce((T,N)=>{const V=v.value[N];return V&&V.length&&(T[N]=V[0]),T},{}));function _(T){const N=s.value[T];return Array.isArray(N)?N[0]:N}function b(T){return!!s.value[T]}const S=xe(()=>nn(s.value).reduce((T,N)=>{const V=_(N);return V&&(T[N]={name:G(V.name)||"",label:G(V.label)||""}),T},{})),I=xe(()=>nn(s.value).reduce((T,N)=>{var V;const $=_(N);return $&&(T[N]=(V=$.bails)!==null&&V!==void 0?V:!0),T},{})),R=Object.assign({},(e==null?void 0:e.initialErrors)||{}),M=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:U,originalInitialValues:P,setInitialValues:O}=D$(s,d,e),j=P$(s,d,P,y),x=xe(()=>[...r,...nn(s.value)].reduce((T,N)=>{const V=Dt(d,N);return Vi(T,N,V),T},{})),F=e==null?void 0:e.validationSchema,A=ZT(se,5),be=ZT(se,5),oe=Og(async T=>await T==="silent"?A():be(),(T,[N])=>{const V=he.fieldsByPath.value||{},$=nn(he.errorBag.value);return[...new Set([...nn(T.results),...nn(V),...$])].reduce((te,X)=>{const ve=V[X],Le=(T.results[X]||{errors:[]}).errors,Ve={errors:Le,valid:!Le.length};if(te.results[X]=Ve,Ve.valid||(te.errors[X]=Ve.errors[0]),!ve)return Ye(X,Le),te;if(pe(ve,Ge=>Ge.meta.valid=Ve.valid),N==="silent")return te;const Kn=Array.isArray(ve)?ve.some(Ge=>Ge.meta.validated):ve.meta.validated;return N==="validated-only"&&!Kn||pe(ve,Ge=>Ge.setState({errors:Ve.errors})),te},{valid:T.valid,results:{},errors:{}})});function we(T){return function(V,$){return function(te){return te instanceof Event&&(te.preventDefault(),te.stopPropagation()),H(nn(s.value).reduce((X,ve)=>(X[ve]=!0,X),{})),a.value=!0,l.value++,B().then(X=>{const ve=lt(d);if(X.valid&&typeof V=="function"){const Le=lt(x.value);let Ve=T?Le:ve;return X.values&&(Ve=X.values),V(Ve,{evt:te,controlledValues:Le,setErrors:tt,setFieldError:Ye,setTouched:H,setFieldTouched:L,setValues:Nt,setFieldValue:nt,resetForm:De,resetField:ee})}!X.valid&&typeof $=="function"&&$({values:ve,evt:te,errors:X.errors,results:X.results})}).then(X=>(a.value=!1,X),X=>{throw a.value=!1,X})}}}const Ae=we(!1);Ae.withControlled=we(!0);const he={formId:n,fieldsByPath:s,values:d,controlledValues:x,errorBag:v,errors:y,schema:F,submitCount:l,meta:j,isSubmitting:a,fieldArrays:f,keepValuesOnUnmount:M,validateSchema:G(F)?oe:void 0,validate:B,register:k,unregister:D,setFieldErrorBag:m,validateField:W,setFieldValue:nt,setValues:Nt,setErrors:tt,setFieldError:Ye,setFieldTouched:L,setTouched:H,resetForm:De,resetField:ee,handleSubmit:Ae,stageInitialValue:ae,unsetInitialValue:Q,setFieldInitialValue:le,useFieldModel:J};function de(T){return Array.isArray(T)}function pe(T,N){return Array.isArray(T)?T.forEach(N):N(T)}function et(T){Object.values(s.value).forEach(N=>{N&&pe(N,T)})}function Ye(T,N){m(T,N)}function tt(T){h(T)}function nt(T,N,{force:V}={force:!1}){var $;const re=s.value[T],te=lt(N);if(!re){Vi(d,T,te);return}if(de(re)&&(($=re[0])===null||$===void 0?void 0:$.type)==="checkbox"&&!Array.isArray(N)){const ve=lt(Cg(Dt(d,T)||[],N,void 0));Vi(d,T,ve);return}let X=te;!de(re)&&re.type==="checkbox"&&!V&&!o&&(X=lt(Cg(Dt(d,T),N,G(re.uncheckedValue)))),Vi(d,T,X)}function Nt(T){nn(d).forEach(N=>{delete d[N]}),nn(T).forEach(N=>{nt(N,T[N])}),f.forEach(N=>N&&N.reset())}function vt(T){const{value:N}=sO(T,void 0,he);return it(N,()=>{b(G(T))||B({mode:"validated-only"})},{deep:!0}),r.add(G(T)),N}function J(T){return Array.isArray(T)?T.map(vt):vt(T)}function L(T,N){const V=s.value[T];V&&pe(V,$=>$.setTouched(N))}function H(T){nn(T).forEach(N=>{L(N,!!T[N])})}function ee(T,N){const V=s.value[T];V&&pe(V,$=>$.resetField(N))}function De(T){o=!0,et(V=>V.resetField());const N=T!=null&&T.values?T.values:P.value;O(N),Nt(N),T!=null&&T.touched&&H(T.touched),tt((T==null?void 0:T.errors)||{}),l.value=(T==null?void 0:T.submitCount)||0,er(()=>{o=!1})}function je(T,N){const V=no(T),$=N;if(!s.value[$]){s.value[$]=V;return}const re=s.value[$];re&&!Array.isArray(re)&&(s.value[$]=[re]),s.value[$]=[...s.value[$],V]}function Te(T,N){const V=N,$=s.value[V];if($){if(!de($)&&T.id===$.id){delete s.value[V];return}if(de($)){const re=$.findIndex(te=>te.id===T.id);if(re===-1)return;$.splice(re,1),$.length||delete s.value[V]}}}function k(T){const N=G(T.name);je(T,N),at(T.name)&&it(T.name,async($,re)=>{await er(),Te(T,re),je(T,$),(y.value[re]||y.value[$])&&(Ye(re,void 0),W($)),await er(),b(re)||_f(d,re)});const V=G(T.errorMessage);V&&(R==null?void 0:R[N])!==V&&W(N),delete R[N]}function D(T){const N=G(T.name),V=s.value[N],$=!!V&&de(V);Te(T,N),er(()=>{var re;const te=(re=G(T.keepValueOnUnmount))!==null&&re!==void 0?re:G(M),X=Dt(d,N);if($&&(V===s.value[N]||!s.value[N])&&!te)if(Array.isArray(X)){const Le=X.findIndex(Ve=>Wt(Ve,G(T.checkedValue)));if(Le>-1){const Ve=[...X];Ve.splice(Le,1),nt(N,Ve,{force:!0})}}else X===G(T.checkedValue)&&_f(d,N);if(!b(N)){if(Ye(N,void 0),te||$&&Array.isArray(X)&&!JC(X))return;_f(d,N)}})}async function B(T){const N=(T==null?void 0:T.mode)||"force";if(N==="force"&&et(te=>te.meta.validated=!0),he.validateSchema)return he.validateSchema(N);const V=await Promise.all(Object.values(s.value).map(te=>{const X=Array.isArray(te)?te[0]:te;return X?X.validate(T).then(ve=>({key:G(X.name),valid:ve.valid,errors:ve.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),$={},re={};for(const te of V)$[te.key]={valid:te.valid,errors:te.errors},te.errors.length&&(re[te.key]=te.errors[0]);return{valid:V.every(te=>te.valid),results:$,errors:re}}async function W(T){const N=s.value[T];return N?Array.isArray(N)?N.map(V=>V.validate())[0]:N.validate():Promise.resolve({errors:[],valid:!0})}function Q(T){_f(U.value,T)}function ae(T,N,V=!1){Vi(d,T,N),le(T,N),V&&!(e!=null&&e.initialValues)&&Vi(P.value,T,lt(N))}function le(T,N){Vi(U.value,T,lt(N))}async function se(){const T=G(F);return T?Ya(T)||Zi(T)?await g$(T,d):await y$(T,d,{names:S.value,bailsMap:I.value}):{valid:!0,results:{},errors:{}}}const fe=Ae((T,{evt:N})=>{eO(N)&&N.target.submit()});return Mu(()=>{if(e!=null&&e.initialErrors&&tt(e.initialErrors),e!=null&&e.initialTouched&&H(e.initialTouched),e!=null&&e.validateOnMount){B();return}he.validateSchema&&he.validateSchema("silent")}),at(F)&&it(F,()=>{var T;(T=he.validateSchema)===null||T===void 0||T.call(he,"validated-only")}),Qi(Xc,he),Object.assign(Object.assign({},he),{handleReset:()=>De(),submitForm:fe})}function P$(e,t,n,r){const o={touched:"some",pending:"some",valid:"every"},s=xe(()=>!Wt(t,G(n)));function a(){const f=Object.values(e.value).flat(1).filter(Boolean);return nn(o).reduce((d,v)=>{const h=o[v];return d[v]=f[h](m=>m.meta[v]),d},{})}const l=mr(a());return $S(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),xe(()=>Object.assign(Object.assign({initialValues:G(n)},l),{valid:l.valid&&!nn(r.value).length,dirty:s.value}))}function D$(e,t,n){const r=aO(n),o=n==null?void 0:n.initialValues,s=_t(r),a=_t(lt(r));function l(f,d=!1){s.value=lt(f),a.value=lt(f),d&&nn(e.value).forEach(v=>{const h=e.value[v],m=Array.isArray(h)?h.some(_=>_.meta.touched):h==null?void 0:h.meta.touched;if(!h||m)return;const y=Dt(s.value,v);Vi(t,v,lt(y))})}return at(o)&&it(o,f=>{l(f,!0)},{deep:!0}),{initialValues:s,originalInitialValues:a,setInitialValues:l}}function L$(e){const t=_t({});function n(s){return Array.isArray(s)?s:s?[s]:[]}function r(s,a){if(!a){delete t.value[s];return}t.value[s]=n(a)}function o(s){t.value=nn(s).reduce((a,l)=>{const f=s[l];return f&&(a[l]=n(f)),a},{})}return e&&o(e),{errorBag:t,setErrorBag:o,setFieldErrorBag:r}}const M$=ei({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Gt(e,"initialValues"),r=Gt(e,"validationSchema"),o=Gt(e,"keepValues"),{errors:s,errorBag:a,values:l,meta:f,isSubmitting:d,submitCount:v,controlledValues:h,validate:m,validateField:y,handleReset:_,resetForm:b,handleSubmit:S,setErrors:I,setFieldError:R,setFieldValue:M,setValues:U,setFieldTouched:P,setTouched:O,resetField:j}=x$({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),x=S((he,{evt:de})=>{eO(de)&&de.target.submit()},e.onInvalidSubmit),F=e.onSubmit?S(e.onSubmit,e.onInvalidSubmit):x;function A(he){S_(he)&&he.preventDefault(),_(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function be(he,de){return S(typeof he=="function"&&!de?he:de,e.onInvalidSubmit)(he)}function oe(){return lt(l)}function we(){return lt(f.value)}function Ee(){return lt(s.value)}function Ae(){return{meta:f.value,errors:s.value,errorBag:a.value,values:l,isSubmitting:d.value,submitCount:v.value,controlledValues:h.value,validate:m,validateField:y,handleSubmit:be,handleReset:_,submitForm:x,setErrors:I,setFieldError:R,setFieldValue:M,setValues:U,setFieldTouched:P,setTouched:O,resetForm:b,resetField:j,getValues:oe,getMeta:we,getErrors:Ee}}return t.expose({setFieldError:R,setErrors:I,setFieldValue:M,setValues:U,setFieldTouched:P,setTouched:O,resetForm:b,validate:m,validateField:y,resetField:j,getValues:oe,getMeta:we,getErrors:Ee}),function(){const de=e.as==="form"?e.as:ds(e.as),pe=gd(de,t,Ae);if(!e.as)return pe;const et=e.as==="form"?{novalidate:!0}:{};return xr(de,Object.assign(Object.assign(Object.assign({},et),t.attrs),{onSubmit:F,onReset:A}),pe)}}}),F$=M$;function V$(e){const t=k_(Xc,void 0),n=_t([]),r=()=>{},o={fields:n,remove:r,push:r,swap:r,insert:r,update:r,replace:r,prepend:r,move:r};if(!t||!G(e))return o;const s=t.fieldArrays.find(P=>G(P.path)===G(e));if(s)return s;let a=0;function l(){return Dt(t==null?void 0:t.values,G(e),[])||[]}function f(){const P=l();n.value=P.map(v),d()}f();function d(){const P=n.value.length;for(let O=0;O<P;O++){const j=n.value[O];j.isFirst=O===0,j.isLast=O===P-1}}function v(P){const O=a++;return{key:O,value:i$({get(){const x=Dt(t==null?void 0:t.values,G(e),[])||[],F=n.value.findIndex(A=>A.key===O);return F===-1?P:x[F]},set(x){const F=n.value.findIndex(A=>A.key===O);F!==-1&&I(F,x)}}),isFirst:!1,isLast:!1}}function h(){d(),t==null||t.validate({mode:"silent"})}function m(P){const O=G(e),j=Dt(t==null?void 0:t.values,O);if(!j||!Array.isArray(j))return;const x=[...j];x.splice(P,1),t==null||t.unsetInitialValue(O+`[${P}]`),t==null||t.setFieldValue(O,x),n.value.splice(P,1),h()}function y(P){const O=G(e),j=Dt(t==null?void 0:t.values,O),x=Qa(j)?[]:j;if(!Array.isArray(x))return;const F=[...x];F.push(P),t==null||t.stageInitialValue(O+`[${F.length-1}]`,P),t==null||t.setFieldValue(O,F),n.value.push(v(P)),h()}function _(P,O){const j=G(e),x=Dt(t==null?void 0:t.values,j);if(!Array.isArray(x)||!(P in x)||!(O in x))return;const F=[...x],A=[...n.value],be=F[P];F[P]=F[O],F[O]=be;const oe=A[P];A[P]=A[O],A[O]=oe,t==null||t.setFieldValue(j,F),n.value=A,d()}function b(P,O){const j=G(e),x=Dt(t==null?void 0:t.values,j);if(!Array.isArray(x)||x.length<P)return;const F=[...x],A=[...n.value];F.splice(P,0,O),A.splice(P,0,v(O)),t==null||t.setFieldValue(j,F),n.value=A,h()}function S(P){const O=G(e);t==null||t.setFieldValue(O,P),f(),h()}function I(P,O){const j=G(e),x=Dt(t==null?void 0:t.values,j);!Array.isArray(x)||x.length-1<P||(t==null||t.setFieldValue(`${j}[${P}]`,O),t==null||t.validate({mode:"validated-only"}))}function R(P){const O=G(e),j=Dt(t==null?void 0:t.values,O),x=Qa(j)?[]:j;if(!Array.isArray(x))return;const F=[P,...x];t==null||t.stageInitialValue(O+`[${F.length-1}]`,P),t==null||t.setFieldValue(O,F),n.value.unshift(v(P)),h()}function M(P,O){const j=G(e),x=Dt(t==null?void 0:t.values,j),F=Qa(x)?[]:[...x];if(!Array.isArray(x)||!(P in x)||!(O in x))return;const A=[...n.value],be=A[P];A.splice(P,1),A.splice(O,0,be);const oe=F[P];F.splice(P,1),F.splice(O,0,oe),t==null||t.setFieldValue(j,F),n.value=A,h()}const U={fields:n,remove:m,push:y,swap:_,insert:b,update:I,replace:S,prepend:R,move:M};return t.fieldArrays.push(Object.assign({path:e,reset:f},U)),Fu(()=>{const P=t.fieldArrays.findIndex(O=>G(O.path)===G(e));P>=0&&t.fieldArrays.splice(P,1)}),it(l,P=>{const O=n.value.map(j=>j.value);Wt(P,O)||f()}),U}ei({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(e,t){const{push:n,remove:r,swap:o,insert:s,replace:a,update:l,prepend:f,move:d,fields:v}=V$(Gt(e,"name"));function h(){return{fields:v.value,push:n,remove:r,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}}return t.expose({push:n,remove:r,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}),()=>gd(void 0,t,h)}});const j$=ei({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=jn(Xc,void 0),r=xe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?ds(e.as):e.as,a=gd(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?xr(s||"span",l,r.value):xr(s,l,a)}}}),yd=j$,U$={name:"RegisterForm",components:{ErrorMessage:yd},data(){return{schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|email",age:"required|min_value:18|max_value:90",password:"required|min:9|max:30|excluded:password",confirm_password:"psw_mismatch:@password",country:"required|country_excluded:China",tos:"tos"},userData:{country:"USA"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! Your account is being created."}},computed:{},methods:{...Ph(zu,{createUser:"register"}),async register(e){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! Your account is being created.";try{await this.createUser(e)}catch(t){const{code:n,message:r}=t;switch(this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",n){case"auth/email-already-in-use":this.reg_alert_msg=r;break;default:this.reg_alert_msg="An unexpected error occured. Please try again later."}console.log("auth error",t);return}this.reg_alert_variant="bg-green-500",this.reg_alert_msg="Congratulations! Your Account has been created.",window.location.reload()}}},B$={class:"mb-3"},q$=K("label",{class:"inline-block mb-2"},"Name",-1),$$={class:"mb-3"},H$=K("label",{class:"inline-block mb-2"},"Email",-1),K$={class:"mb-3"},G$=K("label",{class:"inline-block mb-2"},"Age",-1),z$={class:"mb-3"},W$=K("label",{class:"inline-block mb-2"},"Password",-1),X$={class:"mb-3"},Q$=K("label",{class:"inline-block mb-2"},"Confirm Password",-1),Y$={class:"mb-3"},J$=K("label",{class:"inline-block mb-2"},"Country",-1),Z$=K("option",{value:"USA"},"USA",-1),e3=K("option",{value:"Mexico"},"Mexico",-1),t3=K("option",{value:"Germany"},"Germany",-1),n3=K("option",{value:"China"},"China",-1),r3={class:"mb-3 pl-6"},i3={class:"inline-block"},o3=["disabled"];function s3(e,t,n,r,o,s){const a=At("vee-field"),l=At("ErrorMessage"),f=At("vee-form");return We(),dt("div",null,[o.reg_show_alert?(We(),dt("div",{key:0,class:Cn(["text-white text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},Bt(o.reg_alert_msg),3)):Cc("",!0),Oe(f,{"validation-schema":o.schema,"initial-values":o.userData,onSubmit:s.register},{default:Vn(()=>[K("div",B$,[q$,Oe(a,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),Oe(l,{class:"text-red-600",name:"name"})]),K("div",$$,[H$,Oe(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Oe(l,{class:"text-red-600",name:"email"})]),K("div",K$,[G$,Oe(a,{name:"age",type:"number",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),Oe(l,{class:"text-red-600",name:"age"})]),K("div",z$,[W$,Oe(a,{name:"password",bails:!1},{default:Vn(({field:d,errors:v})=>[K("input",a1({type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"},d),null,16),(We(!0),dt(hn,null,kc(v,h=>(We(),dt("div",{class:"text-red-600",key:h},Bt(h),1))),128))]),_:1})]),K("div",X$,[Q$,Oe(a,{name:"confirm_password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"}),Oe(l,{class:"text-red-600",name:"confirm_password"})]),K("div",Y$,[J$,Oe(a,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Vn(()=>[Z$,e3,t3,n3]),_:1}),Oe(l,{class:"text-red-600",name:"country"})]),K("div",r3,[K("label",i3,[Oe(a,{name:"tos",type:"checkbox",value:"1",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),li("Accept terms of service")])]),Oe(l,{class:"text-red-600",name:"tos"}),K("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700 disabled:bg-gray-300",disabled:o.reg_in_submission}," Submit ",8,o3)]),_:1},8,["validation-schema","initial-values","onSubmit"])])}const u3=sr(U$,[["render",s3]]),a3={name:"RegisterForm",components:{ErrorMessage:yd},data(){return{schema:{email:"required|email",password:"required|min:9|max:30"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! We are logging you in."}},computed:{},methods:{...Ph(zu,["authenticate"]),async login(e){console.log(e),this.login_show_alert=!0,this.login_in_submission=!0,this.login_alert_variant="bg-blue-500",this.login_alert_msg="Please wait! We are logging you in.";try{await this.authenticate(e)}catch(t){this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="An unexpected error occured. Please try again later.",console.log("auth error",t);return}this.login_alert_variant="bg-green-500",this.login_alert_msg="Success! You are now logged in.",window.location.reload()}}},c3={class:"mb-3"},l3=K("label",{class:"inline-block mb-2"},"Email",-1),f3={class:"mb-3"},h3=K("label",{class:"inline-block mb-2"},"Password",-1),d3=["disabled"];function p3(e,t,n,r,o,s){const a=At("vee-field"),l=At("ErrorMessage"),f=At("vee-form");return We(),dt("div",null,[o.login_show_alert?(We(),dt("div",{key:0,class:Cn(["text-white text-center font-bold p-4 rounded mb-4",o.login_alert_variant])},Bt(o.login_alert_msg),3)):Cc("",!0),Oe(f,{"validation-schema":o.schema,onSubmit:s.login},{default:Vn(()=>[K("div",c3,[l3,Oe(a,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Oe(l,{class:"text-red-600",name:"email"})]),K("div",f3,[h3,Oe(a,{type:"password",name:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),Oe(l,{class:"text-red-600",name:"password"})]),K("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700 disabled:bg-gray-300",disabled:o.login_in_submission}," Submit ",8,d3)]),_:1},8,["validation-schema","onSubmit"])])}const m3=sr(a3,[["render",p3]]);const v3={name:"AppAuth",components:{RegisterForm:u3,LoginForm:m3},data(){return{tab:"login"}},computed:{...ny(Hv,["hiddenClass"]),...g1(Hv,["isOpen"])},methods:{login(e){console.log(e)}}},_d=e=>(SD("data-v-011e35f0"),e=e(),AD(),e),g3={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},y3=_d(()=>K("div",{class:"fixed inset-0 transition-opacity"},[K("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1)),_3=_d(()=>K("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"",-1)),w3={class:"form-panel inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},b3={class:"py-4 text-left px-6"},E3={class:"flex justify-between items-center pb-4"},I3=_d(()=>K("p",{class:"text-2xl font-bold"},"Your Account",-1)),T3=_d(()=>K("i",{class:"fas fa-times"},null,-1)),S3=[T3],A3={class:"flex flex-wrap mb-4"},k3={class:"flex-auto text-center"},C3={class:"flex-auto text-center"};function O3(e,t,n,r,o,s){const a=At("login-form"),l=At("register-form");return We(),dt("div",{class:Cn(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[K("div",g3,[y3,_3,K("div",w3,[K("div",b3,[K("div",E3,[I3,K("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=f=>e.isOpen=!1)},S3)]),K("ul",A3,[K("li",k3,[K("a",{class:Cn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="login","hover:text-blue-600":o.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=f=>o.tab="login")},"Login",2)]),K("li",C3,[K("a",{class:Cn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":o.tab==="register","hover:text-blue-600":o.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=f=>o.tab="register")},"Register",2)])]),o.tab==="login"?(We(),rs(a,{key:0})):(We(),rs(l,{key:1}))])])])],2)}const N3=sr(v3,[["render",O3],["__scopeId","data-v-011e35f0"]]);const R3={name:"App",components:{AppHeader:Lq,Player:zq,AppAuth:N3},computed:{...g1(zu,["userLoggedIn"])},created(){Rr.currentUser&&(this.userLoggedIn=!0)}},x3={class:"app-root"};function P3(e,t,n,r,o,s){const a=At("app-header"),l=At("router-view"),f=At("player"),d=At("app-auth");return We(),dt("div",x3,[Oe(a),Oe(l,null,{default:Vn(({Component:v})=>[Oe(ey,{name:"fade",mode:"out-in"},{default:Vn(()=>[(We(),rs(ds(v)))]),_:2},1024)]),_:1}),Oe(f),Oe(d)])}const D3=sr(R3,[["render",P3]]),L3={name:"AppSongItem",props:{song:{type:Object,required:!0}}},M3={class:"flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"},F3={class:"text-gray-500 text-sm"},V3={class:"text-gray-600 text-lg"},j3=["onClick"],U3=K("i",{class:"fa fa-comments text-gray-600"},null,-1);function B3(e,t,n,r,o,s){const a=At("router-link");return We(),dt("div",null,[K("li",M3,[K("div",null,[Oe(a,{to:{name:"song",params:{id:n.song.docID}},class:"font-bold block text-gray-600"},{default:Vn(()=>[li(Bt(n.song.modified_name),1)]),_:1},8,["to"]),K("span",F3,Bt(n.song.display_name),1)]),K("div",V3,[Oe(a,{custom:"",to:{name:"song",params:{id:n.song.docID},hash:"#comments"}},{default:Vn(({navigate:l})=>[K("span",{class:"comments",onClick:l},[U3,li(" "+Bt(n.song.comment_count),1)],8,j3)]),_:1},8,["to"])])])])}const q3=sr(L3,[["render",B3]]),$3="/assets/img/introduction-music.png",H3={name:"Home",components:{AppSongItme:q3},data(){return{songs:[],maxPerPage:30,pendingRequest:!1}},methods:{async getSongs(){if(this.pendingRequest)return;this.pendingRequest=!0;let e;if(this.songs.length){const t=await pi.doc(this.songs[this.songs.length-1].docID).get();e=await pi.orderBy("modified_name").startAfter(t).limit(this.maxPerPage).get()}else e=await pi.orderBy("modified_name").limit(this.maxPerPage).get();e.forEach(t=>{this.songs.push({...t.data(),docID:t.id})}),this.pendingRequest=!1},handleScroll(){const{offsetHeight:e,scrollTop:t}=document.documentElement,{innerHeight:n}=window;Math.round(t)+n===e&&this.getSongs()}},async created(){await this.getSongs(),window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}},K3=hL('<section class="mb-8 py-20 text-white text-center relative"><div class="absolute inset-0 w-full h-full bg-contain introduction-bg" style="background-image:url(assets/img/header.png);"></div><div class="container mx-auto"><div class="text-white main-header-content"><h1 class="font-bold text-5xl mb-5">Listen to Great Music!</h1><p class="w-full md:w-8/12 mx-auto"> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus et dolor mollis, congue augue non, venenatis elit. Nunc justo eros, suscipit ac aliquet imperdiet, venenatis et sapien. Duis sed magna pulvinar, fringilla lorem eget, ullamcorper urna. </p></div></div><img class="relative block mx-auto mt-5 -mb-20 w-auto max-w-full" src="'+$3+'"></section>',1),G3={class:"container mx-auto"},z3={class:"bg-white rounded border border-gray-200 relative flex flex-col"},W3=K("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[K("span",{class:"card-title"},"Songs"),K("i",{class:"fa fa-headphones-alt float-right text-green-400 text-xl"})],-1),X3={id:"playlist"};function Q3(e,t,n,r,o,s){const a=At("AppSongItme");return We(),dt("div",null,[K3,K("section",G3,[K("div",z3,[W3,K("ol",X3,[(We(!0),dt(hn,null,kc(o.songs,l=>(We(),rs(a,{key:l.docID,song:l},null,8,["song"]))),128))])])])])}const Y3=sr(H3,[["render",Q3]]),J3={},Z3={class:"about"},e4=K("h1",null,"This is an about page",-1),t4=[e4];function n4(e,t){return We(),dt("div",Z3,t4)}const r4=sr(J3,[["render",n4]]),i4={name:"Upload",props:{addSong:{required:!0,type:Function}},data(){return{is_dargover:!1,uploads:[]}},methods:{upload(e){this.is_dargover=!1,console.log(e);const t=e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files];console.log(t),t.forEach(n=>{if(n.type!=="audio/mpeg")return;const r=`${Rr.currentUser.uid} - ${n.name}`,a=FC.ref().child(`songs/${r}`).put(n),l=this.uploads.push({task:a,current_progress:0,stored_name:r,modified_name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;a.on("state_changed",f=>{const d=f.bytesTransferred/f.totalBytes*100;this.uploads[l].current_progress=d},f=>{this.uploads[l].variant="bg-red-400",this.uploads[l].icon="fas fa-times",this.uploads[l].text_class="text-red-400",console.log(f)},async()=>{const f={uid:Rr.currentUser.uid,display_name:Rr.currentUser.displayName,stored_name:a.snapshot.ref.name,modified_name:n.name,genre:"",comment_count:0};f.url=await a.snapshot.ref.getDownloadURL();const v=await(await pi.add(f)).get();this.addSong(v),this.uploads[l].variant="bg-green-400",this.uploads[l].icon="fas fa-check",this.uploads[l].text_class="text-green-400"})})},cancelUpload(){this.uploads.forEach(e=>{e.task.cancel()})}},beforeUnmount(){this.cancelUpload()}},o4={class:"bg-white rounded border border-gray-200 relative flex flex-col"},s4=K("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[K("span",{class:"card-title"},"Upload"),K("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),u4={class:"p-6"},a4=K("h5",null,"Drop your files here",-1),c4=[a4],l4=K("hr",{class:"my-6"},null,-1),f4={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function h4(e,t,n,r,o,s){return We(),dt("div",null,[K("div",o4,[s4,K("div",u4,[K("div",{class:Cn(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid",{"bg-green-400 border-green-400 border-solid ":o.is_dargover}]),onDrag:t[0]||(t[0]=Mn(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=Mn(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=Mn(()=>{},["prevent","stop"])),onDragenter:t[3]||(t[3]=Mn(a=>o.is_dargover=!1,["prevent","stop"])),onDragleave:t[4]||(t[4]=Mn(a=>o.is_dargover=!0,["prevent","stop"])),onDragover:t[5]||(t[5]=Mn(a=>o.is_dargover=!0,["prevent","stop"])),onDrop:t[6]||(t[6]=Mn(a=>s.upload(a),["prevent","stop"]))},c4,34),K("input",{type:"file",name:"",id:"",multiple:"",onChange:t[7]||(t[7]=a=>s.upload(a))},null,32),l4,(We(!0),dt(hn,null,kc(o.uploads,a=>(We(),dt("div",{class:"mb-4",key:a.stored_name},[K("div",{class:Cn(["font-bold text-sm",a.text_class])},[K("i",{class:Cn(a.icon)},null,2),li(Bt(a.modified_name),1)],2),K("div",f4,[K("div",{class:Cn(["transition-all progress-bar bg-blue-400",a.variant]),style:uu({width:a.current_progress+"%"})},null,6)])]))),128))])])])}const d4=sr(i4,[["render",h4]]),p4={name:"CompositionItem",components:{ErrorMessage:yd},props:{song:{required:!0,type:Object},updateSong:{required:!0,type:Function},removeSong:{required:!0,type:Function},index:{required:!0,type:Number}},data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},in_submission:!1,show_alert:!1,alert_variant:"bg-blue-500",alert_message:"Please wait! Updating song info."}},methods:{async submitEdition(e){console.log(e),this.in_submission=!0,this.show_alert=!0,this.alert_variant="bg-blue-500",this.alert_message="Please wait! Updating song info.";try{await pi.doc(this.song.docID).update(e),this.updateSong(this.index,e)}catch(t){console.log(t),this.in_submission=!1,this.alert_variant="bg-red-500",this.alert_message="Something went wrong! Try again later.";return}this.in_submission=!1,this.alert_variant="bg-green-500",this.alert_message="Success!",setTimeout(()=>{this.show_alert=!1},2500)},async deleteSong(){await FC.ref().child(`songs/${this.song.stored_name}`).delete(),await pi.doc(this.song.docID).delete(),this.removeSong(this.index)}}},m4={class:"border border-gray-200 p-3 mb-4 rounded"},v4={class:"overflow-hidden"},g4={class:"inline-block text-2xl font-bold"},y4=K("i",{class:"fa fa-times"},null,-1),_4=[y4],w4=K("i",{class:"fa fa-pencil-alt"},null,-1),b4=[w4],E4={class:"mb-3"},I4=K("label",{class:"inline-block mb-2"},"Song Title",-1),T4={class:"mb-3"},S4=K("label",{class:"inline-block mb-2"},"Genre",-1),A4=["disabled"],k4=["disabled"];function C4(e,t,n,r,o,s){const a=At("vee-field"),l=At("ErrorMessage"),f=At("vee-form");return We(),dt("div",null,[K("div",m4,[Vf(K("div",v4,[K("h4",g4,Bt(n.song.modified_name),1),K("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right",onClick:t[0]||(t[0]=Mn((...d)=>s.deleteSong&&s.deleteSong(...d),["prevent"]))},_4),K("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right",onClick:t[1]||(t[1]=d=>o.showForm=!o.showForm)},b4)],512),[[Bv,!o.showForm]]),Vf(K("div",null,[o.show_alert?(We(),dt("div",{key:0,class:Cn(["text-white text-center font-bold p-4 mb-4",o.alert_variant])},Bt(o.alert_message),3)):Cc("",!0),Oe(f,{"validation-schema":o.schema,"initial-values":n.song,onSubmit:s.submitEdition},{default:Vn(()=>[K("div",E4,[I4,Oe(a,{name:"modified_name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",value:n.song.modified_name,placeholder:"Enter Song Title"},null,8,["value"]),Oe(l,{class:"text-red-600",name:"modified_name"})]),K("div",T4,[S4,Oe(a,{name:"genre",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",value:n.song.genre,placeholder:"Enter Genre"},null,8,["value"]),Oe(l,{class:"text-red-600",name:"genre"})]),K("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600",disabled:o.in_submission}," Submit ",8,A4),K("button",{type:"button",class:"py-1.5 px-3 rounded text-white bg-gray-600",disabled:o.in_submission,onClick:t[2]||(t[2]=Mn(d=>o.showForm=!o.showForm,["prevent"]))}," Go Back ",8,k4)]),_:1},8,["validation-schema","initial-values","onSubmit"])],512),[[Bv,o.showForm]])])])}const O4=sr(p4,[["render",C4]]),N4={name:"Manage",components:{Upload:d4,CompositionItme:O4},data(){return{songs:[],unsavedFlag:!1}},beforeRouteLeave(e,t,n){console.log("boforeRouterEnter Guard"),this.$refs.upload.cancelUpload(),n()},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)}},async created(){(await pi.where("uid","==",Rr.currentUser.uid).get()).forEach(n=>{this.addSong(n)})}},R4={class:"container mx-auto mt-6"},x4={class:"md:grid md:grid-cols-3 md:gap-4"},P4={class:"col-span-1"},D4={class:"col-span-2"},L4={class:"bg-white rounded border border-gray-200 relative flex flex-col"},M4=K("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[K("span",{class:"card-title"},"My Songs"),K("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"})],-1),F4={class:"p-6"};function V4(e,t,n,r,o,s){const a=At("upload"),l=At("composition-itme");return We(),dt("div",null,[K("section",R4,[K("div",x4,[K("div",P4,[Oe(a,{ref:"upload",addSong:s.addSong},null,8,["addSong"])]),K("div",D4,[K("div",L4,[M4,K("div",F4,[(We(!0),dt(hn,null,kc(o.songs,(f,d)=>(We(),rs(l,{key:f.docID,song:f,index:d,updateSong:s.updateSong,removeSong:s.removeSong},null,8,["song","index","updateSong","removeSong"]))),128))])])])])])])}const j4=sr(N4,[["render",V4]]),U4={name:"Song",data(){return{song:{},comments:[],schema:{comment:"required|min:3"},comment_in_sumission:!1,comment_show_alert:!1,comment_alert_variant:"bg-blue-500",comment_alert_message:"Please wait! Your comment is being submitted.",sort:"1"}},computed:{...ny(zu,["userLoggedIn"]),sortedComments(){return this.comments.slice().sort((e,t)=>this.sort==="1"?new Date(t.datePosted)-new Date(e.datePosted):new Date(e.datePosted)-new Date(t.datePosted))}},watch:{sort(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}},methods:{...Ph(Ag,["newSong"]),async getComments(){const e=await xT.where("sid","==",this.$route.params.id).get();this.comments=[],e.forEach(t=>{this.comments.push({docID:t.id,...t.data()})})},async addComment(e,{resetForm:t}){this.comment_in_sumission=!0,this.comment_show_alert=!0,this.comment_alert_variant="bg-blue-500",this.comment_alert_message="Please wait! Your comment is being submitted.";const n={content:e.comment,datePosted:new Date().toString(),sid:this.$route.params.id,name:Rr.currentUser.displayName,uid:Rr.currentUser.uid};await xT.add(n),t(),this.song.comment_count+=1,await pi.doc(this.$route.params.id).update({comment_count:this.song.comment_count}),this.getComments(),this.comment_in_sumission=!1,this.comment_alert_message="Comment added",this.comment_alert_variant="bg-green-500",setTimeout(()=>{this.comment_show_alert=!1},2e3)}},async created(){const e=await pi.doc(this.$route.params.id).get();if(!e.exists){this.$router.push({name:"home"});return}const{sort:t}=this.$route.query;this.sort=t==="2"?t:"1",this.song=e.data(),this.getComments()}},B4={class:"w-full mb-8 py-14 text-center text-white relative"},q4=K("div",{class:"absolute inset-0 w-full h-full box-border bg-contain music-bg",style:{"background-image":"url(/assets/img/song-header.png)"}},null,-1),$4={class:"container mx-auto flex items-center"},H4=K("i",{class:"fas fa-play"},null,-1),K4=[H4],G4={class:"z-50 text-left ml-8"},z4={class:"text-3xl font-bold"},W4={class:"container mx-auto mt-6",id:"comments"},X4={class:"bg-white rounded border border-gray-200 relative flex flex-col"},Q4={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},Y4={class:"card-title"},J4=K("i",{class:"fa fa-comments float-right text-green-400 text-2xl"},null,-1),Z4={class:"p-6"},eH=["disabled"],tH=K("option",{value:"1"},"Latest",-1),nH=K("option",{value:"2"},"Oldest",-1),rH=[tH,nH],iH={class:"container mx-auto"},oH={class:"mb-5"},sH={class:"font-bold"};function uH(e,t,n,r,o,s){const a=At("vee-field"),l=At("ErrorMessage"),f=At("vee-form");return We(),dt("div",null,[K("section",B4,[q4,K("div",$4,[K("button",{type:"button",class:"z-50 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none",onClick:t[0]||(t[0]=Mn(d=>e.newSong(o.song),["prevent"]))},K4),K("div",G4,[K("div",z4,Bt(o.song.modified_name),1),K("div",null,Bt(o.song.genre),1)])])]),K("section",W4,[K("div",X4,[K("div",Q4,[K("span",Y4,"Comments ("+Bt(o.song.comment_count)+")",1),J4]),K("div",Z4,[Vf(K("div",{class:Cn(["text-white text-center font-bold p-4 mb-4",o.comment_alert_variant])},Bt(o.comment_alert_message),3),[[Bv,o.comment_show_alert]]),e.userLoggedIn?(We(),rs(f,{key:0,"validation-schema":o.schema,onSubmit:s.addComment},{default:Vn(()=>[Oe(a,{as:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded mb-4",placeholder:"Your comment here..."}),Oe(l,{class:"text-red-600",name:"comment"}),K("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_sumission}," Submit ",8,eH)]),_:1},8,["validation-schema","onSubmit"])):Cc("",!0),Vf(K("select",{class:"block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded","onUpdate:modelValue":t[1]||(t[1]=d=>o.sort=d)},rH,512),[[GL,o.sort]])])])]),K("ul",iH,[(We(!0),dt(hn,null,kc(s.sortedComments,d=>(We(),dt("li",{class:"p-6 bg-gray-50 border border-gray-200",key:d.docID},[K("div",oH,[K("div",sH,Bt(d.name),1),K("time",null,Bt(d.datePosted),1)]),K("p",null,Bt(d.content),1)]))),128))])])}const aH=sr(U4,[["render",uH]]),cH=[{name:"home",path:"/",component:Y3},{name:"about",path:"/about",component:r4},{name:"manage",alias:"/manage",path:"/manage-music",component:j4,beforeEnter:(e,t,n)=>{console.log("boforeEnter Guard"),n()},meta:{requiresAuth:!0}},{name:"song",path:"/song/:id",component:aH},{name:"error",path:"/:catchAll(.*)*",redirect:{name:"home"}}],cO=Aq({history:$B("/"),routes:cH,linkExactActiveClass:"text-yellow-500"});cO.beforeEach((e,t,n)=>{e.meta.requiresAuth?zu().userLoggedIn?(console.log(""),n()):(console.log(""),n({name:"home"})):n()});/**
  * vee-validate v4.8.3
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const wf={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},lH=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Qc(e,t){return Array.isArray(e)?e[0]:e[t]}function mo(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const lO=(e,t)=>{if(mo(e))return!0;const n=lH(t);if(Array.isArray(e))return e.every(o=>lO(o,{locale:n}));const r=String(e);return n?(wf[n]||wf.en).test(r):Object.keys(wf).some(o=>wf[o].test(r))},fH=(e,t)=>{const n=Qc(t,"target");return String(e)===String(n)},hH=e=>{if(mo(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function dH(e){return e==null}function pH(e){return Array.isArray(e)&&e.length===0}const fO=(e,t)=>{if(mo(e))return!0;const n=Qc(t,"length");return Array.isArray(e)?e.every(r=>fO(r,{length:n})):String(e).length<=Number(n)},hO=(e,t)=>{if(mo(e))return!0;const n=Qc(t,"max");return Array.isArray(e)?e.length>0&&e.every(r=>hO(r,{max:n})):Number(e)<=Number(n)},dO=(e,t)=>{if(mo(e))return!0;const n=Qc(t,"length");return Array.isArray(e)?e.every(r=>dO(r,{length:n})):String(e).length>=Number(n)},pO=(e,t)=>{if(mo(e))return!0;const n=Qc(t,"min");return Array.isArray(e)?e.length>0&&e.every(r=>pO(r,{min:n})):Number(e)>=Number(n)},mO=(e,t)=>mo(e)?!0:Array.isArray(e)?e.every(n=>mO(n,t)):Array.from(t).some(n=>n==e),rS=(e,t)=>mo(e)?!0:!mO(e,t),iS=e=>dH(e)||pH(e)||e===!1?!1:!!String(e).trim().length;/**
  * vee-validate v4.8.3
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function so(e){return typeof e=="function"}function Ja(e){return e==null}const hs=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function vO(e){return Number(e)>=0}function mH(e){const t=parseFloat(e);return isNaN(t)?e:t}const vH={};function gH(e){return vH[e]}const Yc=Symbol("vee-validate-form"),yH=Symbol("vee-validate-field-instance"),gh=Symbol("Default empty value"),_H=typeof window<"u";function xg(e){return so(e)&&!!e.__locatorRef}function eo(e){return!!e&&so(e.parse)&&e.__type==="VVTypedSchema"}function Za(e){return!!e&&so(e.validate)}function xu(e){return e==="checkbox"||e==="radio"}function wH(e){return hs(e)||Array.isArray(e)}function gO(e){return Array.isArray(e)?e.length===0:hs(e)&&Object.keys(e).length===0}function wd(e){return/^\[.+\]$/i.test(e)}function bH(e){return yO(e)&&e.multiple}function yO(e){return e.tagName==="SELECT"}function EH(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function IH(e,t){return!EH(e,t)&&t.type!=="file"&&!xu(t.type)}function _O(e){return N_(e)&&e.target&&"submit"in e.target}function N_(e){return e?!!(typeof Event<"u"&&so(Event)&&e instanceof Event||e&&e.srcElement):!1}function oS(e,t){return t in e&&e[t]!==gh}function Xt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Xt(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!Xt(r[1],t.get(r[0])))return!1;return!0}if(sS(e)&&sS(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){var s=o[r];if(!Xt(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function sS(e){return _H?e instanceof File:!1}function uS(e,t,n){typeof n.value=="object"&&(n.value=ft(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function ft(e){if(typeof e!="object")return e;var t=0,n,r,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(ft(a))})):s==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(ft(l),ft(a))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(ft(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)uS(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||uS(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function R_(e){return wd(e)?e.replace(/\[|\]/gi,""):e}function Lt(e,t,n){return e?wd(t)?e[R_(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>wH(o)&&s in o?o[s]:n,e):n}function ji(e,t,n){if(wd(t)){e[R_(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<r.length;s++){if(s===r.length-1){o[r[s]]=n;return}(!(r[s]in o)||Ja(o[r[s]]))&&(o[r[s]]=vO(r[s+1])?[]:{}),o=o[r[s]]}}function Av(e,t){if(Array.isArray(e)&&vO(t)){e.splice(Number(t),1);return}hs(e)&&delete e[t]}function bf(e,t){if(wd(t)){delete e[R_(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){Av(r,n[s]);break}if(!(n[s]in r)||Ja(r[n[s]]))break;r=r[n[s]]}const o=n.map((s,a)=>Lt(e,n.slice(0,a).join(".")));for(let s=o.length-1;s>=0;s--)if(gO(o[s])){if(s===0){Av(e,n[0]);continue}Av(o[s-1],n[s-1])}}function rn(e){return Object.keys(e)}function x_(e,t=void 0){const n=uo();return(n==null?void 0:n.provides[e])||jn(e,t)}function Pg(e,t,n){if(Array.isArray(e)){const r=[...e],o=r.findIndex(s=>Xt(s,t));return o>=0?r.splice(o,1):r.push(t),r}return Xt(e,t)?n:t}function aS(e,t=0){let n=null,r=[];return function(...o){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const s=e(...o);r.forEach(a=>a(s)),r=[]},t),new Promise(s=>r.push(s))}}function TH(e,t){return hs(t)&&t.number?mH(e):e}function Dg(e,t){let n;return async function(...o){const s=e(...o);n=s;const a=await s;return s!==n||(n=void 0,t(a,o)),a}}function SH({get:e,set:t}){const n=_t(ft(e()));return it(e,r=>{Xt(r,n.value)||(n.value=ft(r))},{deep:!0}),it(n,r=>{Xt(r,e())||t(ft(r))},{deep:!0}),n}const bd=(e,t,n)=>t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,o;return(o=(r=t.slots).default)===null||o===void 0?void 0:o.call(r,n())}}:t.slots.default;function kv(e){if(wO(e))return e._value}function wO(e){return"_value"in e}function P_(e){if(!N_(e))return e;const t=e.target;if(xu(t.type)&&wO(t))return kv(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(bH(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(kv);if(yO(t)){const n=Array.from(t.options).find(r=>r.selected);return n?kv(n):t.value}return t.value}function bO(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?hs(e)&&e._$$isNormalized?e:hs(e)?Object.keys(e).reduce((n,r)=>{const o=AH(e[r]);return e[r]!==!1&&(n[r]=cS(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const o=kH(r);return o.name&&(n[o.name]=cS(o.params)),n},t):t}function AH(e){return e===!0?[]:Array.isArray(e)||hs(e)?e:[e]}function cS(e){const t=n=>typeof n=="string"&&n[0]==="@"?CH(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const kH=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function CH(e){const t=n=>Lt(n,e)||n[e];return t.__locatorRef=e,t}function OH(e){return Array.isArray(e)?e.filter(xg):rn(e).filter(t=>xg(e[t])).map(t=>e[t])}const NH={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let RH=Object.assign({},NH);const D_=()=>RH;async function EO(e,t,n={}){const r=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},a=(await xH(o,e)).errors;return{errors:a,valid:!a.length}}async function xH(e,t){if(eo(e.rules)||Za(e.rules))return DH(t,e.rules);if(so(e.rules)||Array.isArray(e.rules)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let v=0;v<f;v++){const h=l[v],m=await h(t,a);if(typeof m!="string"&&m)continue;const _=typeof m=="string"?m:TO(a);if(d.push(_),e.bails)return{errors:d}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:bO(e.rules)}),r=[],o=Object.keys(n.rules),s=o.length;for(let a=0;a<s;a++){const l=o[a],f=await LH(n,t,{name:l,params:n.rules[l]});if(f.error&&(r.push(f.error),e.bails))return{errors:r}}return{errors:r}}function PH(e){return!!e&&e.name==="ValidationError"}function IO(e){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!PH(o))throw o;if(!(!((r=o.inner)===null||r===void 0)&&r.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(s)}}}}}async function DH(e,t){const r=await(eo(t)?t:IO(t)).parse(e),o=[];for(const s of r.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function LH(e,t,n){const r=gH(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const o=MH(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await r(t,o,s);return typeof a=="string"?{error:a}:{error:a?void 0:TO(s)}}function TO(e){const t=D_().generateMessage;return t?t(e):"Field is invalid"}function MH(e,t){const n=r=>xg(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,o)=>(r[o]=n(e[o]),r),{})}async function FH(e,t){const r=await(eo(e)?e:IO(e)).parse(t),o={},s={};for(const a of r.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,v)=>`[${v}]`);o[f]={valid:!l.length,errors:l},l.length&&(s[f]=l[0])}return{valid:!r.errors.length,results:o,errors:s,values:r.value}}async function VH(e,t,n){const o=rn(e).map(async d=>{var v,h,m;const y=(v=n==null?void 0:n.names)===null||v===void 0?void 0:v[d],_=await EO(Lt(t,d),e[d],{name:(y==null?void 0:y.name)||d,label:y==null?void 0:y.label,values:t,bails:(m=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[d])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},_),{path:d})});let s=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,f[d.path]=d.errors[0]);return{valid:s,results:l,errors:f}}let lS=0;function jH(e,t){const{value:n,initialValue:r,setInitialValue:o}=SO(e,t.modelValue,t.form),{errorMessage:s,errors:a,setErrors:l}=BH(e,t.form),f=UH(n,r,a),d=lS>=Number.MAX_SAFE_INTEGER?0:++lS;function v(h){var m;"value"in h&&(n.value=h.value),"errors"in h&&l(h.errors),"touched"in h&&(f.touched=(m=h.touched)!==null&&m!==void 0?m:f.touched),"initialValue"in h&&o(h.initialValue)}return{id:d,path:e,value:n,initialValue:r,meta:f,errors:a,errorMessage:s,setState:v}}function SO(e,t,n){const r=_t(G(t));function o(){return n?Lt(n.meta.value.initialValues,G(e),G(r)):G(r)}function s(d){if(!n){r.value=d;return}n.stageInitialValue(G(e),d,!0)}const a=xe(o);if(!n)return{value:_t(o()),initialValue:a,setInitialValue:s};const l=t?G(t):Lt(n.values,G(e),G(a));return n.stageInitialValue(G(e),l,!0),{value:xe({get(){return Lt(n.values,G(e))},set(d){n.setFieldValue(G(e),d)}}),initialValue:a,setInitialValue:s}}function UH(e,t,n){const r=mr({touched:!1,pending:!1,valid:!0,validated:!!G(n).length,initialValue:xe(()=>G(t)),dirty:xe(()=>!Xt(G(e),G(t)))});return it(n,o=>{r.valid=!o.length},{immediate:!0,flush:"sync"}),r}function BH(e,t){function n(o){return o?Array.isArray(o)?o:[o]:[]}if(!t){const o=_t([]);return{errors:o,errorMessage:xe(()=>o.value[0]),setErrors:s=>{o.value=n(s)}}}const r=xe(()=>t.errorBag.value[G(e)]||[]);return{errors:r,errorMessage:xe(()=>r.value[0]),setErrors:o=>{t.setFieldErrorBag(G(e),n(o))}}}function qH(e,t,n){return xu(n==null?void 0:n.type)?KH(e,t,n):AO(e,t,n)}function AO(e,t,n){const{initialValue:r,validateOnMount:o,bails:s,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:v,controlled:h,keepValueOnUnmount:m,modelPropName:y,syncVModel:_,form:b}=$H(G(e),n),S=h?x_(Yc):void 0,I=b||S;let R=!1;const{id:M,value:U,initialValue:P,meta:O,setState:j,errors:x,errorMessage:F}=jH(e,{modelValue:r,form:I});_&&GH({value:U,prop:y,handleChange:he});const A=()=>{O.touched=!0},be=xe(()=>{let L=G(t);const H=G(I==null?void 0:I.schema);return H&&!Za(H)&&!eo(H)&&(L=HH(H,G(e))||L),Za(L)||eo(L)||so(L)||Array.isArray(L)?L:bO(L)});async function oe(L){var H,ee;return I!=null&&I.validateSchema?(H=(await I.validateSchema(L)).results[G(e)])!==null&&H!==void 0?H:{valid:!0,errors:[]}:EO(U.value,be.value,{name:G(e),label:G(f),values:(ee=I==null?void 0:I.values)!==null&&ee!==void 0?ee:{},bails:s})}const we=Dg(async()=>(O.pending=!0,O.validated=!0,oe("validated-only")),L=>(R&&(L.valid=!0,L.errors=[]),j({errors:L.errors}),O.pending=!1,L)),Ee=Dg(async()=>oe("silent"),L=>(R&&(L.valid=!0),O.valid=L.valid,L));function Ae(L){return(L==null?void 0:L.mode)==="silent"?Ee():we()}function he(L,H=!0){const ee=P_(L);U.value=ee,!d&&H&&we()}Mu(()=>{if(o)return we();(!I||!I.validateSchema)&&Ee()});function de(L){O.touched=L}let pe,et=ft(U.value);function Ye(){pe=it(U,(L,H)=>{if(Xt(L,H)&&Xt(L,et))return;(d?we:Ee)(),et=ft(L)},{deep:!0})}Ye();function tt(L){var H;pe==null||pe();const ee=L&&"value"in L?L.value:P.value;j({value:ft(ee),initialValue:ft(ee),touched:(H=L==null?void 0:L.touched)!==null&&H!==void 0?H:!1,errors:(L==null?void 0:L.errors)||[]}),O.pending=!1,O.validated=!1,Ee(),er(()=>{Ye()})}function nt(L){U.value=L}function Nt(L){j({errors:Array.isArray(L)?L:[L]})}const vt={id:M,name:e,label:f,value:U,meta:O,errors:x,errorMessage:F,type:a,checkedValue:l,uncheckedValue:v,bails:s,keepValueOnUnmount:m,resetField:tt,handleReset:()=>tt(),validate:Ae,handleChange:he,handleBlur:A,setState:j,setTouched:de,setErrors:Nt,setValue:nt};if(Qi(yH,vt),at(t)&&typeof G(t)!="function"&&it(t,(L,H)=>{Xt(L,H)||(O.validated?we():Ee())},{deep:!0}),!I)return vt;I.register(vt),Fu(()=>{R=!0,I.unregister(vt)});const J=xe(()=>{const L=be.value;return!L||so(L)||Za(L)||eo(L)||Array.isArray(L)?{}:Object.keys(L).reduce((H,ee)=>{const De=OH(L[ee]).map(je=>je.__locatorRef).reduce((je,Te)=>{const k=Lt(I.values,Te)||I.values[Te];return k!==void 0&&(je[Te]=k),je},{});return Object.assign(H,De),H},{})});return it(J,(L,H)=>{if(!Object.keys(L).length)return;!Xt(L,H)&&(O.validated?we():Ee())}),vt}function $H(e,t){var n;const r=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),s=((n=t==null?void 0:t.syncVModel)!==null&&n!==void 0?n:!0)&&!("initialValue"in(t||{}))?Lg(uo(),(t==null?void 0:t.modelPropName)||"modelValue"):t==null?void 0:t.initialValue;if(!t)return Object.assign(Object.assign({},r()),{initialValue:s});const a="valueProp"in t?t.valueProp:t.checkedValue,l="standalone"in t?!t.standalone:t.controlled;return Object.assign(Object.assign(Object.assign({},r()),t||{}),{initialValue:s,controlled:l??!0,checkedValue:a})}function HH(e,t){if(e)return e[t]}function KH(e,t,n){const r=n!=null&&n.standalone?void 0:x_(Yc),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=xe(()=>{const h=G(l.value),m=G(o);return Array.isArray(h)?h.findIndex(y=>Xt(y,m))>=0:Xt(m,h)});function v(h,m=!0){var y;if(d.value===((y=h==null?void 0:h.target)===null||y===void 0?void 0:y.checked)){m&&l.validate();return}let _=P_(h);r||(_=Pg(G(l.value),G(o),G(s))),f(_,m)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:s,handleChange:v})}return a(AO(e,t,n))}function GH({prop:e,value:t,handleChange:n}){const r=uo();if(!r)return;const o=e||"modelValue",s=`update:${o}`;o in r.props&&(it(t,a=>{Xt(a,Lg(r,o))||r.emit(s,a)}),it(()=>Lg(r,o),a=>{if(a===gh&&t.value===void 0)return;const l=a===gh?void 0:a;Xt(l,TH(t.value,r.props.modelModifiers))||n(l)}))}function Lg(e,t){if(e)return e.props[t]}ei({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>D_().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:gh},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Gt(e,"rules"),r=Gt(e,"name"),o=Gt(e,"label"),s=Gt(e,"uncheckedValue"),a=Gt(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:v,handleChange:h,handleBlur:m,setTouched:y,resetField:_,handleReset:b,meta:S,checked:I,setErrors:R}=qH(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:WH(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:!1,keepValueOnUnmount:a}),M=function(F,A=!0){h(F,A),t.emit("update:modelValue",f.value)},U=x=>{xu(t.attrs.type)||(f.value=P_(x))},P=function(F){U(F),t.emit("update:modelValue",f.value)},O=xe(()=>{const{validateOnInput:x,validateOnChange:F,validateOnBlur:A,validateOnModelUpdate:be}=zH(e),oe=[m,t.attrs.onBlur,A?v:void 0].filter(Boolean),we=[de=>M(de,x),t.attrs.onInput].filter(Boolean),Ee=[de=>M(de,F),t.attrs.onChange].filter(Boolean),Ae={name:e.name,onBlur:oe,onInput:we,onChange:Ee};Ae["onUpdate:modelValue"]=de=>M(de,be),xu(t.attrs.type)&&I&&(Ae.checked=I.value);const he=fS(e,t);return IH(he,t.attrs)&&(Ae.value=f.value),Ae});function j(){return{field:O.value,value:f.value,meta:S,errors:l.value,errorMessage:d.value,validate:v,resetField:_,handleChange:M,handleInput:P,handleReset:b,handleBlur:m,setTouched:y,setErrors:R}}return t.expose({setErrors:R,setTouched:y,reset:_,validate:v,handleChange:h}),()=>{const x=ds(fS(e,t)),F=bd(x,t,j);return x?xr(x,Object.assign(Object.assign({},t.attrs),O.value),F):F}}});function fS(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function zH(e){var t,n,r,o;const{validateOnInput:s,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=D_();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function WH(e,t){return xu(t.attrs.type)?oS(e,"modelValue")?e.modelValue:void 0:oS(e,"modelValue")?e.modelValue:t.attrs.value}let XH=0;function kO(e){const t=G(e==null?void 0:e.initialValues)||{};return e!=null&&e.validationSchema&&eo(e.validationSchema)&&so(e.validationSchema.cast)?ft(e.validationSchema.cast(t)||{}):ft(t)}function QH(e){var t;const n=XH++,r=new Set;let o=!1;const s=_t({}),a=_t(!1),l=_t(0),f=[],d=mr(kO(e)),{errorBag:v,setErrorBag:h,setFieldErrorBag:m}=ZH(e==null?void 0:e.initialErrors),y=xe(()=>rn(v.value).reduce((T,N)=>{const V=v.value[N];return V&&V.length&&(T[N]=V[0]),T},{}));function _(T){const N=s.value[T];return Array.isArray(N)?N[0]:N}function b(T){return!!s.value[T]}const S=xe(()=>rn(s.value).reduce((T,N)=>{const V=_(N);return V&&(T[N]={name:G(V.name)||"",label:G(V.label)||""}),T},{})),I=xe(()=>rn(s.value).reduce((T,N)=>{var V;const $=_(N);return $&&(T[N]=(V=$.bails)!==null&&V!==void 0?V:!0),T},{})),R=Object.assign({},(e==null?void 0:e.initialErrors)||{}),M=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:U,originalInitialValues:P,setInitialValues:O}=JH(s,d,e),j=YH(s,d,P,y),x=xe(()=>[...r,...rn(s.value)].reduce((T,N)=>{const V=Lt(d,N);return ji(T,N,V),T},{})),F=e==null?void 0:e.validationSchema,A=aS(se,5),be=aS(se,5),oe=Dg(async T=>await T==="silent"?A():be(),(T,[N])=>{const V=he.fieldsByPath.value||{},$=rn(he.errorBag.value);return[...new Set([...rn(T.results),...rn(V),...$])].reduce((te,X)=>{const ve=V[X],Le=(T.results[X]||{errors:[]}).errors,Ve={errors:Le,valid:!Le.length};if(te.results[X]=Ve,Ve.valid||(te.errors[X]=Ve.errors[0]),!ve)return Ye(X,Le),te;if(pe(ve,Ge=>Ge.meta.valid=Ve.valid),N==="silent")return te;const Kn=Array.isArray(ve)?ve.some(Ge=>Ge.meta.validated):ve.meta.validated;return N==="validated-only"&&!Kn||pe(ve,Ge=>Ge.setState({errors:Ve.errors})),te},{valid:T.valid,results:{},errors:{}})});function we(T){return function(V,$){return function(te){return te instanceof Event&&(te.preventDefault(),te.stopPropagation()),H(rn(s.value).reduce((X,ve)=>(X[ve]=!0,X),{})),a.value=!0,l.value++,B().then(X=>{const ve=ft(d);if(X.valid&&typeof V=="function"){const Le=ft(x.value);let Ve=T?Le:ve;return X.values&&(Ve=X.values),V(Ve,{evt:te,controlledValues:Le,setErrors:tt,setFieldError:Ye,setTouched:H,setFieldTouched:L,setValues:Nt,setFieldValue:nt,resetForm:De,resetField:ee})}!X.valid&&typeof $=="function"&&$({values:ve,evt:te,errors:X.errors,results:X.results})}).then(X=>(a.value=!1,X),X=>{throw a.value=!1,X})}}}const Ae=we(!1);Ae.withControlled=we(!0);const he={formId:n,fieldsByPath:s,values:d,controlledValues:x,errorBag:v,errors:y,schema:F,submitCount:l,meta:j,isSubmitting:a,fieldArrays:f,keepValuesOnUnmount:M,validateSchema:G(F)?oe:void 0,validate:B,register:k,unregister:D,setFieldErrorBag:m,validateField:W,setFieldValue:nt,setValues:Nt,setErrors:tt,setFieldError:Ye,setFieldTouched:L,setTouched:H,resetForm:De,resetField:ee,handleSubmit:Ae,stageInitialValue:ae,unsetInitialValue:Q,setFieldInitialValue:le,useFieldModel:J};function de(T){return Array.isArray(T)}function pe(T,N){return Array.isArray(T)?T.forEach(N):N(T)}function et(T){Object.values(s.value).forEach(N=>{N&&pe(N,T)})}function Ye(T,N){m(T,N)}function tt(T){h(T)}function nt(T,N,{force:V}={force:!1}){var $;const re=s.value[T],te=ft(N);if(!re){ji(d,T,te);return}if(de(re)&&(($=re[0])===null||$===void 0?void 0:$.type)==="checkbox"&&!Array.isArray(N)){const ve=ft(Pg(Lt(d,T)||[],N,void 0));ji(d,T,ve);return}let X=te;!de(re)&&re.type==="checkbox"&&!V&&!o&&(X=ft(Pg(Lt(d,T),N,G(re.uncheckedValue)))),ji(d,T,X)}function Nt(T){rn(d).forEach(N=>{delete d[N]}),rn(T).forEach(N=>{nt(N,T[N])}),f.forEach(N=>N&&N.reset())}function vt(T){const{value:N}=SO(T,void 0,he);return it(N,()=>{b(G(T))||B({mode:"validated-only"})},{deep:!0}),r.add(G(T)),N}function J(T){return Array.isArray(T)?T.map(vt):vt(T)}function L(T,N){const V=s.value[T];V&&pe(V,$=>$.setTouched(N))}function H(T){rn(T).forEach(N=>{L(N,!!T[N])})}function ee(T,N){const V=s.value[T];V&&pe(V,$=>$.resetField(N))}function De(T){o=!0,et(V=>V.resetField());const N=T!=null&&T.values?T.values:P.value;O(N),Nt(N),T!=null&&T.touched&&H(T.touched),tt((T==null?void 0:T.errors)||{}),l.value=(T==null?void 0:T.submitCount)||0,er(()=>{o=!1})}function je(T,N){const V=no(T),$=N;if(!s.value[$]){s.value[$]=V;return}const re=s.value[$];re&&!Array.isArray(re)&&(s.value[$]=[re]),s.value[$]=[...s.value[$],V]}function Te(T,N){const V=N,$=s.value[V];if($){if(!de($)&&T.id===$.id){delete s.value[V];return}if(de($)){const re=$.findIndex(te=>te.id===T.id);if(re===-1)return;$.splice(re,1),$.length||delete s.value[V]}}}function k(T){const N=G(T.name);je(T,N),at(T.name)&&it(T.name,async($,re)=>{await er(),Te(T,re),je(T,$),(y.value[re]||y.value[$])&&(Ye(re,void 0),W($)),await er(),b(re)||bf(d,re)});const V=G(T.errorMessage);V&&(R==null?void 0:R[N])!==V&&W(N),delete R[N]}function D(T){const N=G(T.name),V=s.value[N],$=!!V&&de(V);Te(T,N),er(()=>{var re;const te=(re=G(T.keepValueOnUnmount))!==null&&re!==void 0?re:G(M),X=Lt(d,N);if($&&(V===s.value[N]||!s.value[N])&&!te)if(Array.isArray(X)){const Le=X.findIndex(Ve=>Xt(Ve,G(T.checkedValue)));if(Le>-1){const Ve=[...X];Ve.splice(Le,1),nt(N,Ve,{force:!0})}}else X===G(T.checkedValue)&&bf(d,N);if(!b(N)){if(Ye(N,void 0),te||$&&Array.isArray(X)&&!gO(X))return;bf(d,N)}})}async function B(T){const N=(T==null?void 0:T.mode)||"force";if(N==="force"&&et(te=>te.meta.validated=!0),he.validateSchema)return he.validateSchema(N);const V=await Promise.all(Object.values(s.value).map(te=>{const X=Array.isArray(te)?te[0]:te;return X?X.validate(T).then(ve=>({key:G(X.name),valid:ve.valid,errors:ve.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),$={},re={};for(const te of V)$[te.key]={valid:te.valid,errors:te.errors},te.errors.length&&(re[te.key]=te.errors[0]);return{valid:V.every(te=>te.valid),results:$,errors:re}}async function W(T){const N=s.value[T];return N?Array.isArray(N)?N.map(V=>V.validate())[0]:N.validate():Promise.resolve({errors:[],valid:!0})}function Q(T){bf(U.value,T)}function ae(T,N,V=!1){ji(d,T,N),le(T,N),V&&!(e!=null&&e.initialValues)&&ji(P.value,T,ft(N))}function le(T,N){ji(U.value,T,ft(N))}async function se(){const T=G(F);return T?Za(T)||eo(T)?await FH(T,d):await VH(T,d,{names:S.value,bailsMap:I.value}):{valid:!0,results:{},errors:{}}}const fe=Ae((T,{evt:N})=>{_O(N)&&N.target.submit()});return Mu(()=>{if(e!=null&&e.initialErrors&&tt(e.initialErrors),e!=null&&e.initialTouched&&H(e.initialTouched),e!=null&&e.validateOnMount){B();return}he.validateSchema&&he.validateSchema("silent")}),at(F)&&it(F,()=>{var T;(T=he.validateSchema)===null||T===void 0||T.call(he,"validated-only")}),Qi(Yc,he),Object.assign(Object.assign({},he),{handleReset:()=>De(),submitForm:fe})}function YH(e,t,n,r){const o={touched:"some",pending:"some",valid:"every"},s=xe(()=>!Xt(t,G(n)));function a(){const f=Object.values(e.value).flat(1).filter(Boolean);return rn(o).reduce((d,v)=>{const h=o[v];return d[v]=f[h](m=>m.meta[v]),d},{})}const l=mr(a());return $S(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),xe(()=>Object.assign(Object.assign({initialValues:G(n)},l),{valid:l.valid&&!rn(r.value).length,dirty:s.value}))}function JH(e,t,n){const r=kO(n),o=n==null?void 0:n.initialValues,s=_t(r),a=_t(ft(r));function l(f,d=!1){s.value=ft(f),a.value=ft(f),d&&rn(e.value).forEach(v=>{const h=e.value[v],m=Array.isArray(h)?h.some(_=>_.meta.touched):h==null?void 0:h.meta.touched;if(!h||m)return;const y=Lt(s.value,v);ji(t,v,ft(y))})}return at(o)&&it(o,f=>{l(f,!0)},{deep:!0}),{initialValues:s,originalInitialValues:a,setInitialValues:l}}function ZH(e){const t=_t({});function n(s){return Array.isArray(s)?s:s?[s]:[]}function r(s,a){if(!a){delete t.value[s];return}t.value[s]=n(a)}function o(s){t.value=rn(s).reduce((a,l)=>{const f=s[l];return f&&(a[l]=n(f)),a},{})}return e&&o(e),{errorBag:t,setErrorBag:o,setFieldErrorBag:r}}ei({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Gt(e,"initialValues"),r=Gt(e,"validationSchema"),o=Gt(e,"keepValues"),{errors:s,errorBag:a,values:l,meta:f,isSubmitting:d,submitCount:v,controlledValues:h,validate:m,validateField:y,handleReset:_,resetForm:b,handleSubmit:S,setErrors:I,setFieldError:R,setFieldValue:M,setValues:U,setFieldTouched:P,setTouched:O,resetField:j}=QH({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),x=S((he,{evt:de})=>{_O(de)&&de.target.submit()},e.onInvalidSubmit),F=e.onSubmit?S(e.onSubmit,e.onInvalidSubmit):x;function A(he){N_(he)&&he.preventDefault(),_(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function be(he,de){return S(typeof he=="function"&&!de?he:de,e.onInvalidSubmit)(he)}function oe(){return ft(l)}function we(){return ft(f.value)}function Ee(){return ft(s.value)}function Ae(){return{meta:f.value,errors:s.value,errorBag:a.value,values:l,isSubmitting:d.value,submitCount:v.value,controlledValues:h.value,validate:m,validateField:y,handleSubmit:be,handleReset:_,submitForm:x,setErrors:I,setFieldError:R,setFieldValue:M,setValues:U,setFieldTouched:P,setTouched:O,resetForm:b,resetField:j,getValues:oe,getMeta:we,getErrors:Ee}}return t.expose({setFieldError:R,setErrors:I,setFieldValue:M,setValues:U,setFieldTouched:P,setTouched:O,resetForm:b,validate:m,validateField:y,resetField:j,getValues:oe,getMeta:we,getErrors:Ee}),function(){const de=e.as==="form"?e.as:ds(e.as),pe=bd(de,t,Ae);if(!e.as)return pe;const et=e.as==="form"?{novalidate:!0}:{};return xr(de,Object.assign(Object.assign(Object.assign({},et),t.attrs),{onSubmit:F,onReset:A}),pe)}}});function eK(e){const t=x_(Yc,void 0),n=_t([]),r=()=>{},o={fields:n,remove:r,push:r,swap:r,insert:r,update:r,replace:r,prepend:r,move:r};if(!t||!G(e))return o;const s=t.fieldArrays.find(P=>G(P.path)===G(e));if(s)return s;let a=0;function l(){return Lt(t==null?void 0:t.values,G(e),[])||[]}function f(){const P=l();n.value=P.map(v),d()}f();function d(){const P=n.value.length;for(let O=0;O<P;O++){const j=n.value[O];j.isFirst=O===0,j.isLast=O===P-1}}function v(P){const O=a++;return{key:O,value:SH({get(){const x=Lt(t==null?void 0:t.values,G(e),[])||[],F=n.value.findIndex(A=>A.key===O);return F===-1?P:x[F]},set(x){const F=n.value.findIndex(A=>A.key===O);F!==-1&&I(F,x)}}),isFirst:!1,isLast:!1}}function h(){d(),t==null||t.validate({mode:"silent"})}function m(P){const O=G(e),j=Lt(t==null?void 0:t.values,O);if(!j||!Array.isArray(j))return;const x=[...j];x.splice(P,1),t==null||t.unsetInitialValue(O+`[${P}]`),t==null||t.setFieldValue(O,x),n.value.splice(P,1),h()}function y(P){const O=G(e),j=Lt(t==null?void 0:t.values,O),x=Ja(j)?[]:j;if(!Array.isArray(x))return;const F=[...x];F.push(P),t==null||t.stageInitialValue(O+`[${F.length-1}]`,P),t==null||t.setFieldValue(O,F),n.value.push(v(P)),h()}function _(P,O){const j=G(e),x=Lt(t==null?void 0:t.values,j);if(!Array.isArray(x)||!(P in x)||!(O in x))return;const F=[...x],A=[...n.value],be=F[P];F[P]=F[O],F[O]=be;const oe=A[P];A[P]=A[O],A[O]=oe,t==null||t.setFieldValue(j,F),n.value=A,d()}function b(P,O){const j=G(e),x=Lt(t==null?void 0:t.values,j);if(!Array.isArray(x)||x.length<P)return;const F=[...x],A=[...n.value];F.splice(P,0,O),A.splice(P,0,v(O)),t==null||t.setFieldValue(j,F),n.value=A,h()}function S(P){const O=G(e);t==null||t.setFieldValue(O,P),f(),h()}function I(P,O){const j=G(e),x=Lt(t==null?void 0:t.values,j);!Array.isArray(x)||x.length-1<P||(t==null||t.setFieldValue(`${j}[${P}]`,O),t==null||t.validate({mode:"validated-only"}))}function R(P){const O=G(e),j=Lt(t==null?void 0:t.values,O),x=Ja(j)?[]:j;if(!Array.isArray(x))return;const F=[P,...x];t==null||t.stageInitialValue(O+`[${F.length-1}]`,P),t==null||t.setFieldValue(O,F),n.value.unshift(v(P)),h()}function M(P,O){const j=G(e),x=Lt(t==null?void 0:t.values,j),F=Ja(x)?[]:[...x];if(!Array.isArray(x)||!(P in x)||!(O in x))return;const A=[...n.value],be=A[P];A.splice(P,1),A.splice(O,0,be);const oe=F[P];F.splice(P,1),F.splice(O,0,oe),t==null||t.setFieldValue(j,F),n.value=A,h()}const U={fields:n,remove:m,push:y,swap:_,insert:b,update:I,replace:S,prepend:R,move:M};return t.fieldArrays.push(Object.assign({path:e,reset:f},U)),Fu(()=>{const P=t.fieldArrays.findIndex(O=>G(O.path)===G(e));P>=0&&t.fieldArrays.splice(P,1)}),it(l,P=>{const O=n.value.map(j=>j.value);Xt(P,O)||f()}),U}ei({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(e,t){const{push:n,remove:r,swap:o,insert:s,replace:a,update:l,prepend:f,move:d,fields:v}=eK(Gt(e,"name"));function h(){return{fields:v.value,push:n,remove:r,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}}return t.expose({push:n,remove:r,swap:o,insert:s,update:l,replace:a,prepend:f,move:d}),()=>bd(void 0,t,h)}});ei({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=jn(Yc,void 0),r=xe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?ds(e.as):e.as,a=bd(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?xr(s||"span",l,r.value):xr(s,l,a)}}});const tK={install(e){e.component("VeeForm",F$),e.component("VeeField",N$),e.component("ErrorMessage",yd),Er("required",iS),Er("tos",iS),Er("min",dO),Er("max",fO),Er("alpha_spaces",lO),Er("email",hH),Er("min_value",pO),Er("max_value",hO),Er("psw_mismatch",fH),Er("excluded",rS),Er("country_excluded",rS),f$({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,tos:"You must accept the terms of Service.",min:`The field ${t.field} is too short.`,max:`The field ${t.field} is too long.`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,email:`The field ${t.field} must be a valid email.`,alpha_spaces:`The field ${t.field} may only contain alphabetical character or space.`,excluded:`You are not allowed to use this value for the field ${t.field}`,country_excluded:"Due to restrictions, we do not accept users from this location.",psw_mismatch:"The password do not match."};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0})}};Rr.onAuthStateChanged(()=>{{const e=YL(D3);e.use(eM()),e.use(cO),e.use(tK),e.mount("#app")}});
